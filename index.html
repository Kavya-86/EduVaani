<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduVaani Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* --- General & Student/Teacher Dashboard Styles --- */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8; /* Original background color */
            cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-zap"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon></svg>') 12 12, auto;
            background-attachment: fixed;
            transition: background 0.5s ease-in-out;
        }
        .card {
            border-radius: 1.5rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease-in-out;
        }
        .card:hover {
            transform: translateY(-5px);
        }
        .progress-bar {
            height: 10px;
            background-color: #e2e8f0;
            border-radius: 9999px;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            transition: width 0.5s ease-in-out;
            border-radius: 9999px;
        }
        .badge-icon {
            font-size: 2.5rem;
            transition: transform 0.2s ease-in-out;
        }
        .badge-icon:hover {
            transform: scale(1.1);
        }
        .btn-start {
            background-image: linear-gradient(to right, #6EE7B7, #34D399);
            transition: all 0.3s ease-in-out;
        }
        .btn-start:hover {
            transform: scale(1.05) rotate(2deg);
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.4);
        }
        .btn-generate {
            background-image: linear-gradient(to right, #8B5CF6, #EC4899);
            transition: all 0.3s ease-in-out;
        }
        .btn-generate:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(109, 40, 217, 0.4);
        }
        .loading-spinner {
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-top: 4px solid #fff;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* --- Parent Dashboard Specific Styles --- */
        h1, h2, h3 { font-family: 'Poppins', sans-serif; font-weight: 700; }
        .parent-dashboard-bg {
            background: linear-gradient(135deg, #f0f9ff 0%, #eef2f7 100%);
            color: #334155;
        }
        .parent-dashboard-bg .themed-header { color: #1e293b; }
        .parent-dashboard-bg .themed-text { color: #475569; }
       
        .dashboard-card {
            background-color: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 24px;
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.18);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .dashboard-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 40px 0 rgba(31, 38, 135, 0.15);
        }
        @keyframes slide-in-up {
            from { opacity: 0; transform: translateY(40px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-slide-in-up {
            animation: slide-in-up 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94) both;
            opacity: 0;
        }

        /* NEW Parent Animations */
        @keyframes fill-progress {
            from { width: 0%; }
        }
        .progress-bar-animated > div {
            animation: fill-progress 1.5s ease-out forwards;
        }
        .stat-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .stat-card:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        @keyframes pulse-avatar {
            0%, 100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(49, 196, 141, 0.4); }
            50% { transform: scale(1.05); box-shadow: 0 0 0 10px rgba(49, 196, 141, 0); }
        }
        .avatar-pulse {
            animation: pulse-avatar 2.5s infinite;
        }
       
        /* --- Styles for the added student dashboard sections --- */
        .spinner {
            border-top-color: #3498db;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        /* Style for the audio icon button */
        .audio-btn-playing svg {
            animation: pulse 1.5s infinite;
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }
       
        /* --- Monkey Animation Styles --- */
        @keyframes fall-down {
            from { transform: translateY(-100vh) rotate(-60deg); }
            to { transform: translateY(0) rotate(0deg); }
        }
        @keyframes go-up {
            from { transform: translateY(0) rotate(0deg); }
            to { transform: translateY(-100vh) rotate(60deg); }
        }
        .animate-fall {
            animation: fall-down 0.8s cubic-bezier(0.6, -0.28, 0.735, 0.045) forwards; /* EaseInBack curve */
        }
        .animate-rise {
            animation: go-up 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275) 0.2s forwards; /* EaseOutBack curve with a slight delay */
        }

        /* --- New Engagement Animations --- */
        @keyframes jiggle {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(-3deg); }
            75% { transform: rotate(3deg); }
        }
        .group:hover .jiggle-on-hover {
            animation: jiggle 0.4s;
        }

        /* Pulsing glow for AI feature buttons */
        @keyframes glow {
            0%, 100% { box-shadow: 0 0 8px rgba(168, 85, 247, 0.5); }
            50% { box-shadow: 0 0 16px rgba(168, 85, 247, 0.9); }
        }
        .ai-glow {
            animation: glow 2s infinite ease-in-out;
        }

        /* Engaging Loading Animations */
        @keyframes thinking {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.8; }
            100% { transform: scale(1); opacity: 1; }
        }
        .loader-thinking {
            font-size: 2.5rem;
            animation: thinking 1.5s infinite ease-in-out;
        }
       
        @keyframes page-turn {
            0% { transform: rotateY(0deg); }
            100% { transform: rotateY(360deg); }
        }
        .loader-book {
              font-size: 2.5rem;
              animation: page-turn 2s infinite linear;
        }
       
        /* Styles for Math Bullseye game */
        #math-game-modal #game-container {
            background-color: #121212;
            border-radius: 12px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5);
            padding: 24px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        #math-game-modal canvas {
            background-color: transparent;
            touch-action: none;
            display: block;
        }
        #math-game-modal #ui-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 24px;
            box-sizing: border-box;
            pointer-events: none;
        }
        #math-game-modal #game-over-screen {
            pointer-events: auto;
            display: none;
            flex-direction: column;
            align-items: center;
            text-align: center;
            background-color: rgba(10, 10, 30, 0.95);
            border-radius: 12px;
            padding: 40px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.4);
            max-width: 90%;
            color: #f3f4f6;
        }
        #math-game-modal #game-over-screen h1 {
            font-weight: 700;
            font-size: 2.5rem;
            color: #ffc400;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        #math-game-modal .score-display {
            font-size: 1.5rem;
            font-weight: 700;
            color: #f3f4f6;
            margin-top: 20px;
        }
        #math-game-modal .button {
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            margin: 0 10px;
        }
        #math-game-modal .button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        #math-game-modal #play-again-btn {
            background-color: #404080;
            color: white;
        }
        #math-game-modal #play-again-btn:hover {
            background-color: #7070a0;
        }
        #math-game-modal #quit-btn {
            background-color: #404080;
            color: white;
        }
        #math-game-modal #quit-btn:hover {
            background-color: #7070a0;
        }
        #math-game-modal .leaderboard {
            width: 100%;
            max-width: 300px;
            margin-top: 30px;
        }
        #math-game-modal .leaderboard h3 {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 10px;
            color: #e6e6cc;
        }
        #math-game-modal .leaderboard ol {
            list-style-type: none;
            padding: 0;
        }
        #math-game-modal .leaderboard li {
            font-size: 1rem;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            color: #f3f4f6;
        }
        #math-game-modal .leaderboard li:last-child {
            border-bottom: none;
        }
        #math-game-modal .leaderboard .top-3 {
            color: #ffc400;
        }
        #math-game-modal .leaderboard .top-3:nth-child(2) {
            color: #c0c0c0;
        }
        #math-game-modal .leaderboard .top-3:nth-child(3) {
            color: #cd7f32;
        }

        /* Puzzle Mania Modal styles */
        #puzzle-mania-modal #game-container {
            background-color: #2c3e50;
            border-radius: 1rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            max-width: 600px;
            width: 95%;
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        #puzzle-mania-modal .game-board {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            width: 100%;
            max-width: 400px;
        }
        #puzzle-mania-modal .card {
            background-color: #34495e;
            color: white;
            padding: 1rem;
            font-size: 2rem;
            text-align: center;
            border-radius: 0.5rem;
            cursor: pointer;
            user-select: none;
            transition: all 0.3s ease;
            transform-style: preserve-3d;
            position: relative;
        }
        #puzzle-mania-modal .card-inner {
            width: 100%;
            height: 100%;
            transition: transform 0.6s;
            transform-style: preserve-3d;
            position: relative;
        }
        #puzzle-mania-modal .card.flipped .card-inner {
            transform: rotateY(180deg);
        }
        #puzzle-mania-modal .card-front,
        #puzzle-mania-modal .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 0.5rem;
        }
        #puzzle-mania-modal .card-front {
            background-color: #e74c3c;
            transform: rotateY(180deg);
        }
        #puzzle-mania-modal .card-back {
            background-color: #95a5a6;
        }
        #puzzle-mania-modal .card.matched .card-front {
            background-color: #2ecc71;
        }
        #puzzle-mania-modal #game-info {
            width: 100%;
            max-width: 400px;
        }
        #puzzle-mania-modal #start-button, #puzzle-mania-modal #quit-game-btn {
            background-color: #3498db;
            color: white;
            font-size: 1.25rem;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        #puzzle-mania-modal #start-button:hover, #puzzle-mania-modal #quit-game-btn:hover {
            background-color: #2980b9;
        }
    </style>
</head>
<body class="p-4 md:p-10">

    <div id="message-container" class="fixed top-5 left-1/2 -translate-x-1/2 bg-blue-500 text-white px-6 py-3 rounded-full shadow-lg z-50 transform scale-0 opacity-0 transition-all duration-300">
        <span id="message-text"></span>
    </div>

    <div id="role-selection-modal" class="fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-50 hidden">
        <div class="bg-white p-10 rounded-3xl shadow-2xl text-center">
            <h2 id="role-modal-title" class="text-3xl font-bold mb-6 text-indigo-800">Select Your Role</h2>
            <div class="flex space-x-6">
                <button id="student-role-btn" class="px-8 py-4 rounded-full font-bold text-xl text-white bg-blue-500 hover:bg-blue-600 transition-colors">
                    <i class="fas fa-user-graduate mr-2"></i> <span class="role-student-text">Student</span>
                </button>
                <button id="teacher-role-btn" class="px-8 py-4 rounded-full font-bold text-xl text-white bg-indigo-500 hover:bg-indigo-600 transition-colors">
                    <i class="fas fa-chalkboard-teacher mr-2"></i> <span class="role-teacher-text">Teacher</span>
                </button>
                <button id="parent-role-btn" class="px-8 py-4 rounded-full font-bold text-xl text-white bg-teal-500 hover:bg-teal-600 transition-colors">
                    <i class="fas fa-user-friends mr-2"></i> <span class="role-parent-text">Parent</span>
                </button>
            </div>
        </div>
    </div>
   
    <button id="role-switch-btn" class="fixed bottom-5 right-5 z-40 bg-gray-800 text-white px-4 py-2 rounded-full shadow-lg hover:bg-gray-700 transition-colors hidden">
        Switch Role
    </button>
   
    <div id="login-modal" class="fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-50">
        <div class="bg-white p-10 rounded-3xl shadow-2xl text-center w-full max-w-md">
            <h2 id="login-modal-title" class="text-3xl font-bold mb-6 text-indigo-800">Login with Phone</h2>
            <form id="login-form" class="space-y-4">
                <input type="tel" id="phone-number" class="w-full p-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-indigo-400 focus:outline-none" placeholder="Enter Phone Number (e.g., 919876543210)">
                <button type="submit" id="request-otp-btn" class="w-full bg-blue-500 text-white py-3 rounded-xl font-bold hover:bg-blue-600 transition-colors duration-200">Request OTP</button>
            </form>
            <div id="otp-section" class="space-y-4 mt-6 hidden">
                <p id="otp-info-text" class="text-gray-600">Enter the mock OTP to log in.</p>
                <input type="text" id="otp-input" class="w-full p-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-indigo-400 focus:outline-none" placeholder="Enter OTP (e.g., 123456)">
                <button id="verify-otp-btn" class="w-full bg-indigo-500 text-white py-3 rounded-xl font-bold hover:bg-indigo-600 transition-colors duration-200">Verify OTP</button>
            </div>
        </div>
    </div>
   
    <div id="student-dashboard" class="hidden">

        <div class="w-full">
            <header class="text-center animate-slide-in-up pt-4" style="animation-delay: 100ms;">
                <h1 class="text-3xl sm:text-4xl font-extrabold text-gray-900 leading-tight tracking-tight">
                    Student Dashboard
                </h1>
                <p class="mt-2 text-lg text-gray-600">
                    Your one-stop place for everything academic.
                </p>
            </header>
        </div>
       
        <div class="container mx-auto p-4 md:p-10">
            <div class="flex justify-end mb-4">
                <select id="language-selector" class="bg-white border border-gray-300 rounded-lg px-4 py-2 text-gray-700 font-semibold shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500">
                </select>
            </div>
           
            <div class="card bg-white p-10 mb-10 flex flex-col md:flex-row items-center space-y-8 md:space-y-0 md:space-x-16">
                <div class="flex items-center space-x-8">
                    <div class="w-32 h-32 rounded-full bg-gradient-to-tr from-purple-500 to-pink-500 flex items-center justify-center overflow-hidden shadow-xl">
                        <span id="student-user-avatar" class="text-white text-6xl font-extrabold"></span>
                    </div>
                    <div>
                        <h1 id="student-welcome-message" class="text-5xl font-black text-gray-900 leading-tight"></h1>
                        <p id="student-learning-message" class="text-xl text-gray-600 font-medium"></p>
                    </div>
                </div>
               
                <div class="flex-grow flex flex-col md:flex-row items-end md:items-center space-y-5 md:space-y-0 md:space-x-8">
                    <div class="flex items-center space-x-4 bg-yellow-200 px-8 py-4 rounded-full shadow-inner">
                        <i class="fas fa-star text-yellow-600 text-3xl"></i>
                        <span id="student-level-text" class="font-bold text-xl text-yellow-700"></span>
                        <span id="student-xp-text" class="font-extrabold text-3xl text-yellow-800"></span>
                    </div>
                    <div class="w-full md:w-80">
                        <div class="progress-bar">
                            <div id="student-xp-progress-fill" class="progress-fill bg-gradient-to-r from-yellow-400 to-orange-400"></div>
                        </div>
                    </div>
                </div>
            </div>
           
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-10">
               
                <div class="lg:col-span-2 card bg-white p-8">
                    <h2 class="text-3xl font-bold mb-8 flex items-center space-x-4 text-emerald-600">
                        <i class="fas fa-tasks text-emerald-600 text-3xl"></i>
                        <span id="student-daily-quests-title">Daily Quests</span>
                    </h2>
                    <div id="student-quest-list" class="space-y-8">
                        </div>
                    <div class="mt-10 text-center">
                        <button id="student-generate-quest-btn" class="btn-generate text-white px-10 py-5 rounded-full font-bold text-xl shadow-xl">
                            <div class="flex items-center justify-center space-x-2">
                                <span id="student-generate-quest-btn-text">‚ú® Generate New Quest</span>
                                <span id="student-generate-loading" class="hidden loading-spinner"></span>
                            </div>
                        </button>
                    </div>
                </div>
               
                <div class="card bg-white p-8">
                    <h2 class="text-3xl font-bold mb-8 flex items-center space-x-4 text-amber-500">
                        <i class="fas fa-trophy text-amber-500 text-3xl"></i>
                        <span id="student-leaderboard-title">Leaderboard</span>
                    </h2>
                    <ul id="student-leaderboard-list" class="space-y-6">
                        <li id="student-my-leaderboard-entry" class="hidden"></li>
                    </ul>
                </div>
            </div>
           
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-10 mt-10">
                <div class="card bg-white p-8">
                    <h2 class="text-3xl font-bold mb-8 flex items-center space-x-4 text-indigo-500">
                        <i class="fas fa-certificate text-indigo-500 text-3xl"></i>
                        <span id="student-badges-title">Achievement Badges</span>
                    </h2>
                    <div id="student-badges-grid" class="grid grid-cols-3 md:grid-cols-4 gap-8">
                        </div>
                </div>
               
                <div class="card bg-white p-8">
                    <h2 class="text-3xl font-bold mb-8 flex items-center space-x-4 text-purple-600">
                        <i class="fas fa-chart-line text-purple-600 text-3xl"></i>
                        <span id="student-progress-title">Module Progress</span>
                    </h2>
                    <div id="student-module-progress-list" class="space-y-8">
                        </div>
                    <div class="mt-8">
                        <label for="voice-input" id="student-voice-label" class="block font-bold text-gray-800 mb-2">Speak your question:</label>
                        <div class="flex space-x-4">
                            <input type="text" id="voice-input" class="flex-grow p-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-purple-400 focus:outline-none" placeholder="Click mic to speak...">
                            <button id="mic-btn" class="bg-purple-500 text-white px-5 py-2 rounded-full font-bold hover:bg-purple-600 transition-colors">
                                <i class="fas fa-microphone"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
       
        <div id="star-container"></div>
   
       


            <section id="attendance-section" class="bg-white p-6 rounded-2xl shadow-lg border-t-4 border-blue-500 opacity-0 animate-slide-in-up" style="animation-delay: 200ms;">
                <div class="flex flex-col sm:flex-row justify-between items-center">
                    <h2 class="text-xl sm:text-2xl font-bold text-gray-800">Attendance</h2>
                    <button id="markAttendanceBtn" class="mt-4 sm:mt-0 px-6 py-3 bg-blue-600 text-white font-semibold rounded-full hover:bg-blue-700 transition-colors duration-300 transform hover:scale-105 shadow-md disabled:bg-gray-400 disabled:scale-100">
                        Mark Attendance
                    </button>
                </div>
                <p id="attendance-status" class="mt-4 text-center text-gray-500 hidden">
                    <span id="status-message" class="font-medium text-blue-600"></span>
                </p>
            </section>

            <section id="homework-section" class="bg-white p-6 rounded-2xl shadow-lg border-t-4 border-green-500 opacity-0 animate-slide-in-up" style="animation-delay: 300ms;">
                <h2 class="text-xl sm:text-2xl font-bold text-gray-800 mb-4">Homework</h2>
                <div class="space-y-4">
                    <div class="bg-gray-50 p-4 rounded-xl flex flex-col sm:flex-row justify-between items-start sm:items-center">
                        <div class="flex-grow">
                            <h3 class="font-semibold text-gray-700">Math: Algebra Chapter 3</h3>
                            <p class="text-sm text-gray-500">Due: October 26, 2025</p>
                        </div>
                        <div class="flex items-center mt-3 sm:mt-0 sm:ml-4">
                            <span class="text-sm font-medium text-red-500 mr-4">Pending</span>
                            <button class="homework-help-btn px-4 py-2 bg-purple-500 text-white text-sm rounded-full hover:bg-purple-600 transition-transform transform hover:scale-105 ai-glow" data-homework="Math: Algebra basics">Get Help ‚ú®</button>
                        </div>
                    </div>
                    <div class="bg-gray-50 p-4 rounded-xl flex flex-col sm:flex-row justify-between items-start sm:items-center">
                        <div>
                            <h3 class="font-semibold text-gray-700">Science: Photosynthesis Lab Report</h3>
                            <p class="text-sm text-gray-500">Due: October 20, 2025</p>
                        </div>
                        <div class="flex items-center mt-3 sm:mt-0 sm:ml-4">
                            <span class="text-sm font-medium text-green-500">Completed</span>
                        </div>
                    </div>
                    <div class="bg-gray-50 p-4 rounded-xl flex flex-col sm:flex-row justify-between items-start sm:items-center">
                        <div class="flex-grow">
                            <h3 class="font-semibold text-gray-700">History: Civil War Essay Outline</h3>
                            <p class="text-sm text-gray-500">Due: October 28, 2025</p>
                        </div>
                        <div class="flex items-center mt-3 sm:mt-0 sm:ml-4">
                            <span class="text-sm font-medium text-red-500 mr-4">Pending</span>
                            <button class="homework-help-btn px-4 py-2 bg-purple-500 text-white text-sm rounded-full hover:bg-purple-600 transition-transform transform hover:scale-105 ai-glow" data-homework="History: How to outline an essay about a historical event">Get Help ‚ú®</button>
                        </div>
                    </div>
                </div>
            </section>

            <section id="curious-corner" class="bg-white p-6 rounded-2xl shadow-lg border-t-4 border-yellow-500 opacity-0 animate-slide-in-up" style="animation-delay: 400ms;">
                <h2 class="text-xl sm:text-2xl font-bold text-gray-800 mb-4">Curious Corner ‚ú®</h2>
                <p class="text-gray-600 mb-4">Have a question about anything in the world? Ask me!</p>
                <div class="flex flex-col sm:flex-row gap-2">
                    <input type="text" id="curious-question-input" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 flex-grow" placeholder="e.g., Why is the sky blue?">
                    <button id="ask-curious-question-btn" class="px-6 py-3 bg-yellow-500 text-white font-semibold rounded-lg hover:bg-yellow-600 transition-colors duration-300">Ask Question</button>
                </div>
                <div id="curious-answer" class="mt-4 text-gray-700 p-4 bg-gray-50 rounded-lg min-h-[100px] hidden">
                    </div>
            </section>

            <section id="gaming-section" class="bg-white p-6 rounded-2xl shadow-lg border-t-4 border-purple-500 opacity-0 animate-slide-in-up" style="animation-delay: 500ms;">
                <h2 class="text-xl sm:text-2xl font-bold text-gray-800 mb-4">Learning Games</h2>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                    <div id="puzzle-mania-card" class="bg-gray-100 p-4 rounded-xl text-center hover:shadow-lg transition-shadow duration-300 cursor-pointer group"><div class="text-5xl mb-2 jiggle-on-hover">üëæ</div><h3 class="font-semibold text-gray-800">Puzzle Mania</h3><p class="text-sm text-gray-500">Brain-teasers for fun!</p></div>
                    <div class="bg-gray-100 p-4 rounded-xl text-center hover:shadow-lg transition-shadow duration-300 cursor-pointer group"><div class="text-5xl mb-2 jiggle-on-hover">üöÄ</div><h3 class="font-semibold text-gray-800">Space Adventure</h3><p class="text-sm text-gray-500">Blast off and explore!</p></div>
                    <div id="math-bullseye-card" class="bg-gray-100 p-4 rounded-xl text-center hover:shadow-lg transition-shadow duration-300 cursor-pointer group"><div class="text-5xl mb-2 jiggle-on-hover">üéØ</div><h3 class="font-semibold text-gray-800">Math Bullseye</h3><p class="text-sm text-gray-500">Hit the number target!</p></div>
                    <div class="bg-gray-100 p-4 rounded-xl text-center hover:shadow-lg transition-shadow duration-300 cursor-pointer group"><div class="text-5xl mb-2 jiggle-on-hover">üï∏Ô∏è</div><h3 class="font-semibold text-gray-800">Word Weaver</h3><p class="text-sm text-gray-500">Build words, win points!</p></div>
                    <div class="bg-gray-100 p-4 rounded-xl text-center hover:shadow-lg transition-shadow duration-300 cursor-pointer group"><div class="text-5xl mb-2 jiggle-on-hover">üó∫Ô∏è</div><h3 class="font-semibold text-gray-800">State Spotter</h3><p class="text-sm text-gray-500">Find the Indian states!</p></div>
                    <div class="bg-gray-100 p-4 rounded-xl text-center hover:shadow-lg transition-shadow duration-300 cursor-pointer group"><div class="text-5xl mb-2 jiggle-on-hover">ü¶Å</div><h3 class="font-semibold text-gray-800">Animal Kingdom</h3><p class="text-sm text-gray-500">Match animals & sounds.</p></div>
                    <div class="bg-gray-100 p-4 rounded-xl text-center hover:shadow-lg transition-shadow duration-300 cursor-pointer group"><div class="text-5xl mb-2 jiggle-on-hover">‚è≥</div><h3 class="font-semibold text-gray-800">History Timeline</h3><p class="text-sm text-gray-500">Order the events!</p></div>
                    <div class="bg-gray-100 p-4 rounded-xl text-center hover:shadow-lg transition-shadow duration-300 cursor-pointer group"><div class="text-5xl mb-2 jiggle-on-hover">üî∑</div><h3 class="font-semibold text-gray-800">Shape Sorter</h3><p class="text-sm text-gray-500">Identify geometric shapes.</p></div>
                    <div class="bg-gray-100 p-4 rounded-xl text-center hover:shadow-lg transition-shadow duration-300 cursor-pointer group"><div class="text-5xl mb-2 jiggle-on-hover">üåæ</div><h3 class="font-semibold text-gray-800">Farming Fun</h3><p class="text-sm text-gray-500">Learn about crops!</p></div>
                    <div class="bg-gray-100 p-4 rounded-xl text-center hover:shadow-lg transition-shadow duration-300 cursor-pointer group"><div class="text-5xl mb-2 jiggle-on-hover">üíß</div><h3 class="font-semibold text-gray-800">Clean Village</h3><p class="text-sm text-gray-500">A game on hygiene.</p></div>
                    <div class="bg-gray-100 p-4 rounded-xl text-center hover:shadow-lg transition-shadow duration-300 cursor-pointer group"><div class="text-5xl mb-2 jiggle-on-hover">üõí</div><h3 class="font-semibold text-gray-800">Market Math</h3><p class="text-sm text-gray-500">Simple money calculations.</p></div>
                    <div id="storyMaker" class="bg-gray-100 p-4 rounded-xl text-center hover:shadow-lg transition-shadow duration-300 cursor-pointer group">
                        <div class="text-5xl mb-2 jiggle-on-hover">üìñ</div>
                        <h3 class="font-semibold text-gray-800">Story Maker ‚ú®</h3>
                        <p class="text-sm text-gray-500">Create with AI!</p>
                    </div>
                     <div class="bg-gray-100 p-4 rounded-xl text-center hover:shadow-lg transition-shadow duration-300 cursor-pointer group">
                         <div class="text-5xl mb-2 jiggle-on-hover">üî¨</div> <h3 class="font-semibold text-gray-800">Science Lab</h3> <p class="text-sm text-gray-500">Fun science experiments.</p>
                     </div>
                </div>
            </section>
        </div>
    </div>


    <div id="teacher-dashboard" class="hidden">
        <header class="text-center mb-10 flex justify-between items-center">
            <div>
                <h1 class="text-5xl font-extrabold text-indigo-800">EduVaani</h1>
                <p id="teacher-dashboard-title" class="text-2xl font-semibold text-gray-600 mt-2">Teacher Dashboard</p>
            </div>
            <select id="teacher-language-selector" class="bg-white border border-gray-300 rounded-lg px-4 py-2 text-gray-700 font-semibold shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500">
                </select>
        </header>
       
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
           
            <section class="lg:col-span-2 card bg-white p-6 md:p-8">
                <h2 class="text-2xl md:text-3xl font-bold mb-6 flex items-center space-x-3 text-indigo-700">
                    <i class="fas fa-users"></i>
                    <span id="teacher-student-progress-title">Student Progress</span>
                </h2>
                <div class="mb-4 flex items-center space-x-4">
                    <label for="teacher-progress-view" id="teacher-view-label" class="block text-lg font-semibold mb-0">View:</label>
                    <select id="teacher-progress-view" class="p-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-indigo-400 focus:outline-none">
                        <option id="teacher-view-option-summary" value="class-summary">Class Summary</option>
                        <option id="teacher-view-option-all" value="all-students">All Students</option>
                    </select>
                    <button id="generate-report-btn" class="px-6 py-2 bg-purple-500 text-white rounded-full font-bold hover:bg-purple-600 transition-colors">
                        ‚ú® <span id="teacher-generate-report-btn-text">Generate Report</span>
                    </button>
                </div>
                <div id="teacher-progress-summary" class="hidden p-4 bg-indigo-50 rounded-lg">
                    <h3 id="teacher-summary-title" class="text-xl font-bold text-indigo-700 mb-2">Class Overall Performance</h3>
                    <p class="text-lg text-gray-700"><span id="teacher-summary-avg-xp-label">Average XP</span>: <span id="teacher-avg-xp" class="font-semibold">0</span></p>
                    <p class="text-lg text-gray-700"><span id="teacher-summary-avg-level-label">Average Level</span>: <span id="teacher-avg-level" class="font-semibold">0</span></p>
                    <p class="text-lg text-gray-700"><span id="teacher-summary-total-students-label">Total Students</span>: <span id="teacher-total-students" class="font-semibold">0</span></p>
                    <div id="teacher-report-text" class="mt-4 text-gray-800 italic"></div>
                </div>
                <div id="teacher-student-progress-list" class="space-y-6">
                    </div>
            </section>
           
            <section class="card bg-white p-6 md:p-8">
                <h2 class="text-2xl md:text-3xl font-bold mb-6 flex items-center space-x-3 text-amber-600">
                    <i class="fas fa-trophy"></i>
                    <span id="teacher-leaderboard-title">Class Leaderboard</span>
                </h2>
                <ul id="teacher-leaderboard-list" class="space-y-4">
                    </ul>
            </section>
           
        </div>
       
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mt-8">
           
            <section class="card bg-white p-6 md:p-8">
                <h2 class="text-2xl md:text-3xl font-bold mb-6 flex items-center space-x-3 text-emerald-600">
                    <i class="fas fa-award"></i>
                    <span id="teacher-reward-title">Reward & Recognition</span>
                </h2>
                <div class="space-y-4">
                    <select id="teacher-reward-student-selector" class="w-full p-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-emerald-400 focus:outline-none">
                        <option value="" disabled selected>Select a student</option>
                        </select>
                    <div id="teacher-badge-grid" class="grid grid-cols-3 md:grid-cols-4 gap-4 p-4 rounded-xl bg-gray-50">
                        </div>
                    <button id="teacher-award-badge-btn" class="w-full bg-emerald-500 text-white py-3 rounded-xl font-bold hover:bg-emerald-600 transition-colors duration-200" disabled>Award Badge</button>
                </div>
            </section>
           
            <section class="card bg-white p-6 md:p-8">
                <h2 class="text-2xl md:text-3xl font-bold mb-6 flex items-center space-x-3 text-red-500">
                    <i class="fas fa-paper-plane"></i>
                    <span id="teacher-assignment-title-main">Assignment Management</span>
                </h2>
                <form id="teacher-assignment-form" class="space-y-4">
                    <div>
                        <label for="teacher-assignment-title" id="teacher-assignment-module-label" class="block font-semibold mb-2">Module Title</label>
                        <input type="text" id="teacher-assignment-title-input" class="w-full p-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-red-400 focus:outline-none" placeholder="e.g., Water Conservation Module">
                    </div>
                    <div>
                        <label for="teacher-assignment-desc" id="teacher-assignment-desc-label" class="block font-semibold mb-2">Description</label>
                        <textarea id="teacher-assignment-desc" rows="3" class="w-full p-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-red-400 focus:outline-none" placeholder="Explain the key tasks for this module..."></textarea>
                    </div>
                    <div>
                        <label for="teacher-assignment-group" id="teacher-assignment-assign-label" class="block font-semibold mb-2">Assign to:</label>
                        <select id="teacher-assignment-group" class="w-full p-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-red-400 focus:outline-none">
                            <option id="teacher-assign-all" value="all">All Students</option>
                            <option id="teacher-assign-gA" value="groupA">Group A</option>
                            <option id="teacher-assign-gB" value="groupB">Group B</option>
                        </select>
                    </div>
                    <button type="submit" id="teacher-create-assignment-btn" class="w-full bg-red-500 text-white py-3 rounded-xl font-bold hover:bg-red-600 transition-colors duration-200">
                        Create Assignment
                    </button>
                </form>
            </section>
           
            <section class="lg:col-span-2 card bg-white p-6 md:p-8">
                <h2 class="text-2xl md:text-3xl font-bold mb-6 flex items-center space-x-3 text-cyan-600">
                    <i class="fas fa-bell"></i>
                    <span id="teacher-notifications-title">Notifications & Alerts</span>
                </h2>
                <div id="teacher-notification-list" class="space-y-4">
                    </div>
            </section>
           
        </div>
    </div>
   
    <div id="parent-dashboard" class="hidden">
        <div class="container mx-auto p-4 md:p-6 max-w-4xl">
   
            <header class="flex justify-between items-center mb-6 animate-slide-in-up" style="animation-delay: 100ms;">
                <div>
                    <h1 class="text-2xl md:text-3xl font-bold text-teal-600">EduVaani</h1>
                    <p id="greeting-message" class="themed-text text-sm md:text-base">Welcome, Parent!</p>
                </div>
                <div class="flex items-center space-x-3">
                    <select id="parent-language-selector" class="bg-white border border-gray-300 rounded-lg px-4 py-2 text-gray-700 font-semibold shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 mr-4">
                        </select>
                    <span id="parent-child-dashboard-label" class="font-semibold text-right themed-header">Priyanka's Dashboard</span>
                    <img src="https://placehold.co/60x60/31C48D/FFFFFF?text=P" alt="Priyanka's Profile Picture" class="w-12 h-12 md:w-14 md:h-14 rounded-full border-2 border-teal-500 avatar-pulse">
                </div>
            </header>
   
            <main class="grid grid-cols-1 md:grid-cols-3 gap-6">
               
                <div class="md:col-span-2 space-y-6">
                   
                    <div class="dashboard-card p-6 animate-slide-in-up" style="animation-delay: 200ms;">
                        <h2 id="parent-overall-progress-title" class="text-xl font-bold mb-4 themed-header">Overall Progress</h2>
                        <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 text-center">
                            <div class="bg-teal-50 p-4 rounded-lg stat-card">
                                <i class="fas fa-rocket text-3xl text-teal-500 mb-2"></i>
                                <p class="text-lg font-semibold text-gray-800">Level 12</p>
                                <p id="parent-learning-level-label" class="text-sm text-gray-600">Learning Level</p>
                            </div>
                            <div class="bg-amber-50 p-4 rounded-lg stat-card">
                                <i class="fas fa-star text-3xl text-amber-500 mb-2"></i>
                                <p class="text-lg font-semibold text-gray-800">8,450</p>
                                <p id="parent-points-earned-label" class="text-sm text-gray-600">Points Earned</p>
                            </div>
                            <div class="bg-indigo-50 p-4 rounded-lg stat-card">
                                <i class="fas fa-trophy text-3xl text-indigo-500 mb-2"></i>
                                <p class="text-lg font-semibold text-gray-800">21</p>
                                <p id="parent-badges-collected-label" class="text-sm text-gray-600">Badges Collected</p>
                            </div>
                        </div>
                    </div>
   
                    <div class="dashboard-card p-6 animate-slide-in-up" style="animation-delay: 300ms;">
                        <h2 id="parent-subject-progress-title" class="text-xl font-bold mb-4 themed-header">Subject Progress</h2>
                        <div class="space-y-5">
                            <div>
                                <div class="flex justify-between items-center mb-1">
                                    <h3 id="parent-subject-math" class="font-semibold themed-header">Mathematics</h3>
                                    <span class="text-sm font-medium themed-text">18 / 25 <span class="parent-lessons-label">Lessons</span></span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-4 progress-bar-animated">
                                    <div class="bg-blue-500 h-4 rounded-full" style="width: 72%"></div>
                                </div>
                            </div>
                            <div>
                                <div class="flex justify-between items-center mb-1">
                                    <h3 id="parent-subject-science" class="font-semibold themed-header">Science</h3>
                                    <span class="text-sm font-medium themed-text">22 / 30 <span class="parent-lessons-label">Lessons</span></span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-4 progress-bar-animated">
                                    <div class="bg-green-500 h-4 rounded-full" style="width: 73.3%"></div>
                                </div>
                            </div>
                            <div>
                                <div class="flex justify-between items-center mb-1">
                                    <h3 id="parent-subject-english" class="font-semibold themed-header">English</h3>
                                    <span class="text-sm font-medium themed-text">15 / 20 <span class="parent-lessons-label">Lessons</span></span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-4 progress-bar-animated">
                                    <div class="bg-purple-500 h-4 rounded-full" style="width: 75%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
   
                    <div class="dashboard-card p-6 animate-slide-in-up" style="animation-delay: 400ms;">
                        <h2 id="parent-homework-title" class="text-xl font-bold mb-4 themed-header">Recent Homework</h2>
                        <div class="space-y-3">
                            <div class="flex flex-col sm:flex-row sm:items-center justify-between p-3 bg-white/60 rounded-lg">
                                <div>
                                    <p id="parent-homework1-title" class="font-semibold text-gray-800">Math: Chapter 5 Problems</p>
                                    <p class="text-sm text-gray-500"><span class="parent-due-label">Due</span>: <span class="parent-due-date1">Yesterday</span></p>
                                </div>
                                <span class="mt-2 sm:mt-0 text-xs font-bold uppercase px-3 py-1 bg-green-200 text-green-800 rounded-full parent-status-submitted">Submitted</span>
                            </div>
                            <div class="flex flex-col sm:flex-row sm:items-center justify-between p-3 bg-white/60 rounded-lg">
                                <div>
                                    <p id="parent-homework2-title" class="font-semibold text-gray-800">Science: Plant Cell Diagram</p>
                                    <p class="text-sm text-gray-500"><span class="parent-due-label">Due</span>: <span class="parent-due-date2">Tomorrow</span></p>
                                </div>
                                <span class="mt-2 sm:mt-0 text-xs font-bold uppercase px-3 py-1 bg-amber-200 text-amber-800 rounded-full parent-status-pending">Pending</span>
                            </div>
                            <div class="flex flex-col sm:flex-row sm:items-center justify-between p-3 bg-white/60 rounded-lg">
                                <div>
                                    <p id="parent-homework3-title" class="font-semibold text-gray-800">English: Essay on "My Village"</p>
                                    <p class="text-sm text-gray-500"><span class="parent-due-label">Due</span>: <span class="parent-due-date3">2 days ago</span></p>
                                </div>
                                <span class="mt-2 sm:mt-0 text-xs font-bold uppercase px-3 py-1 bg-red-200 text-red-800 rounded-full parent-status-overdue">Overdue</span>
                            </div>
                        </div>
                    </div>
   
                </div>
               
                <div class="space-y-6">
                    <div class="dashboard-card p-6 animate-slide-in-up" style="animation-delay: 500ms;">
                        <h2 id="parent-attendance-title" class="text-xl font-bold mb-4 themed-header">Attendance</h2>
                        <div class="text-center bg-teal-500 text-white p-4 rounded-lg mb-4">
                            <p class="text-3xl font-bold">92%</p>
                            <p id="parent-attendance-month-label" class="text-sm">Present (This Month)</p>
                        </div>
                        <h3 id="parent-attendance-week-label" class="font-semibold text-center mb-2 themed-header">This Week</h3>
                        <div class="flex justify-around text-center">
                            <div class="flex flex-col items-center space-y-1">
                                <span class="text-xs font-bold themed-text parent-day-mon">Mon</span>
                                <span class="w-8 h-8 flex items-center justify-center bg-green-100 text-green-600 rounded-full"><i class="fas fa-check"></i></span>
                            </div>
                            <div class="flex flex-col items-center space-y-1">
                                <span class="text-xs font-bold themed-text parent-day-tue">Tue</span>
                                <span class="w-8 h-8 flex items-center justify-center bg-green-100 text-green-600 rounded-full"><i class="fas fa-check"></i></span>
                            </div>
                            <div class="flex flex-col items-center space-y-1">
                                <span class="text-xs font-bold themed-text parent-day-wed">Wed</span>
                                <span class="w-8 h-8 flex items-center justify-center bg-red-100 text-red-600 rounded-full"><i class="fas fa-times"></i></span>
                            </div>
                            <div class="flex flex-col items-center space-y-1">
                                <span class="text-xs font-bold themed-text parent-day-thu">Thu</span>
                                <span class="w-8 h-8 flex items-center justify-center bg-green-100 text-green-600 rounded-full"><i class="fas fa-check"></i></span>
                            </div>
                            <div class="flex flex-col items-center space-y-1">
                                <span class="text-xs font-bold themed-text parent-day-fri">Fri</span>
                                <span class="w-8 h-8 flex items-center justify-center bg-gray-200 text-gray-500 rounded-full"><i class="fas fa-hourglass-start"></i></span>
                            </div>
                        </div>
                    </div>
                </div>
   
            </main>
   
            <footer class="text-center mt-8 text-sm themed-text animate-slide-in-up" style="animation-delay: 600ms;">
                <p id="parent-footer-text">&copy; 2025 EduVaani. Empowering rural learning.</p>
            </footer>
   
        </div>
    </div>
   
    <div id="messageBox" class="fixed inset-0 bg-gray-600 bg-opacity-50 hidden items-center justify-center p-4 z-50">
        <div class="bg-white p-6 rounded-xl shadow-2xl max-w-sm w-full transform transition-all duration-300 scale-95">
            <h3 class="text-xl font-bold text-gray-800" id="messageBoxTitle"></h3>
            <p class="mt-2 text-gray-600" id="messageBoxContent"></p>
            <div class="mt-4 text-right">
                <button id="closeMessageBtn" class="px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600">OK</button>
            </div>
        </div>
    </div>
    <div id="homeworkHelpModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 hidden items-center justify-center p-4 z-50">
        <div class="bg-white p-6 rounded-xl shadow-2xl max-w-lg w-full transform transition-all duration-300 scale-95">
            <div class="flex justify-between items-center">
                <h3 class="text-xl font-bold text-gray-800">Homework Helper ‚ú®</h3>
                <button id="closeHomeworkHelpBtn" class="text-gray-500 hover:text-gray-800 text-3xl leading-none">&times;</button>
            </div>
            <button id="listenHelpBtn" class="hidden mt-4 px-4 py-2 bg-green-500 text-white rounded-full hover:bg-green-600 flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-volume-up-fill" viewBox="0 0 16 16"><path d="M11.536 14.01A8.47 8.47 0 0 0 14.026 8a8.47 8.47 0 0 0-2.49-6.01l-1.414 1.414A6.47 6.47 0 0 1 12.025 8a6.47 6.47 0 0 1-1.903 4.596z"/><path d="M10.121 12.596A6.47 6.47 0 0 0 12.025 8a6.47 6.47 0 0 0-1.904-4.596l-1.414 1.414A4.47 4.47 0 0 1 10.025 8a4.47 4.47 0 0 1-1.318 3.182z"/><path d="M8.707 11.182A2.47 2.47 0 0 0 9.025 8a2.47 2.47 0 0 0-.318-1.182L8.707 5.404A4.47 4.47 0 0 1 10.025 8a4.47 4.47 0 0 1-1.318 3.182zM4.252 0C2.42 0 1 1.42 1 3.252v9.496C1 14.58 2.42 16 4.252 16h1.598a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1zm-1.5 4.5A1.5 1.5 0 0 1 4.252 3h1.5a1.5 1.5 0 0 1 0 3h-1.5A1.5 1.5 0 0 1 2.752 4.5"/></svg> Listen to explanation
            </button>
            <div id="homeworkHelpContent" class="mt-4 text-gray-600 space-y-2"></div>
        </div>
    </div>
    <div id="storyMakerModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 hidden items-center justify-center p-4 z-50">
        <div class="bg-white p-6 rounded-xl shadow-2xl max-w-lg w-full transform transition-all duration-300 scale-95 overflow-y-auto max-h-full">
            <div class="flex justify-between items-center">
                <h3 class="text-xl font-bold text-gray-800">Story Maker ‚ú®</h3>
                <button id="closeStoryMakerBtn" class="text-gray-500 hover:text-gray-800 text-3xl leading-none">&times;</button>
            </div>
            <div class="mt-4 space-y-4">
                <p class="text-gray-600">Give me one word, and I'll start a story for you!</p>
                <input type="text" id="storyWordInput" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500" placeholder="e.g., Mango, River, Star...">
                <button id="generateStoryBtn" class="w-full px-6 py-3 bg-purple-600 text-white font-semibold rounded-lg hover:bg-purple-700 transition-colors duration-300">Generate Story</button>
                <div id="storyResult" class="mt-4 text-gray-700 p-4 bg-gray-50 rounded-lg min-h-[100px]"></div>
                <button id="visualizeStoryBtn" class="hidden w-full px-6 py-3 bg-teal-500 text-white font-semibold rounded-lg hover:bg-teal-600 transition-colors duration-300 mt-2">Visualize Story ‚ú®</button>
                <div id="storyImageResult" class="mt-4 w-full aspect-square bg-gray-100 rounded-lg flex items-center justify-center"></div>
            </div>
        </div>
    </div>
    <div id="attendanceAnimationOverlay" class="fixed inset-0 bg-black bg-opacity-40 hidden items-center justify-center p-4 z-[60] pointer-events-none">
        <div id="monkeyContainer" class="relative">
            <div id="animatedMonkey" class="text-8xl transform">üêí</div>
            <p id="monkeyMessage" class="absolute -bottom-12 w-max left-1/2 -translate-x-1/2 mt-4 text-xl font-bold text-white bg-green-500 rounded-full px-6 py-2 opacity-0 transition-opacity duration-300">Attendance Marked!</p>
        </div>
    </div>
   
    <div id="math-game-modal" class="fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-50 hidden">
        <div id="game-container" class="relative bg-black rounded-lg shadow-xl overflow-hidden p-6">
            <canvas id="gameCanvas"></canvas>
            <div id="ui-overlay">
                <div id="game-over-screen">
                    <h1 class="text-3xl lg:text-5xl font-bold mb-4">üèÜ GAME OVER</h1>
                    <p id="final-score" class="text-xl lg:text-3xl font-bold mb-6">Your Score: 0</p>
                    <div class="leaderboard">
                        <h3 class="text-lg lg:text-xl text-yellow-200 mb-2">Leaderboard (Top 5)</h3>
                        <ol id="leaderboard-list" class="text-sm lg:text-base text-gray-200"></ol>
                    </div>
                    <div class="flex mt-8 space-x-4">
                        <button id="play-again-btn" class="button">Play Again</button>
                        <button id="quit-btn" class="button">Quit</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="puzzle-mania-modal" class="fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-50 hidden">
        <div id="game-container" class="relative">
            <div id="puzzle-mania-game-ui" class="text-white flex flex-col items-center space-y-6">
                <div id="game-info" class="text-center">
                    <h2 class="text-3xl font-bold">Puzzle Mania</h2>
                    <p id="game-status" class="mt-2 text-lg">Find the matching pairs!</p>
                    <p id="moves-counter" class="mt-1 text-md">Moves: 0</p>
                </div>
                <div id="game-board" class="game-board"></div>
                <button id="start-button">Start Game</button>
                <button id="quit-game-btn" class="hidden">Quit</button>
            </div>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, getDoc, setDoc, onSnapshot, collection, query, addDoc, getDocs } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        import { setLogLevel } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        setLogLevel('debug');

        // --- Firebase Configuration & Initialization (MANDATORY) ---
        const isGeminiPlatform = typeof __firebase_config !== 'undefined';
        const appId = isGeminiPlatform ? __app_id : 'default-app-id';
        const firebaseConfig = isGeminiPlatform ? JSON.parse(__firebase_config) : {
            apiKey: "dummy-api-key",
            authDomain: "dummy-auth-domain",
            projectId: "dummy-project-id",
            storageBucket: "dummy-storage-bucket",
            messagingSenderId: "dummy-messaging-id",
            appId: "dummy-app-id"
        };
        const authToken = isGeminiPlatform ? __initial_auth_token : null;
        let app, auth, db;
        let userId;

        // --- Global State & Data Management ---
        let currentRole = localStorage.getItem('userRole') || null;
        let studentData = {
            name: 'Priyanka',
            level: 3,
            xp: 550,
            nextLevelXp: 800,
            quests: [
                { id: 'seeds', xp: 75 },
                { id: 'water_conservation', xp: 90 }
            ],
            lastQuestGenerated: null
        };
        let students = []; // For teacher dashboard
        const defaultLeaderboard = [
            { id: '1', name: 'Rajesh', xp: 2100 },
            { id: '2', name: 'Anita', xp: 1950 },
            { id: '3', name: 'Vikram', xp: 1800 },
            { id: '4', name: 'Suman', xp: 1750 },
        ];
        const studentBadges = [
            { id: 'star', name: 'Village Star', icon: 'fas fa-seedling', color: 'green', earned: true },
            { id: 'water', name: 'Water Warrior', icon: 'fas fa-faucet', color: 'blue', earned: true },
            { id: 'bookworm', name: 'Bookworm', icon: 'fas fa-book-reader', color: 'pink', earned: true },
            { id: 'locked', name: 'Locked', icon: 'fas fa-lock', color: 'gray', earned: false }
        ];
        const studentModules = [
            { id: 'math', progress: 75, color: 'purple' },
            { id: 'science', progress: 50, color: 'blue' },
            { id: 'history', progress: 20, color: 'emerald' }
        ];
       
        const teacherBadges = [
            { id: 'star-performer', name: 'Star Performer', icon: 'fas fa-star', color: 'text-yellow-500' },
            { id: 'helping-hand', name: 'Helping Hand', icon: 'fas fa-hand-holding-heart', color: 'text-pink-500' },
            { id: 'problem-solver', name: 'Problem Solver', icon: 'fas fa-lightbulb', color: 'text-blue-500' },
            { id: 'water-warrior', name: 'Water Warrior', icon: 'fas fa-water', color: 'text-cyan-500' },
            { id: 'master-farmer', name: 'Master Farmer', icon: 'fas fa-seedling', color: 'text-green-500' }
        ];

        const languages = {
            'en': 'English', 'hi': '‡§π‡§ø‡§®‡•ç‡§¶‡•Ä', 'as': '‡¶Ö‡¶∏‡¶Æ‡ßÄ‡¶Ø‡¶º‡¶æ', 'bn': '‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ', 'brx': '‡§¨‡•ã‡§°‡§º‡•ã',
            'doi': '‡§°‡•ã‡§ó‡§∞‡•Ä', 'gu': '‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä', 'kn': '‡≤ï‡≤®‡≥ç‡≤®‡≤°', 'ks': '‡§ï‡§∂‡•ç‡§Æ‡•Ä‡§∞‡•Ä', 'kok': '‡§ï‡•ã‡§Ç‡§ï‡§£‡•Ä',
            'mai': '‡§Æ‡•à‡§•‡§ø‡§≤‡•Ä', 'ml': '‡¥Æ‡¥≤‡¥Ø‡¥æ‡¥≥‡¥Ç', 'mni': '‡¶Æ‡ßà‡¶§‡ßà‡¶≤‡ßã‡¶®‡ßç', 'mr': '‡§Æ‡§∞‡§æ‡§†‡•Ä', 'ne': '‡§®‡•á‡§™‡§æ‡§≤‡•Ä',
            'or': '‡¨ì‡¨°‡¨º‡¨ø‡¨Ü', 'pa': '‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä', 'sa': '‡§∏‡§Ç‡§∏‡•ç‡§ï‡•É‡§§‡§Æ‡•ç', 'sat': '‡§∏‡§Ç‡§§‡§æ‡§≤‡•Ä', 'sd': '‡§∏‡§ø‡§®‡•ç‡§ß‡•Ä',
            'ta': '‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç', 'te': '‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å', 'ur': 'ÿßÿ±ÿØŸà'
        };
        const ttsVoiceMap = {
            'en': 'Kore', 'hi': 'Algenib', 'as': 'Algenib', 'bn': 'Gacrux', 'brx': 'Kore',
            'doi': 'Kore', 'gu': 'Sadachbia', 'kn': 'Vindemiatrix', 'ks': 'Algenib', 'kok': 'Sadachbia',
            'mai': 'Algenib', 'ml': 'Vindemiatrix', 'mni': 'Kore', 'mr': 'Sadachbia', 'ne': 'Algenib',
            'or': 'Gacrux', 'pa': 'Sadaltager', 'sa': 'Kore', 'sat': 'Kore', 'sd': 'Algenib',
            'ta': 'Vindemiatrix', 'te': 'Zubenelgenubi', 'ur': 'Algenib',
        };

        // --- Internationalization (i18n) Data ---
        const translations = {
            en: {
                login_title: 'Login with Phone',
                request_otp: 'Request OTP',
                verify_otp: 'Verify OTP',
                otp_info: 'Enter the mock OTP to log in.',
                role_modal_title: 'Select Your Role',
                role_student: 'Student',
                role_teacher: 'Teacher',
                role_parent: 'Parent',
                switch_role_button: 'Switch Role',
                welcome_message: 'Hello, Priyanka!',
                learning_message: "Let's learn something new today!",
                level_text: 'Level',
                daily_quests_title: 'Daily Quests',
                leaderboard_title: 'Leaderboard',
                badges_title: 'Achievement Badges',
                progress_title: 'Module Progress',
                generate_quest_button: '‚ú® Generate New Quest',
                read_aloud_button: '‚ú® Read Aloud',
                explain_concept_button: '‚ú® Explain Concept',
                badge_star: 'Village Star',
                badge_water: 'Water Warrior',
                badge_bookworm: 'Bookworm',
                badge_locked: 'Locked',
                start_button_text: 'Start',
                seeds_title: 'Learn About Seed Types',
                seeds_desc: 'Watch a video on local crops and their seeds.',
                water_conservation_title: 'Water Our Village Fields',
                water_conservation_desc: 'Simulate watering crops to learn about conservation.',
                math_quest_title: 'Math: The Field Calculator',
                math_quest_desc: 'The Math module teaches you how to calculate crop yields, measure water usage, and manage your budget for farming.',
                science_quest_title: 'Science: Our Water Sources',
                science_quest_desc: 'In this Science module, you will learn about the water cycle, different types of water sources in your village, and how to keep them clean.',
                history_quest_title: 'Local History: Our Village Elders',
                history_quest_desc: 'The Local History module explores the stories and traditions passed down from your village elders.',
                not_yet_earned: 'Not Yet Earned',
                loading_quests: 'Generating new quest...',
                loading_audio: 'Loading audio...',
                loading_explanation: 'Generating explanation...',
                loading_report: 'Generating class report...',
                quest_generated_success: 'New quest generated!',
                quest_already_generated: 'You can only generate one quest per day.',
                no_text_to_read: 'No text to read.',
                xp_gained: '+{xp} XP!',
                no_quests: 'No quests available. Generate one to start!',
                voice_question_label: 'Speak your question:',
                teacher_dashboard_title: 'Teacher Dashboard',
                student_progress_title: 'Student Progress',
                view_label: 'View:',
                view_option_summary: 'Class Summary',
                view_option_all: 'All Students',
                generate_report_button: 'Generate Report',
                summary_title: 'Class Overall Performance',
                summary_avg_xp: 'Average XP',
                summary_avg_level: 'Average Level',
                summary_total_students: 'Total Students',
                class_leaderboard_title: 'Class Leaderboard',
                reward_title: 'Reward & Recognition',
                select_student_placeholder: 'Select a student',
                award_badge_button: 'Award Badge',
                assignment_title: 'Assignment Management',
                module_title_label: 'Module Title',
                description_label: 'Description',
                assign_to_label: 'Assign to:',
                assign_all: 'All Students',
                assign_group_a: 'Group A',
                assign_group_b: 'Group B',
                create_assignment_button: 'Create Assignment',
                notifications_title: 'Notifications & Alerts',
                notification1: "New module 'Water Conservation' assigned to all students!",
                notification2: "Rajesh achieved the 'Water Warrior' badge.",
                notification3: "Meena has completed the 'Village Star' quest.",
                parent_welcome: 'Welcome, Parent!',
                parent_greeting_morning: 'Good morning, Parent!',
                parent_greeting_afternoon: 'Good afternoon, Parent!',
                parent_greeting_evening: 'Good evening, Parent!',
                parent_greeting_night: 'Hope you had a great day!',
                child_dashboard_label: "Priyanka's Dashboard",
                overall_progress_title: 'Overall Progress',
                learning_level_label: 'Learning Level',
                points_earned_label: 'Points Earned',
                badges_collected_label: 'Badges Collected',
                subject_progress_title: 'Subject Progress',
                lessons_label: 'Lessons',
                subject_math: 'Mathematics',
                subject_science: 'Science',
                subject_english: 'English',
                homework_title: 'Recent Homework',
                due_label: 'Due',
                due_yesterday: 'Yesterday',
                due_tomorrow: 'Tomorrow',
                due_2_days_ago: '2 days ago',
                status_submitted: 'Submitted',
                status_pending: 'Pending',
                status_overdue: 'Overdue',
                homework1_title: 'Math: Chapter 5 Problems',
                homework2_title: 'Science: Plant Cell Diagram',
                homework3_title: 'English: Essay on "My Village"',
                attendance_title: 'Attendance',
                present_month_label: 'Present (This Month)',
                this_week_label: 'This Week',
                day_mon: 'Mon',
                day_tue: 'Tue',
                day_wed: 'Wed',
                day_thu: 'Thu',
                day_fri: 'Fri',
                footer_text: '¬© 2025 EduVaani. Empowering rural learning.',
            }
        };
       
        // Function to create translation objects with English fallback
        const createTranslation = (base) => ({ ...translations['en'], ...base });

        // All 22 Scheduled Languages
        translations['hi'] = createTranslation({
            login_title: '‡§´‡§º‡•ã‡§® ‡§∏‡•á ‡§≤‡•â‡§ó‡§ø‡§® ‡§ï‡§∞‡•á‡§Ç',
            request_otp: '‡§ì‡§ü‡•Ä‡§™‡•Ä ‡§ï‡§æ ‡§Ö‡§®‡•Å‡§∞‡•ã‡§ß ‡§ï‡§∞‡•á‡§Ç',
            verify_otp: '‡§ì‡§ü‡•Ä‡§™‡•Ä ‡§∏‡§§‡•ç‡§Ø‡§æ‡§™‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç',
            otp_info: '‡§≤‡•â‡§ó ‡§á‡§® ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Æ‡•â‡§ï ‡§ì‡§ü‡•Ä‡§™‡•Ä ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç‡•§',
            role_modal_title: '‡§Ö‡§™‡§®‡•Ä ‡§≠‡•Ç‡§Æ‡§ø‡§ï‡§æ ‡§ö‡•Å‡§®‡•á‡§Ç',
            role_student: '‡§õ‡§æ‡§§‡•ç‡§∞',
            role_teacher: '‡§∂‡§ø‡§ï‡•ç‡§∑‡§ï',
            role_parent: '‡§Ö‡§≠‡§ø‡§≠‡§æ‡§µ‡§ï',
            switch_role_button: '‡§≠‡•Ç‡§Æ‡§ø‡§ï‡§æ ‡§¨‡§¶‡§≤‡•á‡§Ç',
            welcome_message: '‡§®‡§Æ‡§∏‡•ç‡§§‡•á, ‡§™‡•ç‡§∞‡§ø‡§Ø‡§Ç‡§ï‡§æ!',
            learning_message: '‡§Ü‡§á‡§è, ‡§Ü‡§ú ‡§ï‡•Å‡§õ ‡§®‡§Ø‡§æ ‡§∏‡•Ä‡§ñ‡•á‡§Ç!',
            level_text: '‡§∏‡•ç‡§§‡§∞',
            daily_quests_title: '‡§¶‡•à‡§®‡§ø‡§ï ‡§ï‡§æ‡§∞‡•ç‡§Ø',
            leaderboard_title: '‡§≤‡•Ä‡§°‡§∞‡§¨‡•ã‡§∞‡•ç‡§°',
            badges_title: '‡§â‡§™‡§≤‡§¨‡•ç‡§ß‡§ø ‡§¨‡•à‡§ú',
            progress_title: '‡§Æ‡•â‡§°‡•ç‡§Ø‡•Ç‡§≤ ‡§™‡•ç‡§∞‡§ó‡§§‡§ø',
            generate_quest_button: '‚ú® ‡§®‡§Ø‡§æ ‡§ï‡§æ‡§∞‡•ç‡§Ø ‡§¨‡§®‡§æ‡§è‡§Å',
            read_aloud_button: '‚ú® ‡§™‡§¢‡§º‡§ï‡§∞ ‡§∏‡•Å‡§®‡§æ‡§è‡§Ç',
            explain_concept_button: '‚ú® ‡§Ö‡§µ‡§ß‡§æ‡§∞‡§£‡§æ ‡§∏‡§Æ‡§ù‡§æ‡§è‡§Ç',
            badge_star: '‡§ó‡•ç‡§∞‡§æ‡§Æ ‡§∏‡§ø‡§§‡§æ‡§∞‡§æ',
            badge_water: '‡§ú‡§≤ ‡§Ø‡•ã‡§¶‡•ç‡§ß‡§æ',
            badge_bookworm: '‡§ï‡§ø‡§§‡§æ‡§¨‡•Ä ‡§ï‡•Ä‡§°‡§º‡§æ',
            badge_locked: '‡§¨‡§Ç‡§¶',
            start_button_text: '‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç',
            seeds_title: '‡§¨‡•Ä‡§ú ‡§ï‡•á ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞ ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§ú‡§æ‡§®‡•á‡§Ç',
            seeds_desc: '‡§∏‡•ç‡§•‡§æ‡§®‡•Ä‡§Ø ‡§´‡§∏‡§≤‡•ã‡§Ç ‡§î‡§∞ ‡§â‡§®‡§ï‡•á ‡§¨‡•Ä‡§ú‡•ã‡§Ç ‡§™‡§∞ ‡§è‡§ï ‡§µ‡•Ä‡§°‡§ø‡§Ø‡•ã ‡§¶‡•á‡§ñ‡•á‡§Ç‡•§',
            water_conservation_title: '‡§π‡§Æ‡§æ‡§∞‡•á ‡§ó‡§æ‡§Å‡§µ ‡§ï‡•á ‡§ñ‡•á‡§§‡•ã‡§Ç ‡§ï‡•ã ‡§™‡§æ‡§®‡•Ä ‡§¶‡•á‡§Ç',
            water_conservation_desc: '‡§∏‡§Ç‡§∞‡§ï‡•ç‡§∑‡§£ ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§ú‡§æ‡§®‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§´‡§∏‡§≤‡•ã‡§Ç ‡§ï‡•ã ‡§™‡§æ‡§®‡•Ä ‡§¶‡•á‡§®‡•á ‡§ï‡§æ ‡§Ö‡§®‡•Å‡§ï‡§∞‡§£ ‡§ï‡§∞‡•á‡§Ç‡•§',
            math_quest_title: '‡§ó‡§£‡§ø‡§§: ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞ ‡§ï‡•à‡§≤‡§ï‡•Å‡§≤‡•á‡§ü‡§∞',
            math_quest_desc: '‡§ó‡§£‡§ø‡§§ ‡§Æ‡•â‡§°‡•ç‡§Ø‡•Ç‡§≤ ‡§Ü‡§™‡§ï‡•ã ‡§´‡§∏‡§≤ ‡§ï‡•Ä ‡§™‡•à‡§¶‡§æ‡§µ‡§æ‡§∞ ‡§ï‡•Ä ‡§ó‡§£‡§®‡§æ ‡§ï‡§∞‡§®‡§æ, ‡§™‡§æ‡§®‡•Ä ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§Æ‡§æ‡§™‡§®‡§æ ‡§î‡§∞ ‡§ñ‡•á‡§§‡•Ä ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ö‡§™‡§®‡§æ ‡§¨‡§ú‡§ü ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§ø‡§§ ‡§ï‡§∞‡§®‡§æ ‡§∏‡§ø‡§ñ‡§æ‡§§‡§æ ‡§π‡•à‡•§',
            science_quest_title: '‡§µ‡§ø‡§ú‡•ç‡§û‡§æ‡§®: ‡§π‡§Æ‡§æ‡§∞‡•á ‡§ú‡§≤ ‡§∏‡•ç‡§∞‡•ã‡§§',
            science_quest_desc: '‡§á‡§∏ ‡§µ‡§ø‡§ú‡•ç‡§û‡§æ‡§® ‡§Æ‡•â‡§°‡•ç‡§Ø‡•Ç‡§≤ ‡§Æ‡•á‡§Ç, ‡§Ü‡§™ ‡§ú‡§≤ ‡§ö‡§ï‡•ç‡§∞, ‡§Ö‡§™‡§®‡•á ‡§ó‡§æ‡§Ç‡§µ ‡§Æ‡•á‡§Ç ‡§µ‡§ø‡§≠‡§ø‡§®‡•ç‡§® ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞ ‡§ï‡•á ‡§ú‡§≤ ‡§∏‡•ç‡§∞‡•ã‡§§‡•ã‡§Ç ‡§î‡§∞ ‡§â‡§®‡•ç‡§π‡•á‡§Ç ‡§ï‡•à‡§∏‡•á ‡§∏‡§æ‡§´ ‡§∞‡§ñ‡•á‡§Ç, ‡§á‡§∏‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§ú‡§æ‡§®‡•á‡§Ç‡§ó‡•á‡•§',
            history_quest_title: '‡§∏‡•ç‡§•‡§æ‡§®‡•Ä‡§Ø ‡§á‡§§‡§ø‡§π‡§æ‡§∏: ‡§π‡§Æ‡§æ‡§∞‡•á ‡§ó‡•ç‡§∞‡§æ‡§Æ ‡§¨‡•Å‡§ú‡•Å‡§∞‡•ç‡§ó',
            history_quest_desc: '‡§∏‡•ç‡§•‡§æ‡§®‡•Ä‡§Ø ‡§á‡§§‡§ø‡§π‡§æ‡§∏ ‡§Æ‡•â‡§°‡•ç‡§Ø‡•Ç‡§≤ ‡§Ü‡§™‡§ï‡•á ‡§ó‡§æ‡§Ç‡§µ ‡§ï‡•á ‡§¨‡•Å‡§ú‡•Å‡§∞‡•ç‡§ó‡•ã‡§Ç ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§¨‡§§‡§æ‡§à ‡§ó‡§à ‡§ï‡§π‡§æ‡§®‡§ø‡§Ø‡•ã‡§Ç ‡§î‡§∞ ‡§™‡§∞‡§Ç‡§™‡§∞‡§æ‡§ì‡§Ç ‡§ï‡•Ä ‡§™‡§°‡§º‡§§‡§æ‡§≤ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à‡•§',
            not_yet_earned: '‡§Ö‡§≠‡•Ä ‡§§‡§ï ‡§Ö‡§∞‡•ç‡§ú‡§ø‡§§ ‡§®‡§π‡•Ä‡§Ç ‡§ï‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ',
            loading_quests: '‡§®‡§Ø‡§æ ‡§ï‡§æ‡§∞‡•ç‡§Ø ‡§¨‡§®‡§æ ‡§∞‡§π‡§æ ‡§π‡•à...',
            loading_audio: '‡§ë‡§°‡§ø‡§Ø‡•ã ‡§≤‡•ã‡§° ‡§π‡•ã ‡§∞‡§π‡§æ ‡§π‡•à...',
            loading_explanation: '‡§µ‡•ç‡§Ø‡§æ‡§ñ‡•ç‡§Ø‡§æ ‡§â‡§§‡•ç‡§™‡§®‡•ç‡§® ‡§π‡•ã ‡§∞‡§π‡•Ä ‡§π‡•à...',
            loading_report: '‡§ï‡§ï‡•ç‡§∑‡§æ ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü ‡§â‡§§‡•ç‡§™‡§®‡•ç‡§® ‡§π‡•ã ‡§∞‡§π‡•Ä ‡§π‡•à...',
            quest_generated_success: '‡§®‡§Ø‡§æ ‡§ï‡§æ‡§∞‡•ç‡§Ø ‡§¨‡§®‡§æ‡§Ø‡§æ ‡§ó‡§Ø‡§æ!',
            quest_already_generated: '‡§Ü‡§™ ‡§è‡§ï ‡§¶‡§ø‡§® ‡§Æ‡•á‡§Ç ‡§ï‡•á‡§µ‡§≤ ‡§è‡§ï ‡§π‡•Ä ‡§ï‡§æ‡§∞‡•ç‡§Ø ‡§¨‡§®‡§æ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§',
            no_text_to_read: '‡§™‡§¢‡§º‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡•ã‡§à ‡§™‡§æ‡§† ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à‡•§',
            xp_gained: '+{xp} XP!',
            no_quests: '‡§ï‡•ã‡§à ‡§ï‡§æ‡§∞‡•ç‡§Ø ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à‡•§ ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§è‡§ï ‡§¨‡§®‡§æ‡§è‡§Ç!',
            voice_question_label: '‡§Ö‡§™‡§®‡§æ ‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‡§¨‡•ã‡§≤‡•á‡§Ç:',
            teacher_dashboard_title: '‡§∂‡§ø‡§ï‡•ç‡§∑‡§ï ‡§°‡•à‡§∂‡§¨‡•ã‡§∞‡•ç‡§°',
            student_progress_title: '‡§õ‡§æ‡§§‡•ç‡§∞ ‡§™‡•ç‡§∞‡§ó‡§§‡§ø',
            view_label: '‡§¶‡•á‡§ñ‡•á‡§Ç:',
            view_option_summary: '‡§ï‡§ï‡•ç‡§∑‡§æ ‡§∏‡§æ‡§∞‡§æ‡§Ç‡§∂',
            view_option_all: '‡§∏‡§≠‡•Ä ‡§õ‡§æ‡§§‡•ç‡§∞',
            generate_report_button: '‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü ‡§¨‡§®‡§æ‡§è‡§Ç',
            summary_title: '‡§ï‡§ï‡•ç‡§∑‡§æ ‡§ï‡§æ ‡§∏‡§Æ‡§ó‡•ç‡§∞ ‡§™‡•ç‡§∞‡§¶‡§∞‡•ç‡§∂‡§®',
            summary_avg_xp: '‡§î‡§∏‡§§ XP',
            summary_avg_level: '‡§î‡§∏‡§§ ‡§∏‡•ç‡§§‡§∞',
            summary_total_students: '‡§ï‡•Å‡§≤ ‡§õ‡§æ‡§§‡•ç‡§∞',
            class_leaderboard_title: '‡§ï‡§ï‡•ç‡§∑‡§æ ‡§≤‡•Ä‡§°‡§∞‡§¨‡•ã‡§∞‡•ç‡§°',
            reward_title: '‡§™‡•Å‡§∞‡§∏‡•ç‡§ï‡§æ‡§∞ ‡§î‡§∞ ‡§Æ‡§æ‡§®‡•ç‡§Ø‡§§‡§æ',
            select_student_placeholder: '‡§è‡§ï ‡§õ‡§æ‡§§‡•ç‡§∞ ‡§ö‡•Å‡§®‡•á‡§Ç',
            award_badge_button: '‡§¨‡•à‡§ú ‡§™‡•ç‡§∞‡§¶‡§æ‡§® ‡§ï‡§∞‡•á‡§Ç',
            assignment_title: '‡§Ö‡§∏‡§æ‡§á‡§®‡§Æ‡•á‡§Ç‡§ü ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§®',
            module_title_label: '‡§Æ‡•â‡§°‡•ç‡§Ø‡•Ç‡§≤ ‡§∂‡•Ä‡§∞‡•ç‡§∑‡§ï',
            description_label: '‡§µ‡§ø‡§µ‡§∞‡§£',
            assign_to_label: '‡§ï‡•ã ‡§∏‡•å‡§Ç‡§™‡•á‡§Ç:',
            assign_all: '‡§∏‡§≠‡•Ä ‡§õ‡§æ‡§§‡•ç‡§∞',
            assign_group_a: '‡§∏‡§Æ‡•Ç‡§π ‡§è',
            assign_group_b: '‡§∏‡§Æ‡•Ç‡§π ‡§¨‡•Ä',
            create_assignment_button: '‡§Ö‡§∏‡§æ‡§á‡§®‡§Æ‡•á‡§Ç‡§ü ‡§¨‡§®‡§æ‡§è‡§Ç',
            notifications_title: '‡§∏‡•Ç‡§ö‡§®‡§æ‡§è‡§Ç ‡§î‡§∞ ‡§Ö‡§≤‡§∞‡•ç‡§ü',
            notification1: "‡§®‡§Ø‡§æ ‡§Æ‡•â‡§°‡•ç‡§Ø‡•Ç‡§≤ '‡§ú‡§≤ ‡§∏‡§Ç‡§∞‡§ï‡•ç‡§∑‡§£' ‡§∏‡§≠‡•Ä ‡§õ‡§æ‡§§‡•ç‡§∞‡•ã‡§Ç ‡§ï‡•ã ‡§∏‡•å‡§Ç‡§™‡§æ ‡§ó‡§Ø‡§æ!",
            notification2: "‡§∞‡§æ‡§ú‡•á‡§∂ ‡§®‡•á '‡§ú‡§≤ ‡§Ø‡•ã‡§¶‡•ç‡§ß‡§æ' ‡§¨‡•à‡§ú ‡§π‡§æ‡§∏‡§ø‡§≤ ‡§ï‡§ø‡§Ø‡§æ‡•§",
            notification3: "‡§Æ‡•Ä‡§®‡§æ ‡§®‡•á '‡§ó‡•ç‡§∞‡§æ‡§Æ ‡§∏‡§ø‡§§‡§æ‡§∞‡§æ' ‡§ñ‡•ã‡§ú ‡§™‡•Ç‡§∞‡•Ä ‡§ï‡§∞ ‡§≤‡•Ä ‡§π‡•à‡•§",
            parent_welcome: '‡§®‡§Æ‡§∏‡•ç‡§§‡•á, ‡§Ö‡§≠‡§ø‡§≠‡§æ‡§µ‡§ï!',
            parent_greeting_morning: '‡§∏‡•Å‡§™‡•ç‡§∞‡§≠‡§æ‡§§, ‡§Ö‡§≠‡§ø‡§≠‡§æ‡§µ‡§ï!',
            parent_greeting_afternoon: '‡§∂‡•Å‡§≠ ‡§¶‡•ã‡§™‡§π‡§∞, ‡§Ö‡§≠‡§ø‡§≠‡§æ‡§µ‡§ï!',
            parent_greeting_evening: '‡§∂‡•Å‡§≠ ‡§∏‡§Ç‡§ß‡•ç‡§Ø‡§æ, ‡§Ö‡§≠‡§ø‡§≠‡§æ‡§µ‡§ï!',
            parent_greeting_night: '‡§Ü‡§∂‡§æ ‡§π‡•à ‡§Ü‡§™‡§ï‡§æ ‡§¶‡§ø‡§® ‡§∂‡§æ‡§®‡§¶‡§æ‡§∞ ‡§∞‡§π‡§æ ‡§π‡•ã‡§ó‡§æ!',
            child_dashboard_label: "‡§™‡•ç‡§∞‡§ø‡§Ø‡§Ç‡§ï‡§æ ‡§ï‡§æ ‡§°‡•à‡§∂‡§¨‡•ã‡§∞‡•ç‡§°",
            overall_progress_title: '‡§∏‡§Æ‡§ó‡•ç‡§∞ ‡§™‡•ç‡§∞‡§ó‡§§‡§ø',
            learning_level_label: '‡§∏‡•Ä‡§ñ‡§®‡•á ‡§ï‡§æ ‡§∏‡•ç‡§§‡§∞',
            points_earned_label: '‡§Ö‡§Ç‡§ï ‡§Ö‡§∞‡•ç‡§ú‡§ø‡§§',
            badges_collected_label: '‡§¨‡•à‡§ú ‡§è‡§ï‡§§‡•ç‡§∞ ‡§ï‡§ø‡§è',
            subject_progress_title: '‡§µ‡§ø‡§∑‡§Ø ‡§™‡•ç‡§∞‡§ó‡§§‡§ø',
            lessons_label: '‡§™‡§æ‡§†',
            subject_math: '‡§ó‡§£‡§ø‡§§',
            subject_science: '‡§µ‡§ø‡§ú‡•ç‡§û‡§æ‡§®',
            subject_english: '‡§Ö‡§Ç‡§ó‡•ç‡§∞‡•á‡§ú‡•Ä',
            homework_title: '‡§π‡§æ‡§≤ ‡§ï‡§æ ‡§π‡•ã‡§Æ‡§µ‡§∞‡•ç‡§ï',
            due_label: '‡§¶‡•á‡§Ø',
            due_yesterday: '‡§ï‡§≤',
            due_tomorrow: '‡§ï‡§≤',
            due_2_days_ago: '2 ‡§¶‡§ø‡§® ‡§™‡§π‡§≤‡•á',
            status_submitted: '‡§™‡•ç‡§∞‡§∏‡•ç‡§§‡•Å‡§§',
            status_pending: '‡§≤‡§Ç‡§¨‡§ø‡§§',
            status_overdue: '‡§Ö‡§§‡§ø‡§¶‡•á‡§Ø',
            homework1_title: '‡§ó‡§£‡§ø‡§§: ‡§Ö‡§ß‡•ç‡§Ø‡§æ‡§Ø 5 ‡§ï‡•Ä ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ‡§è‡§Ç',
            homework2_title: '‡§µ‡§ø‡§ú‡•ç‡§û‡§æ‡§®: ‡§™‡§æ‡§¶‡§™ ‡§ï‡•ã‡§∂‡§ø‡§ï‡§æ ‡§Ü‡§∞‡•á‡§ñ',
            homework3_title: '‡§Ö‡§Ç‡§ó‡•ç‡§∞‡•á‡§ú‡•Ä: "‡§Æ‡•á‡§∞‡§æ ‡§ó‡§æ‡§Å‡§µ" ‡§™‡§∞ ‡§®‡§ø‡§¨‡§Ç‡§ß',
            attendance_title: '‡§â‡§™‡§∏‡•ç‡§•‡§ø‡§§‡§ø',
            present_month_label: '‡§â‡§™‡§∏‡•ç‡§•‡§ø‡§§ (‡§á‡§∏ ‡§Æ‡§π‡•Ä‡§®‡•á)',
            this_week_label: '‡§Ø‡§π ‡§∏‡§™‡•ç‡§§‡§æ‡§π',
            day_mon: '‡§∏‡•ã‡§Æ',
            day_tue: '‡§Æ‡§Ç‡§ó‡§≤',
            day_wed: '‡§¨‡•Å‡§ß',
            day_thu: '‡§ó‡•Å‡§∞‡•Å',
            day_fri: '‡§∂‡•Å‡§ï‡•ç‡§∞',
            footer_text: '¬© ‡•®‡•¶‡•®‡•´ ‡§è‡§°‡•Å‡§µ‡§æ‡§£‡•Ä‡•§ ‡§ó‡•ç‡§∞‡§æ‡§Æ‡•Ä‡§£ ‡§∂‡§ø‡§ï‡•ç‡§∑‡§æ ‡§ï‡•ã ‡§∏‡§∂‡§ï‡•ç‡§§ ‡§¨‡§®‡§æ‡§®‡§æ‡•§',
        });
        translations['as'] = createTranslation({
            login_title: '‡¶´‡ßã‡¶®‡ß∞ ‡¶∏‡¶π‡¶æ‡¶Ø‡¶º‡¶§ ‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡ß∞‡¶ï',
            request_otp: '‡¶ì‡¶ü‡¶ø‡¶™‡¶ø ‡¶Ö‡¶®‡ßÅ‡ß∞‡ßã‡¶ß ‡¶ï‡ß∞‡¶ï',
            verify_otp: '‡¶ì‡¶ü‡¶ø‡¶™‡¶ø ‡¶Ø‡¶æ‡¶ö‡¶æ‡¶á ‡¶ï‡ß∞‡¶ï',
            otp_info: '‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡ß∞‡¶ø‡¶¨‡¶≤‡ßà ‡¶Æ‡¶ï ‡¶ì‡¶ü‡¶ø‡¶™‡¶ø ‡¶™‡ßç‡ß∞‡¶¨‡¶ø‡¶∑‡ßç‡¶ü ‡¶ï‡ß∞‡¶ï‡•§',
            role_modal_title: '‡¶Ü‡¶™‡ßã‡¶®‡¶æ‡ß∞ ‡¶≠‡ßÇ‡¶Æ‡¶ø‡¶ï‡¶æ ‡¶¨‡¶æ‡¶õ‡¶®‡¶ø ‡¶ï‡ß∞‡¶ï',
            role_student: '‡¶õ‡¶æ‡¶§‡ßç‡ß∞',
            role_teacher: '‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶ï',
            role_parent: '‡¶Ö‡¶≠‡¶ø‡¶≠‡¶æ‡ß±‡¶ï',
            switch_role_button: '‡¶≠‡ßÇ‡¶Æ‡¶ø‡¶ï‡¶æ ‡¶∏‡¶≤‡¶®‡¶ø ‡¶ï‡ß∞‡¶ï',
            welcome_message: '‡¶®‡¶Æ‡¶∏‡ßç‡¶ï‡¶æ‡ß∞, ‡¶™‡ßç‡ß∞‡¶ø‡¶Ø‡¶º‡¶Ç‡¶ï‡¶æ!',
            learning_message: '‡¶Ü‡¶ú‡¶ø ‡¶®‡¶§‡ßÅ‡¶® ‡¶ï‡¶ø‡¶¨‡¶æ ‡¶è‡¶ü‡¶æ ‡¶∂‡¶ø‡¶ï‡ßã‡¶Å ‡¶Ü‡¶π‡¶ï!',
            level_text: '‡¶∏‡ßç‡¶§‡ß∞',
            daily_quests_title: '‡¶¶‡ßà‡¶®‡¶®‡ßç‡¶¶‡¶ø‡¶® ‡¶ï‡ß∞‡ßç‡¶Æ‡¶∏‡ßÇ‡¶ö‡ßÄ',
            leaderboard_title: '‡¶≤‡¶ø‡¶°‡¶æ‡ß∞‡¶¨‡ßã‡¶∞‡ßç‡¶°',
            badges_title: '‡¶â‡¶™‡¶≤‡¶¨‡ßç‡¶ß‡¶ø ‡¶¨‡ßá‡¶ú',
            progress_title: '‡¶Æ‡¶°‡¶ø‡¶â‡¶≤ ‡¶Ö‡¶ó‡ßç‡ß∞‡¶ó‡¶§‡¶ø',
            generate_quest_button: '‚ú® ‡¶®‡¶§‡ßÅ‡¶® ‡¶ï‡ß∞‡ßç‡¶Æ ‡¶®‡¶ø‡ß∞‡ßç‡¶Æ‡¶æ‡¶£ ‡¶ï‡ß∞‡¶ï',
            read_aloud_button: '‚ú® ‡¶∂‡¶¨‡ßç‡¶¶‡ßá‡ß∞‡ßá ‡¶™‡¶¢‡¶º‡¶ï',
            explain_concept_button: '‚ú® ‡¶ß‡¶æ‡ß∞‡¶£‡¶æ‡¶ü‡ßã ‡¶¨‡ßÅ‡¶ú‡¶æ‡¶á ‡¶¶‡¶ø‡¶Ø‡¶º‡¶ï',
            badge_star: '‡¶ó‡ßç‡ß∞‡¶æ‡¶Æ ‡¶§‡¶æ‡ß∞‡¶ï‡¶æ',
            badge_water: '‡¶™‡¶æ‡¶®‡¶ø ‡¶Ø‡ßã‡¶¶‡ßç‡¶ß‡¶æ',
            badge_bookworm: '‡¶¨‡¶á‡¶™‡ßç‡ß∞‡ßá‡¶Æ‡ßÄ',
            badge_locked: '‡¶≤‡¶ï‡¶°',
            start_button_text: '‡¶Ü‡ß∞‡¶Æ‡ßç‡¶≠ ‡¶ï‡ß∞‡¶ï',

            seeds_title: '‡¶¨‡ßÄ‡¶ú‡ß∞ ‡¶™‡ßç‡ß∞‡¶ï‡¶æ‡ß∞‡¶¨‡ßã‡ß∞ ‡¶ú‡¶æ‡¶®‡¶ï',
            seeds_desc: '‡¶∏‡ßç‡¶•‡¶æ‡¶®‡ßÄ‡¶Ø‡¶º ‡¶∂‡¶∏‡ßç‡¶Ø ‡¶Ü‡ß∞‡ßÅ ‡¶¨‡ßÄ‡¶ú‡¶∏‡¶Æ‡ßÇ‡¶π‡ß∞ ‡¶ì‡¶™‡ß∞‡¶§ ‡¶è‡¶ü‡¶æ ‡¶≠‡¶ø‡¶°‡¶ø‡¶Ö‚Äô ‡¶ö‡¶æ‡¶ì‡¶ï‡•§',
            water_conservation_title: '‡¶Ü‡¶Æ‡¶æ‡ß∞ ‡¶ó‡¶æ‡¶Å‡ß±‡ß∞ ‡¶ñ‡ßá‡¶§‡¶ø‡¶≤‡ßà ‡¶™‡¶æ‡¶®‡¶ø ‡¶Ø‡ßã‡¶ó‡¶æ‡¶® ‡¶ï‡ß∞‡¶ï',
            water_conservation_desc: '‡¶∏‡¶Ç‡ß∞‡¶ï‡ßç‡¶∑‡¶£ ‡¶∏‡¶Æ‡ßç‡¶™‡ß∞‡ßç‡¶ï‡ßá ‡¶ú‡¶æ‡¶®‡¶ø‡¶¨‡¶≤‡ßà ‡¶ñ‡ßá‡¶§‡¶ø‡¶ï ‡¶™‡¶æ‡¶®‡¶ø ‡¶Ø‡ßã‡¶ó‡¶æ‡¶®‡ß∞ ‡¶Ö‡¶®‡ßÅ‡¶ï‡ß∞‡¶£ ‡¶ï‡ß∞‡¶ï‡•§',

            math_quest_title: '‡¶ó‡¶£‡¶ø‡¶§: ‡¶ï‡ßç‡¶∑‡ßá‡¶§‡ßç‡ß∞‡¶´‡¶≤ ‡¶ó‡¶£‡¶ï',
            math_quest_desc: '‡¶ó‡¶£‡¶ø‡¶§ ‡¶Æ‡¶°‡¶ø‡¶â‡¶≤‡¶§ ‡¶Ü‡¶™‡ßÅ‡¶®‡¶ø ‡¶∂‡¶∏‡ßç‡¶Ø ‡¶â‡ßé‡¶™‡¶æ‡¶¶‡¶® ‡¶ó‡¶£‡¶®‡¶æ ‡¶ï‡ß∞‡¶æ, ‡¶™‡¶æ‡¶®‡¶ø‡ß∞ ‡¶¨‡ßç‡¶Ø‡ß±‡¶π‡¶æ‡ß∞ ‡¶Æ‡¶æ‡¶™‡¶ø ‡¶ö‡ßã‡ß±‡¶æ ‡¶Ü‡ß∞‡ßÅ ‡¶ñ‡ßá‡¶§‡¶ø‡ß∞ ‡¶¨‡¶æ‡¶¨‡ßá ‡¶¨‡¶æ‡¶ú‡ßá‡¶ü ‡¶™‡ß∞‡¶ø‡¶ö‡¶æ‡¶≤‡¶®‡¶æ ‡¶ï‡ß∞‡¶æ ‡¶∂‡¶ø‡¶ï‡¶ø‡¶¨‡•§',

            science_quest_title: '‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶®: ‡¶Ü‡¶Æ‡¶æ‡ß∞ ‡¶™‡¶æ‡¶®‡ßÄ‡ß∞ ‡¶â‡ßé‡¶∏',
            science_quest_desc: '‡¶è‡¶á ‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶® ‡¶Æ‡¶°‡¶ø‡¶â‡¶≤‡¶§, ‡¶Ü‡¶™‡ßÅ‡¶®‡¶ø ‡¶™‡¶æ‡¶®‡ßÄ‡ß∞ ‡¶ö‡¶ï‡ßç‡¶∞, ‡¶ó‡¶æ‡¶Å‡¶ì‡ß∞ ‡¶™‡¶æ‡¶®‡ßÄ‡ß∞ ‡¶¨‡¶ø‡¶≠‡¶ø‡¶®‡ßç‡¶® ‡¶â‡ßé‡¶∏ ‡¶Ü‡ß∞‡ßÅ ‡¶∏‡¶ø‡¶π‡¶Å‡¶§‡¶ï ‡¶ï‡ßá‡¶®‡ßá‡¶ï‡ßà ‡¶™‡ß∞‡¶ø‡¶∑‡ßç‡¶ï‡¶æ‡ß∞ ‡ß∞‡¶æ‡¶ñ‡¶ø‡¶¨ ‡¶∏‡ßá‡¶á‡¶¨‡ßã‡ß∞ ‡¶∂‡¶ø‡¶ï‡¶ø‡¶¨‡•§',

            history_quest_title: '‡¶∏‡ßç‡¶•‡¶æ‡¶®‡ßÄ‡¶Ø‡¶º ‡¶á‡¶§‡¶ø‡¶π‡¶æ‡¶∏: ‡¶Ü‡¶Æ‡¶æ‡ß∞ ‡¶ó‡¶æ‡¶Å‡¶ì‡ß∞ ‡¶¨‡¶Ø‡¶º‡ßã‡¶ú‡ßç‡¶Ø‡ßá‡¶∑‡ßç‡¶†‡¶∏‡¶ï‡¶≤',
            history_quest_desc: '‡¶∏‡ßç‡¶•‡¶æ‡¶®‡ßÄ‡¶Ø‡¶º ‡¶á‡¶§‡¶ø‡¶π‡¶æ‡¶∏ ‡¶Æ‡¶°‡¶ø‡¶â‡¶≤‡¶§ ‡¶Ü‡¶™‡ßÅ‡¶®‡¶ø ‡¶ó‡¶æ‡¶Å‡¶ì‡ß∞ ‡¶¨‡¶Ø‡¶º‡ßã‡¶ú‡ßç‡¶Ø‡ßá‡¶∑‡ßç‡¶†‡¶∏‡¶ï‡¶≤‡ßá ‡¶ï‡ßã‡ß±‡¶æ ‡¶ï‡¶æ‡¶π‡¶ø‡¶®‡ßÄ ‡¶Ü‡ß∞‡ßÅ ‡¶™‡ß∞‡¶Æ‡ßç‡¶™‡ß∞‡¶æ‡¶¨‡ßã‡ß∞ ‡¶ú‡¶æ‡¶®‡¶ø‡¶¨‡•§',

            not_yet_earned: '‡¶è‡¶§‡¶ø‡¶Ø‡¶º‡¶æ‡¶ì ‡¶≤‡¶æ‡¶≠ ‡¶π‡ßã‡ß±‡¶æ ‡¶®‡¶æ‡¶á',
            loading_quests: '‡¶®‡¶§‡ßÅ‡¶® ‡¶ï‡ß∞‡ßç‡¶Æ ‡¶®‡¶ø‡ß∞‡ßç‡¶Æ‡¶æ‡¶£ ‡¶ï‡ß∞‡¶æ ‡¶π‡ßà‡¶õ‡ßá...',
            loading_audio: '‡¶Ö‡¶°‡¶ø‡¶Ö‚Äô ‡¶≤‚Äô‡¶° ‡¶ï‡ß∞‡¶æ ‡¶π‡ßà‡¶õ‡ßá...',
            loading_explanation: '‡¶¨‡ßç‡¶Ø‡¶æ‡¶ñ‡ßç‡¶Ø‡¶æ ‡¶™‡ßç‡ß∞‡¶∏‡ßç‡¶§‡ßÅ‡¶§ ‡¶ï‡ß∞‡¶æ ‡¶π‡ßà‡¶õ‡ßá...',
            loading_report: '‡¶ï‡ßç‡¶≤‡¶æ‡¶õ ‡¶™‡ßç‡ß∞‡¶§‡¶ø‡¶¨‡ßá‡¶¶‡¶® ‡¶™‡ßç‡ß∞‡¶∏‡ßç‡¶§‡ßÅ‡¶§ ‡¶ï‡ß∞‡¶æ ‡¶π‡ßà‡¶õ‡ßá...',
            quest_generated_success: '‡¶®‡¶§‡ßÅ‡¶® ‡¶ï‡ß∞‡ßç‡¶Æ ‡¶®‡¶ø‡ß∞‡ßç‡¶Æ‡¶æ‡¶£ ‡¶π‡ßà‡¶õ‡ßá!',
            quest_already_generated: '‡¶è‡¶¶‡¶ø‡¶®‡¶§ ‡¶ï‡ßá‡ß±‡¶≤ ‡¶è‡¶ü‡¶æ ‡¶ï‡ß∞‡ßç‡¶Æ ‡¶®‡¶ø‡ß∞‡ßç‡¶Æ‡¶æ‡¶£ ‡¶ï‡ß∞‡¶ø‡¶¨ ‡¶™‡¶æ‡ß∞‡¶ø‡¶¨‡•§',
            no_text_to_read: '‡¶™‡¶¢‡¶º‡¶ø‡¶¨‡¶≤‡ßà ‡¶ï‡ßã‡¶®‡ßã ‡¶™‡¶æ‡¶† ‡¶®‡¶æ‡¶á‡•§',
            xp_gained: '+{xp} XP!',
            no_quests: '‡¶ï‡ßã‡¶®‡ßã ‡¶ï‡ß∞‡ßç‡¶Æ ‡¶â‡¶™‡¶≤‡¶¨‡ßç‡¶ß ‡¶®‡¶æ‡¶á‡•§ ‡¶Ü‡ß∞‡¶Æ‡ßç‡¶≠ ‡¶ï‡ß∞‡¶ø‡¶¨‡¶≤‡ßà ‡¶è‡¶ü‡¶æ ‡¶®‡¶ø‡ß∞‡ßç‡¶Æ‡¶æ‡¶£ ‡¶ï‡ß∞‡¶ï!',
            voice_question_label: '‡¶Ü‡¶™‡ßã‡¶®‡¶æ‡ß∞ ‡¶™‡ßç‡ß∞‡¶∂‡ßç‡¶®‡¶ü‡ßã ‡¶ï‡¶ì‡¶ï:',

            teacher_dashboard_title: '‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶ï ‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‚Äô‡ß∞‡ßç‡¶°',
            student_progress_title: '‡¶õ‡¶æ‡¶§‡ßç‡ß∞‡ß∞ ‡¶Ö‡¶ó‡ßç‡ß∞‡¶ó‡¶§‡¶ø',
            view_label: '‡¶ö‡¶æ‡¶ì‡¶ï:',
            view_option_summary: '‡¶ï‡ßç‡¶≤‡¶æ‡¶õ ‡¶∏‡¶æ‡ß∞‡¶æ‡¶Ç‡¶∂',
            view_option_all: '‡¶∏‡¶ï‡¶≤‡ßã ‡¶õ‡¶æ‡¶§‡ßç‡ß∞',
            generate_report_button: '‡¶™‡ßç‡ß∞‡¶§‡¶ø‡¶¨‡ßá‡¶¶‡¶® ‡¶®‡¶ø‡ß∞‡ßç‡¶Æ‡¶æ‡¶£ ‡¶ï‡ß∞‡¶ï',
            summary_title: '‡¶ï‡ßç‡¶≤‡¶æ‡¶õ‡ß∞ ‡¶∏‡¶æ‡¶Æ‡¶ó‡ßç‡ß∞‡¶ø‡¶ï ‡¶ï‡¶æ‡ß∞‡ßç‡¶Ø‡¶ï‡ßç‡¶∑‡¶Æ‡¶§‡¶æ',
            summary_avg_xp: '‡¶ó‡¶°‡¶º XP',
            summary_avg_level: '‡¶ó‡¶°‡¶º ‡¶∏‡ßç‡¶§‡ß∞',
            summary_total_students: '‡¶Æ‡ßÅ‡¶† ‡¶õ‡¶æ‡¶§‡ßç‡ß∞',
            class_leaderboard_title: '‡¶ï‡ßç‡¶≤‡¶æ‡¶õ ‡¶≤‡¶ø‡¶°‡¶æ‡ß∞‡¶¨‡ßã‡¶∞‡ßç‡¶°',

            reward_title: '‡¶™‡ßÅ‡ß∞‡¶∏‡ßç‡¶ï‡¶æ‡ß∞ ‡¶Ü‡ß∞‡ßÅ ‡¶∏‡ßç‡¶¨‡ßÄ‡¶ï‡ßÉ‡¶§‡¶ø',
            select_student_placeholder: '‡¶è‡¶ú‡¶® ‡¶õ‡¶æ‡¶§‡ßç‡ß∞ ‡¶¨‡¶æ‡¶õ‡¶®‡¶ø ‡¶ï‡ß∞‡¶ï',
            award_badge_button: '‡¶¨‡ßá‡¶ú ‡¶™‡ßç‡ß∞‡¶¶‡¶æ‡¶® ‡¶ï‡ß∞‡¶ï',

            assignment_title: '‡¶Ö‡ßç‡¶Ø‡¶æ‡¶∏‡¶æ‡¶á‡¶®‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶™‡ß∞‡¶ø‡¶ö‡¶æ‡¶≤‡¶®‡¶æ',
            module_title_label: '‡¶Æ‡¶°‡¶ø‡¶â‡¶≤ ‡¶∂‡¶ø‡ß∞‡ßã‡¶®‡¶æ‡¶Æ',
            description_label: '‡¶¨‡¶ø‡ß±‡ß∞‡¶£',
            assign_to_label: '‡¶¶‡¶ø‡¶Ø‡¶º‡¶ï:',
            assign_all: '‡¶∏‡¶ï‡¶≤‡ßã ‡¶õ‡¶æ‡¶§‡ßç‡ß∞',
            assign_group_a: '‡¶¶‡¶≤ A',
            assign_group_b: '‡¶¶‡¶≤ B',
            create_assignment_button: '‡¶Ö‡ßç‡¶Ø‡¶æ‡¶∏‡¶æ‡¶á‡¶®‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶®‡¶ø‡ß∞‡ßç‡¶Æ‡¶æ‡¶£ ‡¶ï‡ß∞‡¶ï',

            notifications_title: '‡¶Ö‡¶ß‡¶ø‡¶∏‡ßÇ‡¶ö‡¶®‡¶æ ‡¶Ü‡ß∞‡ßÅ ‡¶∏‡¶§‡ß∞‡ßç‡¶ï‡¶¨‡¶æ‡ß∞‡ßç‡¶§‡¶æ',
            notification1: "‡¶®‡¶§‡ßÅ‡¶® ‡¶Æ‡¶°‡¶ø‡¶â‡¶≤ '‡¶™‡¶æ‡¶®‡¶ø ‡¶∏‡¶Ç‡ß∞‡¶ï‡ßç‡¶∑‡¶£' ‡¶∏‡¶ï‡¶≤‡ßã ‡¶õ‡¶æ‡¶§‡ßç‡ß∞‡¶≤‡ßà ‡¶™‡ßç‡ß∞‡ßá‡ß∞‡¶£ ‡¶ï‡ß∞‡¶æ ‡¶π‡ßà‡¶õ‡ßá!",
            notification2: "‡ß∞‡¶æ‡¶ú‡ßá‡¶∂‡ßá '‡¶™‡¶æ‡¶®‡¶ø ‡¶Ø‡ßã‡¶¶‡ßç‡¶ß‡¶æ' ‡¶¨‡ßá‡¶ú ‡¶Ö‡ß∞‡ßç‡¶ú‡¶® ‡¶ï‡ß∞‡¶ø‡¶õ‡ßá‡•§",
            notification3: "‡¶Æ‡ßÄ‡¶£‡¶æ‡¶á '‡¶ó‡ßç‡ß∞‡¶æ‡¶Æ ‡¶§‡¶æ‡ß∞‡¶ï‡¶æ' ‡¶ï‡ß∞‡ßç‡¶Æ ‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡ß∞‡ßç‡¶£ ‡¶ï‡ß∞‡¶ø‡¶õ‡ßá‡•§",

            parent_welcome: '‡¶®‡¶Æ‡¶∏‡ßç‡¶ï‡¶æ‡ß∞, ‡¶Ö‡¶≠‡¶ø‡¶≠‡¶æ‡ß±‡¶ï!',
            parent_greeting_morning: '‡¶∏‡ßÅ‡¶™‡ßç‡ß∞‡¶≠‡¶æ‡¶§, ‡¶Ö‡¶≠‡¶ø‡¶≠‡¶æ‡ß±‡¶ï!',
            parent_greeting_afternoon: '‡¶∂‡ßÅ‡¶≠ ‡¶¶‡ßÅ‡¶™‡ßÅ‡¶∞, ‡¶Ö‡¶≠‡¶ø‡¶≠‡¶æ‡ß±‡¶ï!',
            parent_greeting_evening: '‡¶∂‡ßÅ‡¶≠ ‡¶∏‡¶®‡ßç‡¶ß‡ßç‡¶Ø‡¶æ, ‡¶Ö‡¶≠‡¶ø‡¶≠‡¶æ‡ß±‡¶ï!',
            parent_greeting_night: '‡¶Ü‡¶∂‡¶æ ‡¶ï‡ß∞‡ßã‡¶Å ‡¶Ü‡¶™‡ßã‡¶®‡¶æ‡ß∞ ‡¶¶‡¶ø‡¶®‡¶ü‡ßã ‡¶Ö‡¶∏‡¶æ‡¶ß‡¶æ‡ß∞‡¶£ ‡¶π‡ßà‡¶õ‡¶ø‡¶≤!',

            child_dashboard_label: '‡¶™‡ßç‡ß∞‡¶ø‡¶Ø‡¶º‡¶Ç‡¶ï‡¶æ‡ß∞ ‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‚Äô‡ß∞‡ßç‡¶°',
            overall_progress_title: '‡¶∏‡¶æ‡¶Æ‡¶ó‡ßç‡ß∞‡¶ø‡¶ï ‡¶Ö‡¶ó‡ßç‡ß∞‡¶ó‡¶§‡¶ø',
            learning_level_label: '‡¶∂‡¶ø‡¶ï‡¶æ‡ß∞ ‡¶∏‡ßç‡¶§‡ß∞',
            points_earned_label: '‡¶™‡¶á‡¶£‡ßç‡¶ü ‡¶Ö‡ß∞‡ßç‡¶ú‡¶®',
            badges_collected_label: '‡¶¨‡ßá‡¶ú ‡¶∏‡¶Ç‡¶ó‡ßç‡ß∞‡¶π',
            subject_progress_title: '‡¶¨‡¶ø‡¶∑‡¶Ø‡¶º‡ß∞ ‡¶Ö‡¶ó‡ßç‡ß∞‡¶ó‡¶§‡¶ø',
            lessons_label: '‡¶™‡¶æ‡¶†',
            subject_math: '‡¶ó‡¶£‡¶ø‡¶§',
            subject_science: '‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶®',
            subject_english: '‡¶á‡¶Ç‡ß∞‡¶æ‡¶ú‡ßÄ',

            homework_title: '‡¶∂‡ßá‡¶π‡¶§‡ßÄ‡¶Ø‡¶º‡¶æ ‡¶ó‡ßÉ‡¶π‡¶ï‡¶æ‡ß∞‡ßç‡¶Ø‡ßç‡¶Ø',
            due_label: '‡¶∏‡¶Æ‡¶Ø‡¶º‡¶∏‡ßÄ‡¶Æ‡¶æ',
            due_yesterday: '‡¶ï‡¶æ‡¶≤‡¶ø',
            due_tomorrow: '‡¶Ü‡¶ú‡¶ø ‡¶™‡¶ø‡¶õ‡¶§',
            due_2_days_ago: '‡ß® ‡¶¶‡¶ø‡¶® ‡¶Ü‡¶ó‡¶§‡ßá',
            status_submitted: '‡¶ú‡¶Æ‡¶æ ‡¶¶‡¶ø‡¶Ø‡¶º‡¶æ ‡¶π‡ßà‡¶õ‡ßá',
            status_pending: '‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ‡ß∞‡¶§',
            status_overdue: '‡¶∏‡¶Æ‡¶Ø‡¶º ‡¶Ö‡¶§‡¶ø‡¶ï‡ßç‡ß∞‡¶Æ',

            homework1_title: '‡¶ó‡¶£‡¶ø‡¶§: ‡¶Ö‡¶ß‡ßç‡¶Ø‡¶æ‡¶Ø‡¶º ‡ß´‡ß∞ ‡¶™‡ßç‡ß∞‡¶∂‡ßç‡¶®‡¶∏‡¶Æ‡ßÇ‡¶π',
            homework2_title: '‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶®: ‡¶â‡¶¶‡ßç‡¶≠‡¶ø‡¶¶ ‡¶ï‡ßã‡¶∑‡ß∞ ‡¶Ü‡¶ñ‡ßç‡¶Ø‡¶æ',
            homework3_title: '‡¶á‡¶Ç‡ß∞‡¶æ‡¶ú‡ßÄ: "‡¶Æ‡ßã‡ß∞ ‡¶ó‡¶æ‡¶Å‡¶ì"‡ß∞ ‡¶ì‡¶™‡ß∞‡¶§ ‡¶™‡ßç‡ß∞‡¶¨‡¶®‡ßç‡¶ß',

            attendance_title: '‡¶â‡¶™‡¶∏‡ßç‡¶•‡¶ø‡¶§‡¶ø',
            present_month_label: '‡¶â‡¶™‡¶∏‡ßç‡¶•‡¶ø‡¶§‡¶ø (‡¶è‡¶á ‡¶Æ‡¶æ‡¶π‡¶§)',
            this_week_label: '‡¶è‡¶á ‡¶∏‡¶™‡ßç‡¶§‡¶æ‡¶π',
            day_mon: '‡¶∏‡ßã‡¶Æ',
            day_tue: '‡¶Æ‡¶ô‡ßç‡¶ó‡¶≤',
            day_wed: '‡¶¨‡ßÅ‡¶ß',
            day_thu: '‡¶¨‡ßÉ‡¶π',
            day_fri: '‡¶∂‡ßÅ‡¶ï‡ßç‡ß∞',

            footer_text: '¬© ‡ß®‡ß¶‡ß®‡ß´ ‡¶è‡¶°‡ßÅ‡¶≠‡¶æ‡¶£‡ßÄ‡•§ ‡¶ó‡ßç‡ß∞‡¶æ‡¶Æ‡ßç‡¶Ø ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ ‡¶∂‡¶ï‡ßç‡¶§‡¶ø‡¶∂‡¶æ‡¶≤‡ßÄ‡¶ï‡ß∞‡¶£‡•§'  
        });
        translations['bn'] = createTranslation({
            login_title: '‡¶´‡ßã‡¶® ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®',
            request_otp: 'OTP ‡¶Ö‡¶®‡ßÅ‡¶∞‡ßã‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®',
            verify_otp: 'OTP ‡¶Ø‡¶æ‡¶ö‡¶æ‡¶á ‡¶ï‡¶∞‡ßÅ‡¶®',
            otp_info: '‡¶≤‡¶ó ‡¶á‡¶® ‡¶ï‡¶∞‡¶§‡ßá ‡¶Æ‡¶ï ‡¶ì‡¶ü‡¶ø‡¶™‡¶ø ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®‡•§',
            role_modal_title: '‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶≠‡ßÇ‡¶Æ‡¶ø‡¶ï‡¶æ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®',
            role_student: '‡¶õ‡¶æ‡¶§‡ßç‡¶∞',
            role_teacher: '‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶ï',
            role_parent: '‡¶Ö‡¶≠‡¶ø‡¶≠‡¶æ‡¶¨‡¶ï',
            switch_role_button: '‡¶≠‡ßÇ‡¶Æ‡¶ø‡¶ï‡¶æ ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®',
            welcome_message: '‡¶®‡¶Æ‡¶∏‡ßç‡¶ï‡¶æ‡¶∞, ‡¶™‡ßç‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ‡¶ô‡ßç‡¶ï‡¶æ!',
            learning_message: '‡¶Ü‡¶∏‡ßÅ‡¶®, ‡¶Ü‡¶ú ‡¶®‡¶§‡ßÅ‡¶® ‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶∂‡¶ø‡¶ñ‡¶ø!',
            level_text: '‡¶∏‡ßç‡¶§‡¶∞',
            daily_quests_title: '‡¶¶‡ßà‡¶®‡¶ø‡¶ï ‡¶ï‡¶æ‡¶ú',
            leaderboard_title: '‡¶≤‡¶ø‡¶°‡¶æ‡¶∞‡¶¨‡ßã‡¶∞‡ßç‡¶°',
            badges_title: '‡¶ï‡ßÉ‡¶§‡¶ø‡¶§‡ßç‡¶¨‡ßá‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ú',
            progress_title: '‡¶Æ‡¶°‡¶ø‡¶â‡¶≤ ‡¶Ö‡¶ó‡ßç‡¶∞‡¶ó‡¶§‡¶ø',
            generate_quest_button: '‚ú® ‡¶®‡¶§‡ßÅ‡¶® ‡¶ï‡¶æ‡¶ú ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®',
            read_aloud_button: '‚ú® ‡¶ú‡ßã‡¶∞‡ßá ‡¶™‡¶°‡¶º‡ßÅ‡¶®',
            explain_concept_button: '‚ú® ‡¶ß‡¶æ‡¶∞‡¶£‡¶æ‡¶ü‡¶ø ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ñ‡ßç‡¶Ø‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®',
            badge_star: '‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ‡ßá‡¶∞ ‡¶§‡¶æ‡¶∞‡¶ï‡¶æ',
            badge_water: '‡¶ú‡¶≤ ‡¶Ø‡ßã‡¶¶‡ßç‡¶ß‡¶æ',
            badge_bookworm: '‡¶¨‡¶á‡¶™‡ßã‡¶ï‡¶æ',
            badge_locked: '‡¶≤‡¶ï ‡¶ï‡¶∞‡¶æ',
            start_button_text: '‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßÅ‡¶®',
            seeds_title: '‡¶¨‡ßÄ‡¶ú‡ßá‡¶∞ ‡¶™‡ßç‡¶∞‡¶ï‡¶æ‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶™‡¶∞‡ßç‡¶ï‡ßá ‡¶ú‡¶æ‡¶®‡ßÅ‡¶®',
            seeds_desc: '‡¶∏‡ßç‡¶•‡¶æ‡¶®‡ßÄ‡¶Ø‡¶º ‡¶´‡¶∏‡¶≤ ‡¶è‡¶¨‡¶Ç ‡¶§‡¶æ‡¶¶‡ßá‡¶∞ ‡¶¨‡ßÄ‡¶ú ‡¶®‡¶ø‡¶Ø‡¶º‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®‡•§',
            water_conservation_title: '‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ‡ßá‡¶∞ ‡¶ú‡¶Æ‡¶ø‡¶§‡ßá ‡¶ú‡¶≤ ‡¶¶‡¶ø‡¶®',
            water_conservation_desc: '‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£ ‡¶∏‡¶Æ‡ßç‡¶™‡¶∞‡ßç‡¶ï‡ßá ‡¶ú‡¶æ‡¶®‡¶§‡ßá ‡¶´‡¶∏‡¶≤‡¶ï‡ßá ‡¶ú‡¶≤ ‡¶¶‡ßá‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶Ö‡¶®‡ßÅ‡¶ï‡¶∞‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§',
            math_quest_title: '‡¶ó‡¶£‡¶ø‡¶§: ‡¶ï‡ßç‡¶∑‡ßá‡¶§‡ßç‡¶∞ ‡¶ï‡ßç‡¶Ø‡¶æ‡¶≤‡¶ï‡ßÅ‡¶≤‡ßá‡¶ü‡¶∞',
            math_quest_desc: '‡¶ó‡¶£‡¶ø‡¶§ ‡¶Æ‡¶°‡¶ø‡¶â‡¶≤ ‡¶Ü‡¶™‡¶®‡¶æ‡¶ï‡ßá ‡¶´‡¶∏‡¶≤‡ßá‡¶∞ ‡¶´‡¶≤‡¶® ‡¶ó‡¶£‡¶®‡¶æ ‡¶ï‡¶∞‡¶§‡ßá, ‡¶ú‡¶≤‡ßá‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶™ ‡¶ï‡¶∞‡¶§‡ßá ‡¶è‡¶¨‡¶Ç ‡¶ö‡¶æ‡¶∑‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡¶æ‡¶ú‡ßá‡¶ü ‡¶™‡¶∞‡¶ø‡¶ö‡¶æ‡¶≤‡¶®‡¶æ ‡¶ï‡¶∞‡¶§‡ßá ‡¶∂‡ßá‡¶ñ‡¶æ‡¶Ø‡¶º‡•§',
            science_quest_title: '‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶®: ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶ú‡¶≤‡ßá‡¶∞ ‡¶â‡ßé‡¶∏',
            science_quest_desc: '‡¶è‡¶á ‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶® ‡¶Æ‡¶°‡¶ø‡¶â‡¶≤‡ßá, ‡¶Ü‡¶™‡¶®‡¶ø ‡¶ú‡¶≤‡¶ö‡¶ï‡ßç‡¶∞, ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ‡ßá‡¶∞ ‡¶¨‡¶ø‡¶≠‡¶ø‡¶®‡ßç‡¶® ‡¶ß‡¶∞‡¶£‡ßá‡¶∞ ‡¶ú‡¶≤‡ßá‡¶∞ ‡¶â‡ßé‡¶∏ ‡¶è‡¶¨‡¶Ç ‡¶∏‡ßá‡¶ó‡ßÅ‡¶≤‡¶ø ‡¶ï‡ßÄ‡¶≠‡¶æ‡¶¨‡ßá ‡¶™‡¶∞‡¶ø‡¶∑‡ßç‡¶ï‡¶æ‡¶∞ ‡¶∞‡¶æ‡¶ñ‡¶§‡ßá ‡¶π‡¶Ø‡¶º ‡¶∏‡ßá ‡¶∏‡¶Æ‡ßç‡¶™‡¶∞‡ßç‡¶ï‡ßá ‡¶ú‡¶æ‡¶®‡¶¨‡ßá‡¶®‡•§',
            history_quest_title: '‡¶∏‡ßç‡¶•‡¶æ‡¶®‡ßÄ‡¶Ø‡¶º ‡¶á‡¶§‡¶ø‡¶π‡¶æ‡¶∏: ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ‡ßá‡¶∞ ‡¶™‡ßç‡¶∞‡¶¨‡ßÄ‡¶£‡¶∞‡¶æ',
            history_quest_desc: '‡¶∏‡ßç‡¶•‡¶æ‡¶®‡ßÄ‡¶Ø‡¶º ‡¶á‡¶§‡¶ø‡¶π‡¶æ‡¶∏ ‡¶Æ‡¶°‡¶ø‡¶â‡¶≤‡¶ü‡¶ø ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ‡ßá‡¶∞ ‡¶™‡ßç‡¶∞‡¶¨‡ßÄ‡¶£‡¶¶‡ßá‡¶∞ ‡¶ï‡¶æ‡¶õ ‡¶•‡ßá‡¶ï‡ßá ‡¶™‡ßç‡¶∞‡¶æ‡¶™‡ßç‡¶§ ‡¶ó‡¶≤‡ßç‡¶™ ‡¶è‡¶¨‡¶Ç ‡¶ê‡¶§‡¶ø‡¶π‡ßç‡¶Ø‡¶ó‡ßÅ‡¶≤‡¶ø ‡¶Ö‡¶®‡ßç‡¶¨‡ßá‡¶∑‡¶£ ‡¶ï‡¶∞‡ßá‡•§',
            not_yet_earned: '‡¶è‡¶ñ‡¶®‡¶ì ‡¶Ö‡¶∞‡ßç‡¶ú‡¶ø‡¶§ ‡¶π‡¶Ø‡¶º‡¶®‡¶ø',
            loading_quests: '‡¶®‡¶§‡ßÅ‡¶® ‡¶ï‡¶æ‡¶ú ‡¶§‡ßà‡¶∞‡¶ø ‡¶π‡¶ö‡ßç‡¶õ‡ßá...',
            loading_audio: '‡¶Ö‡¶°‡¶ø‡¶ì ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...',
            loading_explanation: '‡¶¨‡ßç‡¶Ø‡¶æ‡¶ñ‡ßç‡¶Ø‡¶æ ‡¶§‡ßà‡¶∞‡¶ø ‡¶π‡¶ö‡ßç‡¶õ‡ßá...',
            loading_report: '‡¶ï‡ßç‡¶≤‡¶æ‡¶∏‡ßá‡¶∞ ‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶§‡ßà‡¶∞‡¶ø ‡¶π‡¶ö‡ßç‡¶õ‡ßá...',
            quest_generated_success: '‡¶®‡¶§‡ßÅ‡¶® ‡¶ï‡¶æ‡¶ú ‡¶§‡ßà‡¶∞‡¶ø ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!',
            quest_already_generated: '‡¶Ü‡¶™‡¶®‡¶ø ‡¶¶‡¶ø‡¶®‡ßá ‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡¶è‡¶ï‡¶ü‡¶ø ‡¶ï‡¶æ‡¶ú ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶®‡•§',
            no_text_to_read: '‡¶™‡¶°‡¶º‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ï‡ßã‡¶® ‡¶≤‡ßá‡¶ñ‡¶æ ‡¶®‡ßá‡¶á‡•§',
            xp_gained: '+{xp} XP!',
            no_quests: '‡¶ï‡ßã‡¶® ‡¶ï‡¶æ‡¶ú ‡¶â‡¶™‡¶≤‡¶¨‡ßç‡¶ß ‡¶®‡ßá‡¶á‡•§ ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡¶§‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®!',
            voice_question_label: '‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶® ‡¶¨‡¶≤‡ßÅ‡¶®:',
            teacher_dashboard_title: '‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶ï‡ßá‡¶∞ ‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶°',
            student_progress_title: '‡¶õ‡¶æ‡¶§‡ßç‡¶∞‡ßá‡¶∞ ‡¶Ö‡¶ó‡ßç‡¶∞‡¶ó‡¶§‡¶ø',
            view_label: '‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®:',
            view_option_summary: '‡¶ï‡ßç‡¶≤‡¶æ‡¶∏‡ßá‡¶∞ ‡¶∏‡¶æ‡¶∞‡¶æ‡¶Ç‡¶∂',
            view_option_all: '‡¶∏‡¶Æ‡¶∏‡ßç‡¶§ ‡¶õ‡¶æ‡¶§‡ßç‡¶∞',
            generate_report_button: '‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®',
            summary_title: '‡¶ï‡ßç‡¶≤‡¶æ‡¶∏‡ßá‡¶∞ ‡¶∏‡¶æ‡¶Æ‡¶ó‡ßç‡¶∞‡¶ø‡¶ï ‡¶™‡¶æ‡¶∞‡¶´‡¶∞‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶∏',
            summary_avg_xp: '‡¶ó‡¶°‡¶º XP',
            summary_avg_level: '‡¶ó‡¶°‡¶º ‡¶∏‡ßç‡¶§‡¶∞',
            summary_total_students: '‡¶Æ‡ßã‡¶ü ‡¶õ‡¶æ‡¶§‡ßç‡¶∞',
            class_leaderboard_title: '‡¶ï‡ßç‡¶≤‡¶æ‡¶∏‡ßá‡¶∞ ‡¶≤‡¶ø‡¶°‡¶æ‡¶∞‡¶¨‡ßã‡¶∞‡ßç‡¶°',
            reward_title: '‡¶™‡ßÅ‡¶∞‡¶∏‡ßç‡¶ï‡¶æ‡¶∞ ‡¶è‡¶¨‡¶Ç ‡¶∏‡ßç‡¶¨‡ßÄ‡¶ï‡ßÉ‡¶§‡¶ø',
            select_student_placeholder: '‡¶è‡¶ï‡¶ú‡¶® ‡¶õ‡¶æ‡¶§‡ßç‡¶∞ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®',
            award_badge_button: '‡¶¨‡ßç‡¶Ø‡¶æ‡¶ú ‡¶™‡ßç‡¶∞‡¶¶‡¶æ‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®',
            assignment_title: '‡¶Ö‡ßç‡¶Ø‡¶æ‡¶∏‡¶æ‡¶á‡¶®‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü',
            module_title_label: '‡¶Æ‡¶°‡¶ø‡¶â‡¶≤ ‡¶∂‡¶ø‡¶∞‡ßã‡¶®‡¶æ‡¶Æ',
            description_label: '‡¶¨‡¶ø‡¶¨‡¶∞‡¶£',
            assign_to_label: '‡¶è‡¶¶‡ßá‡¶∞‡¶ï‡ßá ‡¶¶‡¶ø‡¶®:',
            assign_all: '‡¶∏‡¶Æ‡¶∏‡ßç‡¶§ ‡¶õ‡¶æ‡¶§‡ßç‡¶∞',
            assign_group_a: '‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ‡¶è',
            assign_group_b: '‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ‡¶¨‡¶ø',
            create_assignment_button: '‡¶Ö‡ßç‡¶Ø‡¶æ‡¶∏‡¶æ‡¶á‡¶®‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®',
            notifications_title: '‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶™‡ßç‡¶§‡¶ø ‡¶è‡¶¨‡¶Ç ‡¶∏‡¶§‡¶∞‡ßç‡¶ï‡¶§‡¶æ',
            notification1: "‡¶®‡¶§‡ßÅ‡¶® ‡¶Æ‡¶°‡¶ø‡¶â‡¶≤ '‡¶ú‡¶≤ ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£' ‡¶∏‡¶Æ‡¶∏‡ßç‡¶§ ‡¶õ‡¶æ‡¶§‡ßç‡¶∞‡¶¶‡ßá‡¶∞ ‡¶¶‡ßá‡¶ì‡¶Ø‡¶º‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!",
            notification2: "‡¶∞‡¶æ‡¶ú‡ßá‡¶∂ '‡¶ú‡¶≤ ‡¶Ø‡ßã‡¶¶‡ßç‡¶ß‡¶æ' ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ú ‡¶Ö‡¶∞‡ßç‡¶ú‡¶® ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡•§",
            notification3: "‡¶Æ‡ßÄ‡¶®‡¶æ '‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ‡ßá‡¶∞ ‡¶§‡¶æ‡¶∞‡¶ï‡¶æ' ‡¶ï‡ßã‡¶Ø‡¶º‡ßá‡¶∏‡ßç‡¶ü ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶® ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡•§",
            parent_welcome: '‡¶®‡¶Æ‡¶∏‡ßç‡¶ï‡¶æ‡¶∞, ‡¶Ö‡¶≠‡¶ø‡¶≠‡¶æ‡¶¨‡¶ï!',
            parent_greeting_morning: '‡¶∏‡ßÅ‡¶™‡ßç‡¶∞‡¶≠‡¶æ‡¶§, ‡¶Ö‡¶≠‡¶ø‡¶≠‡¶æ‡¶¨‡¶ï!',
            parent_greeting_afternoon: '‡¶∂‡ßÅ‡¶≠ ‡¶¨‡¶ø‡¶ï‡¶æ‡¶≤, ‡¶Ö‡¶≠‡¶ø‡¶≠‡¶æ‡¶¨‡¶ï!',
            parent_greeting_evening: '‡¶∂‡ßÅ‡¶≠ ‡¶∏‡¶®‡ßç‡¶ß‡ßç‡¶Ø‡¶æ, ‡¶Ö‡¶≠‡¶ø‡¶≠‡¶æ‡¶¨‡¶ï!',
            parent_greeting_night: '‡¶Ü‡¶∂‡¶æ ‡¶ï‡¶∞‡¶ø ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¶‡¶ø‡¶®‡¶ü‡¶ø ‡¶≠‡¶æ‡¶≤‡ßã ‡¶ï‡ßá‡¶ü‡ßá‡¶õ‡ßá!',
            child_dashboard_label: "‡¶™‡ßç‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ‡¶ô‡ßç‡¶ï‡¶æ ‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶°",
            overall_progress_title: '‡¶∏‡¶æ‡¶Æ‡¶ó‡ßç‡¶∞‡¶ø‡¶ï ‡¶Ö‡¶ó‡ßç‡¶∞‡¶ó‡¶§‡¶ø',
            learning_level_label: '‡¶∂‡ßá‡¶ñ‡¶æ‡¶∞ ‡¶∏‡ßç‡¶§‡¶∞',
            points_earned_label: '‡¶Ö‡¶∞‡ßç‡¶ú‡¶ø‡¶§ ‡¶™‡¶Ø‡¶º‡ßá‡¶®‡ßç‡¶ü',
            badges_collected_label: '‡¶∏‡¶Ç‡¶ó‡ßÉ‡¶π‡ßÄ‡¶§ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ú',
            subject_progress_title: '‡¶¨‡¶ø‡¶∑‡¶Ø‡¶º ‡¶Ö‡¶ó‡ßç‡¶∞‡¶ó‡¶§‡¶ø',
            lessons_label: '‡¶™‡¶æ‡¶†',
            subject_math: '‡¶ó‡¶£‡¶ø‡¶§',
            subject_science: '‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶®',
            subject_english: '‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø',
            homework_title: '‡¶∏‡¶æ‡¶Æ‡ßç‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ï ‡¶π‡ßã‡¶Æ‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶ï',
            due_label: '‡¶¶‡ßá‡¶Ø‡¶º',
            due_yesterday: '‡¶ó‡¶§‡¶ï‡¶æ‡¶≤',
            due_tomorrow: '‡¶Ü‡¶ó‡¶æ‡¶Æ‡ßÄ‡¶ï‡¶æ‡¶≤',
            due_2_days_ago: '‡ß® ‡¶¶‡¶ø‡¶® ‡¶Ü‡¶ó‡ßá',
            status_submitted: '‡¶ú‡¶Æ‡¶æ ‡¶¶‡ßá‡¶ì‡¶Ø‡¶º‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá',
            status_pending: '‡¶¨‡¶ø‡¶ö‡¶æ‡¶∞‡¶æ‡¶ß‡ßÄ‡¶®',
            status_overdue: '‡¶¨‡¶ø‡¶≤‡¶Æ‡ßç‡¶¨‡¶ø‡¶§',
            homework1_title: '‡¶ó‡¶£‡¶ø‡¶§: ‡¶Ö‡¶ß‡ßç‡¶Ø‡¶æ‡¶Ø‡¶º ‡ß´ ‡¶è‡¶∞ ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ',
            homework2_title: '‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶®: ‡¶â‡¶¶‡ßç‡¶≠‡¶ø‡¶¶ ‡¶ï‡ßã‡¶∑‡ßá‡¶∞ ‡¶ö‡¶ø‡¶§‡ßç‡¶∞',
            homework3_title: '‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø: "‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ" ‡¶â‡¶™‡¶∞ ‡¶™‡ßç‡¶∞‡¶¨‡¶®‡ßç‡¶ß',
            attendance_title: '‡¶â‡¶™‡¶∏‡ßç‡¶•‡¶ø‡¶§‡¶ø',
            present_month_label: '‡¶â‡¶™‡¶∏‡ßç‡¶•‡¶ø‡¶§ (‡¶è‡¶á ‡¶Æ‡¶æ‡¶∏‡ßá)',
            this_week_label: '‡¶è‡¶á ‡¶∏‡¶™‡ßç‡¶§‡¶æ‡¶π',
            day_mon: '‡¶∏‡ßã‡¶Æ',
            day_tue: '‡¶Æ‡¶ô‡ßç‡¶ó‡¶≤',
            day_wed: '‡¶¨‡ßÅ‡¶ß',
            day_thu: '‡¶¨‡ßÉ‡¶π‡¶∏‡ßç‡¶™‡¶§‡¶ø',
            day_fri: '‡¶∂‡ßÅ‡¶ï‡ßç‡¶∞',
            footer_text: '¬© ‡ß®‡ß¶‡ß®‡ß´ ‡¶è‡¶°‡ßÅ‡¶¨‡¶æ‡¶£‡ßÄ‡•§ ‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ‡ßÄ‡¶£ ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶ï‡ßá ‡¶∂‡¶ï‡ßç‡¶§‡¶ø‡¶∂‡¶æ‡¶≤‡ßÄ ‡¶ï‡¶∞‡¶æ‡•§',
        });
        translations['brx'] = createTranslation({
            role_modal_title: '‡§®‡•ã‡§Ç‡§®‡§ø ‡§≠‡•Å‡§Æ‡§ø‡§ï‡§æ‡§ñ‡•å ‡§∏‡§æ‡§Ø‡§ñ‚Äô', role_student: '‡§´‡§∞‡§æ‡§Ø‡§∏‡§æ', role_teacher: '‡§Æ‡§æ‡§∏‡•ç‡§ü‡§∞', role_parent: '‡§Ö‡§≠‡§ø‡§≠‡§æ‡§µ‡§ï', welcome_message: '‡§ñ‡•Å‡§≤‡•Å‡§Æ‡§¨‡§æ‡§Ø, ‡§™‡•ç‡§∞‡§ø‡§Ø‡§Ç‡§ï‡§æ!', footer_text: '¬© ‡•®‡•¶‡•®‡•´ ‡§è‡§°‡•Å‡§¨‡§æ‡§£‡•Ä‡•§ ‡§ó‡§æ‡§Æ‡§ø‡§Ü‡§∞‡§ø ‡§∏‡•ã‡§≤‡•ã‡§Ç‡§•‡§æ‡§á‡§ñ‡•å ‡§ó‡•ã‡§ñ‡•ç‡§∞‡•ã‡§Ç ‡§ñ‡§æ‡§≤‡§æ‡§Æ‡§®‡§æ‡§Ø‡•§', teacher_dashboard_title: '‡§Æ‡§æ‡§∏‡•ç‡§ü‡§∞‡§®‡§ø ‡§°‡•á‡§∂‡•ç‡§¨‡§∞‡•ç‡§°', parent_welcome: '‡§ñ‡•Å‡§≤‡•Å‡§Æ‡§¨‡§æ‡§Ø, ‡§Ö‡§≠‡§ø‡§≠‡§æ‡§µ‡§ï!', child_dashboard_label: "‡§™‡•ç‡§∞‡§ø‡§Ø‡§Ç‡§ï‡§æ ‡§°‡•á‡§∂‡•ç‡§¨‡§∞‡•ç‡§°",
        });
        translations['doi'] = createTranslation({
            role_modal_title: '‡§Ö‡§™‡§®‡•Ä ‡§≠‡•Ç‡§Æ‡§ø‡§ï‡§æ ‡§ö‡•Å‡§®‡•ã', role_student: '‡§µ‡§ø‡§¶‡•ç‡§Ø‡§æ‡§∞‡•ç‡§•‡•Ä', role_teacher: '‡§Ö‡§ß‡•ç‡§Ø‡§æ‡§™‡§ï', role_parent: '‡§Æ‡§æ‡®™‡§ø‡®ì', welcome_message: '‡§®‡§Æ‡§∏‡•ç‡§§‡•á, ‡§™‡•ç‡§∞‡§ø‡§Ø‡§Ç‡§ï‡§æ!', footer_text: '¬© ‡•®‡•¶‡•®‡•´ ‡§è‡§°‡•Å‡§µ‡§æ‡§£‡•Ä‡•§ ‡§ó‡•ç‡§∞‡§æ‡§Æ‡•Ä‡§£ ‡§∂‡§ø‡§ï‡•ç‡§∑‡§æ ‡§ó‡•Ä ‡§∏‡§∂‡§ï‡•ç‡§§ ‡§¨‡§®‡§æ‡§ì‡§Ü‡•§', teacher_dashboard_title: '‡§Ö‡§ß‡•ç‡§Ø‡§æ‡§™‡§ï ‡§¶‡§æ ‡§°‡•à‡§∂‡§¨‡•ã‡§∞‡•ç‡§°', parent_welcome: '‡§®‡§Æ‡§∏‡•ç‡§§‡•á, ‡§Æ‡§æ‡§Å-‡§™‡•ç‡§Ø‡•ã!', child_dashboard_label: "‡§™‡•ç‡§∞‡§ø‡§Ø‡§Ç‡§ï‡§æ ‡§¶‡§æ ‡§°‡•à‡§∂‡§¨‡•ã‡§∞‡•ç‡§°",
        });
        translations['gu'] = createTranslation({
            login_title: '‡™´‡´ã‡™® ‡™¶‡´ç‡™µ‡™æ‡™∞‡™æ ‡™≤‡´â‡™ó‡™ø‡™® ‡™ï‡™∞‡´ã',
            request_otp: '‡™ì‡™ü‡´Ä‡™™‡´Ä ‡™Æ‡™æ‡™Ç‡™ó‡´ã',
            verify_otp: '‡™ì‡™ü‡´Ä‡™™‡´Ä ‡™ö‡™ï‡™æ‡™∏‡´ã',
            otp_info: '‡™≤‡´â‡™ó‡™ø‡™® ‡™ï‡™∞‡™µ‡™æ ‡™Æ‡™æ‡™ü‡´á ‡™Æ‡´â‡™ï ‡™ì‡™ü‡´Ä‡™™‡´Ä ‡™¶‡™æ‡™ñ‡™≤ ‡™ï‡™∞‡´ã.',
            role_modal_title: '‡™§‡™Æ‡™æ‡™∞‡´Ä ‡™≠‡´Ç‡™Æ‡™ø‡™ï‡™æ ‡™™‡™∏‡™Ç‡™¶ ‡™ï‡™∞‡´ã',
            role_student: '‡™µ‡™ø‡™¶‡´ç‡™Ø‡™æ‡™∞‡´ç‡™•‡´Ä',
            role_teacher: '‡™∂‡™ø‡™ï‡´ç‡™∑‡™ï',
            role_parent: '‡™µ‡™æ‡™≤‡´Ä',
            switch_role_button: '‡™≠‡´Ç‡™Æ‡™ø‡™ï‡™æ ‡™¨‡™¶‡™≤‡´ã',
            welcome_message: '‡™®‡™Æ‡™∏‡´ç‡™§‡´á, ‡™™‡´ç‡™∞‡™ø‡™Ø‡™Ç‡™ï‡™æ!',
            learning_message: '‡™Ü‡™µ‡´ã, ‡™Ü‡™ú‡´á ‡™ï‡™Ç‡™à‡™ï ‡™®‡™µ‡´Å‡™Ç ‡™∂‡´Ä‡™ñ‡´Ä‡™è!',
            level_text: '‡™∏‡´ç‡™§‡™∞',
            daily_quests_title: '‡™¶‡´à‡™®‡™ø‡™ï ‡™ï‡™æ‡™∞‡´ç‡™Ø',
            leaderboard_title: '‡™≤‡´Ä‡™°‡™∞‡™¨‡´ã‡™∞‡´ç‡™°',
            badges_title: '‡™∏‡™´‡™≥‡™§‡™æ ‡™¨‡´á‡™ú',
            progress_title: '‡™Æ‡´ã‡™°‡´ç‡™Ø‡´Å‡™≤ ‡™™‡´ç‡™∞‡™ó‡™§‡™ø',
            generate_quest_button: '‚ú® ‡™®‡™µ‡´Å‡™Ç ‡™ï‡™æ‡™∞‡´ç‡™Ø ‡™¨‡™®‡™æ‡™µ‡´ã',
            read_aloud_button: '‚ú® ‡™µ‡™æ‡™Ç‡™ö‡´Ä ‡™¨‡™§‡™æ‡™µ‡´ã',
            explain_concept_button: '‚ú® ‡™∏‡™Æ‡™ú‡™æ‡™µ‡´ã',
            badge_star: '‡™ó‡™æ‡™Æ‡™®‡´ã ‡™§‡™æ‡™∞‡´ã',
            badge_water: '‡™ú‡™≥ ‡™Ø‡´Å‡™¶‡´ç‡™ß‡™æ',
            badge_bookworm: '‡™™‡´Å‡™∏‡´ç‡™§‡™ï‡™™‡´ç‡™∞‡´á‡™Æ‡´Ä',
            badge_locked: '‡™≤‡´â‡™ï ‡™ï‡™∞‡´ç‡™Ø‡´Å‡™Ç',
            start_button_text: '‡™∂‡™∞‡´Ç ‡™ï‡™∞‡´ã',

            seeds_title: '‡™¨‡´Ä‡™ú‡™®‡™æ ‡™™‡´ç‡™∞‡™ï‡™æ‡™∞‡´ã ‡™ú‡™æ‡™£‡´ã',
            seeds_desc: '‡™∏‡´ç‡™•‡™æ‡™®‡™ø‡™ï ‡™™‡™æ‡™ï ‡™Ö‡™®‡´á ‡™§‡´á‡™Æ‡™®‡™æ ‡™¨‡´Ä‡™ú ‡™™‡™∞ ‡™µ‡™ø‡™°‡™ø‡™Ø‡´ã ‡™ú‡´Å‡™ì.',
            water_conservation_title: '‡™Ö‡™Æ‡™æ‡™∞‡™æ ‡™ó‡™æ‡™Æ‡™®‡™æ ‡™ñ‡´á‡™§‡™∞‡´ã‡™®‡´á ‡™™‡™æ‡™£‡´Ä ‡™Ü‡™™‡´ã',
            water_conservation_desc: '‡™ú‡™≥ ‡™∏‡™Ç‡™∞‡™ï‡´ç‡™∑‡™£ ‡™µ‡™ø‡™∂‡´á ‡™∂‡´Ä‡™ñ‡™µ‡™æ ‡™Æ‡™æ‡™ü‡´á ‡™ñ‡´á‡™§‡™∞‡™®‡´á ‡™™‡™æ‡™£‡´Ä ‡™Ü‡™™‡™µ‡™æ‡™®‡´ã ‡™Ö‡™®‡´Å‡™≠‡™µ ‡™ï‡™∞‡´ã.',

            math_quest_title: '‡™ó‡™£‡™ø‡™§: ‡™µ‡™ø‡™∏‡´ç‡™§‡™æ‡™∞ ‡™ï‡´á‡™≤‡´ç‡™ï‡´ç‡™Ø‡´Å‡™≤‡´á‡™ü‡™∞',
            math_quest_desc: '‡™ó‡™£‡™ø‡™§ ‡™Æ‡´ã‡™°‡´ç‡™Ø‡´Å‡™≤ ‡™§‡™Æ‡™®‡´á ‡™™‡™æ‡™ï‡™®‡´Å‡™Ç ‡™â‡™§‡´ç‡™™‡™æ‡™¶‡™® ‡™ó‡™£‡™µ‡´Å‡™Ç, ‡™™‡™æ‡™£‡´Ä‡™®‡´ã ‡™â‡™™‡™Ø‡´ã‡™ó ‡™Æ‡™æ‡™™‡™µ‡´Å‡™Ç ‡™Ö‡™®‡´á ‡™ñ‡´á‡™§‡´Ä ‡™Æ‡™æ‡™ü‡´á ‡™¨‡™ú‡´á‡™ü ‡™∏‡™Ç‡™ö‡™æ‡™≤‡™® ‡™∂‡´Ä‡™ñ‡™µ‡´á ‡™õ‡´á.',

            science_quest_title: '‡™µ‡™ø‡™ú‡´ç‡™û‡™æ‡™®: ‡™Ü‡™™‡™£‡™æ ‡™ú‡™≥‡™∏‡´ç‡™∞‡´ã‡™§‡´ã',
            science_quest_desc: '‡™Ü ‡™µ‡™ø‡™ú‡´ç‡™û‡™æ‡™® ‡™Æ‡´ã‡™°‡´ç‡™Ø‡´Å‡™≤‡™Æ‡™æ‡™Ç, ‡™§‡™Æ‡´á ‡™™‡™æ‡™£‡´Ä ‡™ö‡™ï‡´ç‡™∞, ‡™ó‡™æ‡™Æ‡™®‡™æ ‡™µ‡™ø‡™µ‡™ø‡™ß ‡™ú‡™≥‡™∏‡´ç‡™∞‡´ã‡™§‡´ã ‡™Ö‡™®‡´á ‡™§‡´á‡™Æ‡™®‡´á ‡™ï‡´á‡™µ‡´Ä ‡™∞‡´Ä‡™§‡´á ‡™∏‡´ç‡™µ‡™ö‡´ç‡™õ ‡™∞‡™æ‡™ñ‡™µ‡™æ ‡™§‡´á ‡™µ‡™ø‡™∂‡´á ‡™∂‡´Ä‡™ñ‡™∂‡´ã.',

            history_quest_title: '‡™∏‡´ç‡™•‡™æ‡™®‡™ø‡™ï ‡™á‡™§‡™ø‡™π‡™æ‡™∏: ‡™Ö‡™Æ‡™æ‡™∞‡™æ ‡™ó‡™æ‡™Æ‡™®‡™æ ‡™µ‡™°‡´Ä‡™≤‡´ã',
            history_quest_desc: '‡™∏‡´ç‡™•‡™æ‡™®‡™ø‡™ï ‡™á‡™§‡™ø‡™π‡™æ‡™∏ ‡™Æ‡´ã‡™°‡´ç‡™Ø‡´Å‡™≤ ‡™§‡™Æ‡™æ‡™∞‡™æ ‡™ó‡™æ‡™Æ‡™®‡™æ ‡™µ‡™°‡´Ä‡™≤‡´ã ‡™¶‡´ç‡™µ‡™æ‡™∞‡™æ ‡™ï‡™π‡´á‡™µ‡™æ‡™Æ‡™æ‡™Ç ‡™Ü‡™µ‡´á‡™≤‡´Ä ‡™µ‡™æ‡™∞‡´ç‡™§‡™æ‡™ì ‡™Ö‡™®‡´á ‡™™‡™∞‡™Ç‡™™‡™∞‡™æ‡™ì‡™®‡´á ‡™∂‡´ã‡™ß‡´á ‡™õ‡´á.',

            not_yet_earned: '‡™π‡™ú‡´Å ‡™∏‡´Å‡™ß‡´Ä ‡™™‡´ç‡™∞‡™æ‡™™‡´ç‡™§ ‡™®‡™•‡´Ä',
            loading_quests: '‡™®‡™µ‡´Å‡™Ç ‡™ï‡™æ‡™∞‡´ç‡™Ø ‡™¨‡™®‡™æ‡™µ‡´Ä ‡™∞‡™π‡´ç‡™Ø‡´Å‡™Ç ‡™õ‡´á...',
            loading_audio: '‡™ë‡™°‡™ø‡™Ø‡´ã ‡™≤‡´ã‡™° ‡™•‡™à ‡™∞‡™π‡´ç‡™Ø‡´Å‡™Ç ‡™õ‡´á...',
            loading_explanation: '‡™∏‡™Æ‡™ú‡™æ‡™µ‡™ü ‡™§‡´à‡™Ø‡™æ‡™∞ ‡™•‡™à ‡™∞‡™π‡´Ä ‡™õ‡´á...',
            loading_report: '‡™µ‡™∞‡´ç‡™ó ‡™∞‡™ø‡™™‡´ã‡™∞‡´ç‡™ü ‡™§‡´à‡™Ø‡™æ‡™∞ ‡™•‡™à ‡™∞‡™π‡´ç‡™Ø‡´ã ‡™õ‡´á...',
            quest_generated_success: '‡™®‡™µ‡´Å‡™Ç ‡™ï‡™æ‡™∞‡´ç‡™Ø ‡™¨‡™®‡™æ‡™µ‡™æ‡™Ø‡´Å‡™Ç!',
            quest_already_generated: '‡™§‡™Æ‡´á ‡™è‡™ï ‡™¶‡™ø‡™µ‡™∏‡™Æ‡™æ‡™Ç ‡™´‡™ï‡´ç‡™§ ‡™è‡™ï ‡™ï‡™æ‡™∞‡´ç‡™Ø ‡™¨‡™®‡™æ‡™µ‡´Ä ‡™∂‡™ï‡´ã ‡™õ‡´ã.',
            no_text_to_read: '‡™µ‡™æ‡™Ç‡™ö‡™µ‡™æ ‡™Æ‡™æ‡™ü‡´á ‡™ï‡´ã‡™à ‡™≤‡™ñ‡™æ‡™£ ‡™®‡™•‡´Ä.',
            xp_gained: '+{xp} XP!',
            no_quests: '‡™ï‡´ã‡™à ‡™ï‡™æ‡™∞‡´ç‡™Ø ‡™â‡™™‡™≤‡™¨‡´ç‡™ß ‡™®‡™•‡´Ä. ‡™∂‡™∞‡´Ç ‡™ï‡™∞‡™µ‡™æ ‡™Æ‡™æ‡™ü‡´á ‡™ï‡™æ‡™∞‡´ç‡™Ø ‡™¨‡™®‡™æ‡™µ‡´ã!',
            voice_question_label: '‡™§‡™Æ‡™æ‡™∞‡´ã ‡™™‡´ç‡™∞‡™∂‡´ç‡™® ‡™¨‡´ã‡™≤‡´ã:',

            teacher_dashboard_title: '‡™∂‡™ø‡™ï‡´ç‡™∑‡™ï ‡™°‡´á‡™∂‡™¨‡´ã‡™∞‡´ç‡™°',
            student_progress_title: '‡™µ‡™ø‡™¶‡´ç‡™Ø‡™æ‡™∞‡´ç‡™•‡´Ä ‡™™‡´ç‡™∞‡™ó‡™§‡™ø',
            view_label: '‡™ú‡´ã‡™µ‡´Å‡™Ç:',
            view_option_summary: '‡™µ‡™∞‡´ç‡™ó ‡™∏‡™æ‡™∞‡™æ‡™Ç‡™∂',
            view_option_all: '‡™¨‡™ß‡™æ ‡™µ‡™ø‡™¶‡´ç‡™Ø‡™æ‡™∞‡´ç‡™•‡´Ä‡™ì',
            generate_report_button: '‡™∞‡™ø‡™™‡´ã‡™∞‡´ç‡™ü ‡™¨‡™®‡™æ‡™µ‡´ã',
            summary_title: '‡™µ‡™∞‡´ç‡™ó‡™®‡´Ä ‡™ï‡´Å‡™≤ ‡™ï‡™æ‡™Æ‡™ó‡´Ä‡™∞‡´Ä',
            summary_avg_xp: '‡™∏‡™∞‡´á‡™∞‡™æ‡™∂ XP',
            summary_avg_level: '‡™∏‡™∞‡´á‡™∞‡™æ‡™∂ ‡™∏‡´ç‡™§‡™∞',
            summary_total_students: '‡™ï‡´Å‡™≤ ‡™µ‡™ø‡™¶‡´ç‡™Ø‡™æ‡™∞‡´ç‡™•‡´Ä‡™ì',
            class_leaderboard_title: '‡™µ‡™∞‡´ç‡™ó ‡™≤‡´Ä‡™°‡™∞‡™¨‡´ã‡™∞‡´ç‡™°',

            reward_title: '‡™á‡™®‡™æ‡™Æ ‡™Ö‡™®‡´á ‡™Æ‡™æ‡™®‡´ç‡™Ø‡™§‡™æ',
            select_student_placeholder: '‡™µ‡™ø‡™¶‡´ç‡™Ø‡™æ‡™∞‡´ç‡™•‡´Ä ‡™™‡™∏‡™Ç‡™¶ ‡™ï‡™∞‡´ã',
            award_badge_button: '‡™¨‡´á‡™ú ‡™Ü‡™™‡´ã',

            assignment_title: '‡™∏‡´ã‡™Ç‡™™‡™£‡´Ä ‡™µ‡´ç‡™Ø‡™µ‡™∏‡´ç‡™•‡™æ‡™™‡™®',
            module_title_label: '‡™Æ‡´ã‡™°‡´ç‡™Ø‡´Å‡™≤ ‡™∂‡´Ä‡™∞‡´ç‡™∑‡™ï',
            description_label: '‡™µ‡™∞‡´ç‡™£‡™®',
            assign_to_label: '‡™∏‡´ã‡™Ç‡™™‡™µ‡´Å‡™Ç:',
            assign_all: '‡™¨‡™ß‡™æ ‡™µ‡™ø‡™¶‡´ç‡™Ø‡™æ‡™∞‡´ç‡™•‡´Ä‡™ì',
            assign_group_a: '‡™∏‡™Æ‡´Ç‡™π A',
            assign_group_b: '‡™∏‡™Æ‡´Ç‡™π B',
            create_assignment_button: '‡™∏‡´ã‡™Ç‡™™‡™£‡´Ä ‡™¨‡™®‡™æ‡™µ‡´ã',

            notifications_title: '‡™∏‡´Ç‡™ö‡™®‡™æ‡™ì ‡™Ö‡™®‡´á ‡™ö‡´á‡™§‡™µ‡™£‡´Ä‡™ì',
            notification1: "‡™®‡™µ‡´Å‡™Ç ‡™Æ‡´ã‡™°‡´ç‡™Ø‡´Å‡™≤ '‡™ú‡™≥ ‡™∏‡™Ç‡™∞‡™ï‡´ç‡™∑‡™£' ‡™¨‡™ß‡™æ ‡™µ‡™ø‡™¶‡´ç‡™Ø‡™æ‡™∞‡´ç‡™•‡´Ä‡™ì‡™®‡´á ‡™∏‡´ã‡™Ç‡™™‡™µ‡™æ‡™Æ‡™æ‡™Ç ‡™Ü‡™µ‡´ç‡™Ø‡´Å‡™Ç!",
            notification2: "‡™∞‡™æ‡™ú‡´á‡™∂‡´á '‡™ú‡™≥ ‡™Ø‡´Å‡™¶‡´ç‡™ß‡™æ' ‡™¨‡´á‡™ú ‡™ú‡´Ä‡™§‡´ç‡™Ø‡´ã.",
            notification3: "‡™Æ‡´Ä‡™®‡™æ‡™è '‡™ó‡™æ‡™Æ‡™®‡´ã ‡™§‡™æ‡™∞‡´ã' ‡™ï‡™æ‡™∞‡´ç‡™Ø ‡™™‡´Ç‡™∞‡´ç‡™£ ‡™ï‡™∞‡´ç‡™Ø‡´Å‡™Ç.",

            parent_welcome: '‡™®‡™Æ‡™∏‡´ç‡™§‡´á, ‡™µ‡™æ‡™≤‡´Ä!',
            parent_greeting_morning: '‡™∏‡´Å‡™™‡´ç‡™∞‡™≠‡™æ‡™§, ‡™µ‡™æ‡™≤‡´Ä!',
            parent_greeting_afternoon: '‡™∂‡´Å‡™≠ ‡™¨‡™™‡´ã‡™∞, ‡™µ‡™æ‡™≤‡´Ä!',
            parent_greeting_evening: '‡™∂‡´Å‡™≠ ‡™∏‡™æ‡™Ç‡™ú, ‡™µ‡™æ‡™≤‡´Ä!',
            parent_greeting_night: '‡™Ü‡™∂‡™æ ‡™õ‡´á ‡™ï‡´á ‡™§‡™Æ‡™æ‡™∞‡´ã ‡™¶‡™ø‡™µ‡™∏ ‡™∏‡´Å‡™Ç‡™¶‡™∞ ‡™ó‡™Ø‡´ã ‡™π‡™∂‡´á!',

            child_dashboard_label: '‡™™‡´ç‡™∞‡™ø‡™Ø‡™Ç‡™ï‡™æ‡™®‡´Å‡™Ç ‡™°‡´á‡™∂‡™¨‡´ã‡™∞‡´ç‡™°',
            overall_progress_title: '‡™ï‡´Å‡™≤ ‡™™‡´ç‡™∞‡™ó‡™§‡™ø',
            learning_level_label: '‡™∂‡™ø‡™ï‡´ç‡™∑‡™£ ‡™∏‡´ç‡™§‡™∞',
            points_earned_label: '‡™Ö‡™Ç‡™ï ‡™Æ‡´á‡™≥‡™µ‡´ç‡™Ø‡™æ',
            badges_collected_label: '‡™¨‡´á‡™ú ‡™è‡™ï‡™§‡´ç‡™∞‡™ø‡™§ ‡™ï‡™∞‡´ç‡™Ø‡™æ',
            subject_progress_title: '‡™µ‡™ø‡™∑‡™Ø ‡™™‡´ç‡™∞‡™ó‡™§‡™ø',
            lessons_label: '‡™™‡™æ‡™†‡´ã',
            subject_math: '‡™ó‡™£‡™ø‡™§',
            subject_science: '‡™µ‡™ø‡™ú‡´ç‡™û‡™æ‡™®',
            subject_english: '‡™Ö‡™Ç‡™ó‡´ç‡™∞‡´á‡™ú‡´Ä',

            homework_title: '‡™§‡™æ‡™ú‡´á‡™§‡™∞‡™®‡´Å‡™Ç ‡™π‡´ã‡™Æ‡™µ‡™∞‡´ç‡™ï',
            due_label: '‡™∏‡™Æ‡™Ø‡™Æ‡™∞‡´ç‡™Ø‡™æ‡™¶‡™æ',
            due_yesterday: '‡™ó‡™à‡™ï‡™æ‡™≤‡´á',
            due_tomorrow: '‡™ï‡™æ‡™≤‡´á',
            due_2_days_ago: '2 ‡™¶‡™ø‡™µ‡™∏ ‡™™‡™π‡´á‡™≤‡™æ',
            status_submitted: '‡™∏‡™¨‡™Æ‡™ø‡™ü ‡™ï‡™∞‡´ç‡™Ø‡´Å‡™Ç',
            status_pending: '‡™¨‡™æ‡™ï‡´Ä ‡™õ‡´á',
            status_overdue: '‡™Æ‡™ø‡™Ø‡™æ‡™¶ ‡™™‡´Ç‡™∞‡´Ä ‡™•‡™à',

            homework1_title: '‡™ó‡™£‡™ø‡™§: ‡™Ö‡™ß‡´ç‡™Ø‡™æ‡™Ø 5 ‡™®‡™æ ‡™™‡´ç‡™∞‡™∂‡´ç‡™®‡´ã',
            homework2_title: '‡™µ‡™ø‡™ú‡´ç‡™û‡™æ‡™®: ‡™õ‡´ã‡™°‡™®‡™æ ‡™ï‡´ã‡™∑‡™®‡´Å‡™Ç ‡™Ü‡™≤‡´á‡™ñ‡™®',
            homework3_title: '‡™Ö‡™Ç‡™ó‡´ç‡™∞‡´á‡™ú‡´Ä: "‡™Æ‡™æ‡™∞‡´Å‡™Ç ‡™ó‡™æ‡™Æ" ‡™™‡™∞ ‡™®‡™ø‡™¨‡™Ç‡™ß',

            attendance_title: '‡™π‡™æ‡™ú‡™∞‡´Ä',
            present_month_label: '‡™π‡™æ‡™ú‡™∞‡´Ä (‡™Ü ‡™Æ‡™π‡™ø‡™®‡´á)',
            this_week_label: '‡™Ü ‡™Ö‡™†‡™µ‡™æ‡™°‡™ø‡™Ø‡´Å‡™Ç',
            day_mon: '‡™∏‡´ã‡™Æ',
            day_tue: '‡™Æ‡™Ç‡™ó‡™≥',
            day_wed: '‡™¨‡´Å‡™ß',
            day_thu: '‡™ó‡´Å‡™∞‡´Ç',
            day_fri: '‡™∂‡´Å‡™ï‡´ç‡™∞',

            footer_text: '¬© ‡´®‡´¶‡´®‡´´ ‡™è‡™°‡´Å‡™µ‡™æ‡™£‡´Ä. ‡™ó‡´ç‡™∞‡™æ‡™Æ‡´ç‡™Ø ‡™∂‡™ø‡™ï‡´ç‡™∑‡™£‡™®‡´á ‡™∏‡™∂‡™ï‡´ç‡™§ ‡™¨‡™®‡™æ‡™µ‡™µ‡´Å‡™Ç.'
        });
        translations['kn'] = createTranslation({
            role_modal_title: '‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤™‡≤æ‡≤§‡≥ç‡≤∞‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø', role_student: '‡≤µ‡≤ø‡≤¶‡≥ç‡≤Ø‡≤æ‡≤∞‡≥ç‡≤•‡≤ø', role_teacher: '‡≤∂‡≤ø‡≤ï‡≥ç‡≤∑‡≤ï', role_parent: '‡≤™‡≥ã‡≤∑‡≤ï', welcome_message: '‡≤®‡≤Æ‡≤∏‡≥ç‡≤ï‡≤æ‡≤∞, ‡≤™‡≥ç‡≤∞‡≤ø‡≤Ø‡≤æ‡≤Ç‡≤ï‡≤æ!', footer_text: '¬© ‡≥®‡≥¶‡≥®‡≥´ ‡≤é‡≤°‡≥Å‡≤µ‡≤æ‡≤£‡≤ø. ‡≤ó‡≥ç‡≤∞‡≤æ‡≤Æ‡≥Ä‡≤£ ‡≤ï‡≤≤‡≤ø‡≤ï‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤∏‡≤∂‡≤ï‡≥ç‡≤§‡≤ó‡≥ä‡≤≥‡≤ø‡≤∏‡≥Å‡≤µ‡≥Å‡≤¶‡≥Å.', teacher_dashboard_title: '‡≤∂‡≤ø‡≤ï‡≥ç‡≤∑‡≤ï‡≤∞ ‡≤°‡≥ç‡≤Ø‡≤æ‡≤∂‡≥ç‚Äå‡≤¨‡≥ã‡≤∞‡≥ç‡≤°‡≥ç', parent_welcome: '‡≤∏‡≥ç‡≤µ‡≤æ‡≤ó‡≤§, ‡≤™‡≥ã‡≤∑‡≤ï!', child_dashboard_label: "‡≤™‡≥ç‡≤∞‡≤ø‡≤Ø‡≤æ‡≤Ç‡≤ï‡≤æ ‡≤Ö‡≤µ‡≤∞ ‡≤°‡≥ç‡≤Ø‡≤æ‡≤∂‡≥ç‚Äå‡≤¨‡≥ã‡≤∞‡≥ç‡≤°‡≥ç",
        });
        translations['ks'] = createTranslation({
            role_modal_title: 'ŸæŸÜŸèŸÜ ⁄©ÿ±ÿØÿßÿ± ⁄òÿßÿ±ŸïŸÜÿ†', role_student: 'ÿ∑Ÿ≤ŸÑÿ®€ÅŸê ÿπŸîŸÑŸêŸÖ', role_teacher: 'ÿßŸèÿ≥ÿ™ÿßÿØ', role_parent: 'ŸÖŸàŸÑ ŸÖŸàÿ¨', welcome_message: 'ÿ¢ÿØÿßÃ±ÿ® , Ÿæÿ±€åŸÜ⁄©ÿß!', footer_text: '¬© €≤€∞€≤€µ ÿß€åÿ¨ŸàÿßŸÜ€å€î ‡™ó‡´ç‡™∞‡™æ‡™Æ€å‡™£ ÿ™Ÿ≤ŸÑ€åŸñŸÖ ŸÖÿ∂ÿ®ŸàŸóÿ∑ ÿ®ŸÜÿßŸàŸèŸÜ€î', teacher_dashboard_title: 'ÿßÿ≥ÿ™ÿßÿØ ÿ≥ŸèŸÜŸõÿØ ⁄à€åÿ¥ ÿ®Ÿàÿ±⁄à', parent_welcome: 'ÿÆŸàÿ¥ ÿ¢ŸÖÿØ€åÿØ, ŸàÿßŸÑÿØ€åŸÜ!', child_dashboard_label: "  ÿ±Ÿà€ÅŸÜ ÿ≥ŸèŸÜŸõÿØ ⁄à€åÿ¥ ÿ®Ÿàÿ±⁄à",
        });
        translations['kok'] = createTranslation({
            role_modal_title: '‡§§‡•Å‡§Æ‡§ö‡•Ä ‡§≠‡•Ç‡§Æ‡§ø‡§ï‡§æ ‡§®‡§ø‡§µ‡§°‡§æ', role_student: '‡§µ‡§ø‡§¶‡•ç‡§Ø‡§æ‡§∞‡•ç‡§•‡•Ä', role_teacher: '‡§∂‡§ø‡§ï‡•ç‡§∑‡§ï', role_parent: '‡§™‡§æ‡§≤‡§ï', welcome_message: '‡§®‡§Æ‡§∏‡•ç‡§ï‡§æ‡§∞, ‡§™‡•ç‡§∞‡§ø‡§Ø‡§Ç‡§ï‡§æ!', footer_text: '¬© ‡•®‡•¶‡•®‡•´ ‡§è‡§°‡•Å‡§µ‡§æ‡§£‡•Ä. ‡§ó‡•ç‡§∞‡§æ‡§Æ‡•Ä‡§£ ‡§∂‡§ø‡§ï‡•ç‡§∑‡§£‡§æ‡§ï ‡§∏‡§ï‡•ç‡§∑‡§Æ‡•Ä‡§ï‡§∞‡§£.', teacher_dashboard_title: '‡§∂‡§ø‡§ï‡•ç‡§∑‡§ï ‡§°‡•Ö‡§∂‡§¨‡•ã‡§∞‡•ç‡§°', parent_welcome: '‡§Ø‡•á‡§µ‡§ï‡§æ‡§∞, ‡§™‡§æ‡§≤‡§ï!', child_dashboard_label: "‡§∞‡•ã‡§π‡§®‡§ö‡•ã ‡§°‡•Ö‡§∂‡§¨‡•ã‡§∞‡•ç‡§°",
        });
        translations['mai'] = createTranslation({
            role_modal_title: '‡§Ö‡§™‡§® ‡§≠‡•Ç‡§Æ‡§ø‡§ï‡§æ ‡§ö‡•Å‡§®‡•Å', role_student: '‡§µ‡§ø‡§¶‡•ç‡§Ø‡§æ‡§∞‡•ç‡§•‡•Ä', role_teacher: '‡§∂‡§ø‡§ï‡•ç‡§∑‡§ï', role_parent: '‡§Ö‡§≠‡§ø‡§≠‡§æ‡§µ‡§ï', welcome_message: '‡§™‡•ç‡§∞‡§£‡§æ‡§Æ, ‡§™‡•ç‡§∞‡§ø‡§Ø‡§Ç‡§ï‡§æ!', footer_text: '¬© ‡•®‡•¶‡•®‡•´ ‡§è‡§°‡•Å‡§µ‡§æ‡§£‡•Ä‡•§ ‡§ó‡•ç‡§∞‡§æ‡§Æ‡•Ä‡§£ ‡§∂‡§ø‡§ï‡•ç‡§∑‡§æ ‡§ï‡•á ‡§∏‡§∂‡§ï‡•ç‡§§‡§ø‡§ï‡§∞‡§£‡•§', teacher_dashboard_title: '‡§∂‡§ø‡§ï‡•ç‡§∑‡§ï ‡§°‡•à‡§∂‡§¨‡•ã‡§∞‡•ç‡§°', parent_welcome: '‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§Ö‡§õ‡§ø, ‡§Ö‡§≠‡§ø‡§≠‡§æ‡§µ‡§ï!', child_dashboard_label: "‡§™‡•ç‡§∞‡§ø‡§Ø‡§Ç‡§ï‡§æ ‡§°‡•à‡§∂‡§¨‡•ã‡§∞‡•ç‡§°",
        });
        translations['ml'] = createTranslation({
            role_modal_title: '‡¥®‡¥ø‡¥ô‡µç‡¥ô‡¥≥‡µÅ‡¥ü‡µÜ ‡¥™‡¥ô‡µç‡¥ï‡µç ‡¥§‡¥ø‡¥∞‡¥û‡µç‡¥û‡µÜ‡¥ü‡µÅ‡¥ï‡µç‡¥ï‡µÅ‡¥ï', role_student: '‡¥µ‡¥ø‡¥¶‡µç‡¥Ø‡¥æ‡µº‡¥§‡µç‡¥•‡¥ø', role_teacher: '‡¥Ö‡¥ß‡µç‡¥Ø‡¥æ‡¥™‡¥ï‡µª', role_parent: '‡¥∞‡¥ï‡µç‡¥∑‡¥ï‡µº‡¥§‡µç‡¥§‡¥æ‡¥µ‡µç', welcome_message: '‡¥®‡¥Æ‡¥∏‡µç‡¥ï‡¥æ‡¥∞‡¥Ç, ‡¥™‡µç‡¥∞‡¥ø‡¥Ø‡¥ô‡µç‡¥ï!', footer_text: '¬© 2025 ‡¥é‡¥°‡µÅ‡¥µ‡¥æ‡¥£‡¥ø. ‡¥ó‡µç‡¥∞‡¥æ‡¥Æ‡µÄ‡¥£ ‡¥™‡¥†‡¥®‡¥§‡µç‡¥§‡µÜ ‡¥∂‡¥æ‡¥ï‡µç‡¥§‡µÄ‡¥ï‡¥∞‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥®‡µç‡¥®‡µÅ.', teacher_dashboard_title: '‡¥Ö‡¥ß‡µç‡¥Ø‡¥æ‡¥™‡¥ï‡¥®‡µç‡¥±‡µÜ ‡¥°‡¥æ‡¥∑‡µç‚Äå‡¥¨‡µã‡µº‡¥°‡µç', parent_welcome: '‡¥∏‡µç‡¥µ‡¥æ‡¥ó‡¥§‡¥Ç, ‡¥∞‡¥ï‡µç‡¥∑‡¥ø‡¥§‡¥æ‡¥µ‡µá!', child_dashboard_label: "‡¥∞‡µã‡¥π‡¥®‡µç‡¥±‡µÜ ‡¥°‡¥æ‡¥∑‡µç‚Äå‡¥¨‡µã‡µº‡¥°‡µç",
        });
        translations['mni'] = createTranslation({
            role_modal_title: '‡¶®‡¶π‡¶æ‡¶ï‡ßç‡¶ï‡ßÄ ‡¶•‡ßå‡¶¶‡¶æ‡¶Ç ‡¶ñ‡¶®‡¶¨‡ßÄ‡¶Ø‡¶º‡ßÅ', role_student: '‡¶Æ‡¶π‡ßà‡¶∞‡ßã‡¶á', role_teacher: '‡¶ì‡¶ú‡¶æ', role_parent: '‡¶Æ‡¶Æ‡¶æ-‡¶Æ‡¶™‡¶æ', welcome_message: '‡¶ñ‡ßÅ‡¶∞‡ßÅ‡¶Æ‡¶ú‡¶∞‡¶ø, ‡¶™‡ßç‡¶∞‡¶ø‡¶Ø‡¶º‡¶ô‡ßç‡¶ï‡¶æ!', footer_text: '¬© ‡ß®‡ß¶‡ß®‡ßß ‡¶è‡¶¶‡ßÅ‡ß±‡¶æ‡¶®‡¶ø‡•§ ‡¶ñ‡ßÅ‡¶ô‡ßç‡¶ó‡¶Ç‡¶ó‡ßÄ ‡¶Æ‡¶π‡ßà-‡¶Æ‡¶∂‡¶ø‡¶Ç‡¶¶‡¶æ ‡¶∂‡¶ï‡ßç‡¶§‡¶ø ‡¶™‡ßÄ‡¶¨‡•§', teacher_dashboard_title: '‡¶ì‡¶ú‡¶æ‡¶∂‡¶ø‡¶Ç‡¶ó‡ßÄ ‡¶°‡ßá‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶°', parent_welcome: '‡¶§‡¶∞‡¶æ‡¶Æ‡ßç‡¶®‡¶æ ‡¶ì‡¶ï‡¶ö‡¶∞‡¶ø, ‡¶Æ‡¶Æ‡¶æ-‡¶Æ‡¶™‡¶æ!', child_dashboard_label: "‡¶∞‡ßã‡¶π‡¶®‡¶ó‡ßÄ ‡¶°‡ßá‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶°",
        });
        translations['mr'] = createTranslation({
            role_modal_title: '‡§§‡•Å‡§Æ‡§ö‡•Ä ‡§≠‡•Ç‡§Æ‡§ø‡§ï‡§æ ‡§®‡§ø‡§µ‡§°‡§æ', role_student: '‡§µ‡§ø‡§¶‡•ç‡§Ø‡§æ‡§∞‡•ç‡§•‡•Ä', role_teacher: '‡§∂‡§ø‡§ï‡•ç‡§∑‡§ï', role_parent: '‡§™‡§æ‡§≤‡§ï', welcome_message: '‡§®‡§Æ‡§∏‡•ç‡§ï‡§æ‡§∞, ‡§™‡•ç‡§∞‡§ø‡§Ø‡§Ç‡§ï‡§æ!', footer_text: '¬© ‡•®‡•¶‡•®‡•´ ‡§è‡§°‡•Å‡§µ‡§æ‡§£‡•Ä. ‡§ó‡•ç‡§∞‡§æ‡§Æ‡•Ä‡§£ ‡§∂‡§ø‡§ï‡•ç‡§∑‡§£‡§æ‡§ö‡•á ‡§∏‡§ï‡•ç‡§∑‡§Æ‡•Ä‡§ï‡§∞‡§£.', teacher_dashboard_title: '‡§∂‡§ø‡§ï‡•ç‡§∑‡§ï ‡§°‡•Ö‡§∂‡§¨‡•ã‡§∞‡•ç‡§°', parent_welcome: '‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§Ü‡§π‡•á, ‡§™‡§æ‡§≤‡§ï!', child_dashboard_label: "‡§™‡•ç‡§∞‡§ø‡§Ø‡§Ç‡§ï‡§æ‡§ö‡•á ‡§°‡•Ö‡§∂‡§¨‡•ã‡§∞‡•ç‡§°",
        });
        translations['ne'] = createTranslation({
            role_modal_title: '‡§Ü‡§´‡•ç‡§®‡•ã ‡§≠‡•Ç‡§Æ‡§ø‡§ï‡§æ ‡§õ‡§æ‡§®‡•ç‡§®‡•Å‡§π‡•ã‡§∏‡•ç', role_student: '‡§µ‡§ø‡§¶‡•ç‡§Ø‡§æ‡§∞‡•ç‡§•‡•Ä', role_teacher: '‡§∂‡§ø‡§ï‡•ç‡§∑‡§ï', role_parent: '‡§Ö‡§≠‡§ø‡§≠‡§æ‡§µ‡§ï', welcome_message: '‡§®‡§Æ‡§∏‡•ç‡§§‡•á, ‡§™‡•ç‡§∞‡§ø‡§Ø‡§Ç‡§ï‡§æ!', footer_text: '¬© ‡•®‡•¶‡•®‡•´ ‡§è‡§°‡•Å‡§µ‡§æ‡§£‡•Ä‡•§ ‡§ó‡•ç‡§∞‡§æ‡§Æ‡•Ä‡§£ ‡§∂‡§ø‡§ï‡•ç‡§∑‡§æ‡§≤‡§æ‡§à ‡§∏‡§∂‡§ï‡•ç‡§§ ‡§¨‡§®‡§æ‡§â‡§Å‡§¶‡•à‡•§', teacher_dashboard_title: '‡§∂‡§ø‡§ï‡•ç‡§∑‡§ï ‡§°‡•ç‡§Ø‡§æ‡§∏‡§¨‡•ã‡§∞‡•ç‡§°', parent_welcome: '‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§õ, ‡§Ö‡§≠‡§ø‡§≠‡§æ‡§µ‡§ï!', child_dashboard_label: "‡§™‡•ç‡§∞‡§ø‡§Ø‡§Ç‡§ï‡§æ‡§ï‡•ã ‡§°‡•ç‡§Ø‡§æ‡§∏‡§¨‡•ã‡§∞‡•ç‡§°",
        });
        translations['or'] = createTranslation({
            role_modal_title: '‡¨Ü‡¨™‡¨£‡¨ô‡≠ç‡¨ï ‡¨≠‡≠Ç‡¨Æ‡¨ø‡¨ï‡¨æ ‡¨¨‡¨æ‡¨õ‡¨®‡≠ç‡¨§‡≠Å', role_student: '‡¨õ‡¨æ‡¨§‡≠ç‡¨∞', role_teacher: '‡¨∂‡¨ø‡¨ï‡≠ç‡¨∑‡¨ï', role_parent: '‡¨Ö‡¨≠‡¨ø‡¨≠‡¨æ‡¨¨‡¨ï', welcome_message: '‡¨®‡¨Æ‡¨∏‡≠ç‡¨ï‡¨æ‡¨∞, ‡¨™‡≠ç‡¨∞‡¨ø‡≠ü‡¨ô‡≠ç‡¨ï‡¨æ!', footer_text: '¬© ‡≠®‡≠¶‡≠®‡≠´ ‡¨è‡¨°‡≠Å‡¨¨‡¨æ‡¨£‡≠Ä‡•§ ‡¨ó‡≠ç‡¨∞‡¨æ‡¨Æ‡≠Ä‡¨£ ‡¨∂‡¨ø‡¨ï‡≠ç‡¨∑‡¨æ‡¨ï‡≠Å ‡¨∏‡¨∂‡¨ï‡≠ç‡¨§ ‡¨ï‡¨∞‡¨ø‡¨¨‡¨æ‡•§', teacher_dashboard_title: '‡¨∂‡¨ø‡¨ï‡≠ç‡¨∑‡¨ï ‡¨°‡≠ç‡≠ü‡¨æ‡¨∏‡¨¨‡≠ã‡¨∞‡≠ç‡¨°', parent_welcome: '‡¨∏‡≠ç‡≠±‡¨æ‡¨ó‡¨§, ‡¨Ö‡¨≠‡¨ø‡¨≠‡¨æ‡¨¨‡¨ï!', child_dashboard_label: "‡¨∞‡≠ã‡¨π‡¨®‡¨ô‡≠ç‡¨ï ‡¨°‡≠ç‡≠ü‡¨æ‡¨∏‡¨¨‡≠ã‡¨∞‡≠ç‡¨°",
        });
        translations['pa'] = createTranslation({
            role_modal_title: '‡®Ü‡®™‡®£‡©Ä ‡®≠‡©Ç‡®Æ‡®ø‡®ï‡®æ ‡®ö‡©Å‡®£‡©ã', role_student: '‡®µ‡®ø‡®¶‡®ø‡®Ü‡®∞‡®•‡©Ä', role_teacher: '‡®Ö‡®ß‡®ø‡®Ü‡®™‡®ï', role_parent: '‡®Æ‡®æ‡®™‡©á', welcome_message: '‡®∏‡®§‡®ø ‡®∏‡©ç‡®∞‡©Ä ‡®Ö‡®ï‡®æ‡®≤, ‡®™‡©ç‡®∞‡®ø‡®Ö‡©∞‡®ï‡®æ!', footer_text: '¬© 2025 ‡®ê‡®ú‡©Ç‡®µ‡®æ‡®£‡©Ä‡•§ ‡®™‡©á‡®Ç‡®°‡©Ç ‡®∏‡®ø‡®ñ‡®≤‡®æ‡®à ‡®®‡©Ç‡©∞ ‡®∏‡®º‡®ï‡®§‡©Ä ‡®™‡©ç‡®∞‡®¶‡®æ‡®® ‡®ï‡®∞‡®®‡®æ‡•§', teacher_dashboard_title: '‡®Ö‡®ß‡®ø‡®Ü‡®™‡®ï ‡®°‡©à‡®∏‡®º‡®¨‡©ã‡®∞‡®°', parent_welcome: '‡®ú‡©Ä ‡®Ü‡®á‡®Ü‡®Ç ‡®®‡©Ç‡©∞, ‡®Æ‡®æ‡®™‡®ø‡®ì!', child_dashboard_label: "‡®∞‡©ã‡®π‡®® ‡®¶‡®æ ‡®°‡©à‡®∏‡®º‡®¨‡©ã‡®∞‡®°",
        });
        translations['sa'] = createTranslation({
            role_modal_title: '‡§∏‡•ç‡§µ‡§≠‡•Ç‡§Æ‡§ø‡§ï‡§æ‡§Ç ‡§ö‡§ø‡§®‡•ã‡§§‡•Å', role_student: '‡§õ‡§æ‡§§‡•ç‡§∞‡§É', role_teacher: '‡§∂‡§ø‡§ï‡•ç‡§∑‡§ï‡§É', role_parent: '‡§™‡§æ‡§≤‡§ï‡§É', welcome_message: '‡§®‡§Æ‡§∏‡•ç‡§§‡•á, ‡§™‡•ç‡§∞‡§ø‡§Ø‡§Ç‡§ï‡§æ!', footer_text: '¬© ‡•®‡•¶‡•®‡•´ ‡§è‡§°‡•Å‡§µ‡§æ‡§£‡•Ä‡•§ ‡§ó‡•ç‡§∞‡§æ‡§Æ‡•Ä‡§£‡§∂‡§ø‡§ï‡•ç‡§∑‡§£‡§∏‡•ç‡§Ø ‡§∏‡§∂‡§ï‡•ç‡§§‡•Ä‡§ï‡§∞‡§£‡§Æ‡•ç‡•§', teacher_dashboard_title: '‡§∂‡§ø‡§ï‡•ç‡§∑‡§ï‡§∏‡•ç‡§Ø ‡§∏‡•Ç‡§ö‡§®‡§æ‡§´‡§≤‡§ï‡§Æ‡•ç', parent_welcome: '‡§∏‡•ç‡§µ‡§æ‡§ó‡§§‡§Æ‡•ç, ‡§™‡§æ‡§≤‡§ï!', child_dashboard_label: "‡§™‡•ç‡§∞‡§ø‡§Ø‡§Ç‡§ï‡§æ‡§∏‡•ç‡§Ø ‡§∏‡•Ç‡§ö‡§®‡§æ‡§´‡§≤‡§ï‡§Æ‡•ç",
        });
        translations['sat'] = createTranslation({
            role_modal_title: '·±ü·±¢·±ü·±ú ·±†·±ü·±π·±¢·±§ ·±µ·±ü·±™·±∑·±ü·±£ ·±¢·±Æ', role_student: '·±Ø·±ü·±π‡¨†·±©·±£·±ü·±π', role_teacher: '·±¢·±ü·±™·±Æ·±´', role_parent: '·±ú·±ö·±ú·±ö-·±µ·±ü·±µ·±ü', welcome_message: '·±°·±ö·±¶·±ü·±®, ·±Ø·±®·±§·±≠·±ö·±ù·±†·±ü!', footer_text: '¬© 2025 ·±Æ·±∞·±©·±£·±ü·±¨·±§·±ø ·±ü·±π·±õ·±© ·±ö·±±·±™·±ö·±û ·±®·±Æ·±± ·±•·±Æ·±™·±Æ·±´ ·±´·±ü·±≤·±Æ ·±Æ·±¢·±ö·±ú·±ø', teacher_dashboard_title: '‡§Æ‡§æ‡§ö‡•á‡§¶ ‡§°‡§æ‡§∏‡§¨‡•ã‡§∞‡•ç‡§°', parent_welcome: '‡§ú‡•ã‡§π‡§æ‡§∞, ‡§ó‡•ã‡§ó‡•ã-‡§¨‡§æ‡§¨‡§æ!', child_dashboard_label: "‡§™‡•ç‡§∞‡§ø‡§Ø‡§Ç‡§ï‡§æ‡§Ö‡§É ‡§°‡§æ‡§∏‡§¨‡•ã‡§∞‡•ç‡§°",
        });
        translations['sd'] = createTranslation({
            role_modal_title: 'ŸæŸÜŸáŸÜÿ¨Ÿà ⁄™ÿ±ÿØÿßÿ± ⁄ÜŸàŸÜ⁄äŸäŸà', role_student: 'ÿ¥ÿß⁄Øÿ±ÿØ', role_teacher: 'ÿßÿ≥ÿ™ÿßÿØ', role_parent: 'ŸàÿßŸÑÿØŸäŸÜ', welcome_message: '‡§®‡§Æ‡§∏‡•ç‡§ï‡§æ‡§∞, ‡§™‡•ç‡§∞‡§ø‡§Ø‡§Ç‡§ï‡§æ!', footer_text: '¬© 2025 ÿßŸä⁄äŸàŸàÿß⁄ªŸä. ⁄≥ŸàŸ∫ÿß⁄ªŸä ÿ≥⁄©Ÿäÿß ⁄©Ÿä ÿ®ÿß ÿßÿÆÿ™Ÿäÿßÿ± ÿ®⁄ªÿßÿ¶⁄ª.', teacher_dashboard_title: 'ÿßÿ≥ÿ™ÿßÿØ ⁄äŸäÿ¥ ÿ®Ÿàÿ±⁄ä', parent_welcome: '⁄ÄŸÑŸä ⁄™ÿ±Ÿä ÿ¢Ÿäÿßÿå ŸàÿßŸÑÿØŸäŸÜ!', child_dashboard_label: "ÿ±ŸàŸáŸÜ ÿ¨Ÿà ⁄äŸäÿ¥ ÿ®Ÿàÿ±⁄ä",
        });
        translations['ta'] = createTranslation({
            role_modal_title: '‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æ™‡Æô‡Øç‡Æï‡Øà‡Æ§‡Øç ‡Æ§‡Øá‡Æ∞‡Øç‡Æ®‡Øç‡Æ§‡ØÜ‡Æü‡ØÅ‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç', role_student: '‡ÆÆ‡Ææ‡Æ£‡Æµ‡Æ∞‡Øç', role_teacher: '‡ÆÜ‡Æö‡Æø‡Æ∞‡Æø‡ÆØ‡Æ∞‡Øç', role_parent: '‡Æ™‡ØÜ‡Æ±‡Øç‡Æ±‡Øã‡Æ∞‡Øç', welcome_message: '‡Æµ‡Æ£‡Æï‡Øç‡Æï‡ÆÆ‡Øç, ‡Æ™‡Æø‡Æ∞‡Æø‡ÆØ‡Æô‡Øç‡Æï‡Ææ!', footer_text: '¬© 2025 ‡Æé‡Æü‡ØÅ‡Æµ‡Ææ‡Æ£‡Æø. ‡Æï‡Æø‡Æ∞‡Ææ‡ÆÆ‡Æ™‡Øç‡Æ™‡ØÅ‡Æ± ‡Æï‡Æ±‡Øç‡Æ±‡Æ≤‡Øà ‡ÆÆ‡Øá‡ÆÆ‡Øç‡Æ™‡Æü‡ØÅ‡Æ§‡Øç‡Æ§‡ØÅ‡Æ§‡Æ≤‡Øç.', teacher_dashboard_title: '‡ÆÜ‡Æö‡Æø‡Æ∞‡Æø‡ÆØ‡Æ∞‡Øç ‡Æü‡Ææ‡Æ∑‡Øç‡Æ™‡Øã‡Æ∞‡Øç‡Æü‡ØÅ', parent_welcome: '‡Æµ‡Æ∞‡ØÅ‡Æï, ‡Æ™‡ØÜ‡Æ±‡Øç‡Æ±‡Øã‡Æ∞‡Øç!', child_dashboard_label: "‡Æ∞‡Øã‡Æπ‡Æ©‡Æø‡Æ©‡Øç ‡Æü‡Ææ‡Æ∑‡Øç‡Æ™‡Øã‡Æ∞‡Øç‡Æü‡ØÅ",
        });
        translations['te'] = createTranslation({
            role_modal_title: '‡∞Æ‡±Ä ‡∞™‡∞æ‡∞§‡±ç‡∞∞‡∞®‡±Å ‡∞é‡∞Ç‡∞ö‡±Å‡∞ï‡±ã‡∞Ç‡∞°‡∞ø', role_student: '‡∞µ‡∞ø‡∞¶‡±ç‡∞Ø‡∞æ‡∞∞‡±ç‡∞•‡∞ø', role_teacher: '‡∞â‡∞™‡∞æ‡∞ß‡±ç‡∞Ø‡∞æ‡∞Ø‡±Å‡∞°‡±Å', role_parent: '‡∞§‡∞≤‡±ç‡∞≤‡∞ø‡∞¶‡∞Ç‡∞°‡±ç‡∞∞‡±Å‡∞≤‡±Å', welcome_message: '‡∞®‡∞Æ‡∞∏‡±ç‡¥ï‡¥æ‡¥∞‡¥Ç, ‡∞™‡±ç‡∞∞‡∞ø‡∞Ø‡∞æ‡∞Ç‡∞ï!', footer_text: '¬© 2025 ‡Æé‡Æü‡ØÅ‡Æµ‡Ææ‡Æ©‡¶ø. ‡∞ó‡±ç‡∞∞‡∞æ‡∞Æ‡±Ä‡∞£ ‡∞Ö‡∞≠‡±ç‡∞Ø‡∞æ‡∞∏ ‡∞∏‡∞æ‡∞ß‡∞ø‡∞ï‡∞æ‡∞∞‡∞§.', teacher_dashboard_title: '‡∞â‡∞™‡∞æ‡∞ß‡±ç‡∞Ø‡∞æ‡∞Ø ‡∞°‡±ç‡∞Ø‡∞æ‡∞∑‡±ç‚Äå‡∞¨‡±ã‡∞∞‡±ç‡∞°‡±ç', parent_welcome: '‡∞∏‡±ç‡∞µ‡∞æ‡∞ó‡∞§‡∞Ç, ‡∞§‡∞≤‡±ç‡∞≤‡∞ø‡∞¶‡∞Ç‡∞°‡±ç‡∞∞‡±Å‡∞≤‡∞æ‡∞∞‡∞æ!', child_dashboard_label: "‡∞∞‡±ã‡∞π‡∞®‡±ç ‡∞°‡±ç‡∞Ø‡∞æ‡∞∑‡±ç‚Äå‡∞¨‡±ã‡∞∞‡±ç‡∞°‡±ç",
        });
        translations['ur'] = createTranslation({
            role_modal_title: 'ÿßŸæŸÜÿß ⁄©ÿ±ÿØÿßÿ± ŸÖŸÜÿ™ÿÆÿ® ⁄©ÿ±€å⁄∫', role_student: 'ÿ∑ÿßŸÑÿ® ÿπŸÑŸÖ', role_teacher: 'ÿßÿ≥ÿ™ÿßÿØ', role_parent: 'ŸàÿßŸÑÿØ€åŸÜ', welcome_message: 'ÿ¢ÿØÿßÿ®, Ÿæÿ±€åŸÜ⁄©ÿß!', footer_text: '¬© 2025 ÿß€å⁄à€åŸàŸÜ€å€î ÿØ€å€Å€å ÿ™ÿπŸÑ€åŸÖ ⁄©Ÿà ÿ®ÿßÿßÿÆÿ™€åÿßÿ± ÿ®ŸÜÿßŸÜÿß€î', teacher_dashboard_title: 'ÿßÿ≥ÿ™ÿßÿØ ⁄©ÿß ⁄à€åÿ¥ ÿ®Ÿàÿ±⁄à', parent_welcome: 'ÿÆŸàÿ¥ ÿ¢ŸÖÿØ€åÿØÿå ŸàÿßŸÑÿØ€åŸÜ!', child_dashboard_label: "ÿ±Ÿà€ÅŸÜ ⁄©ÿß ⁄à€åÿ¥ ÿ®Ÿàÿ±⁄à",
        });


        // --- Message Box Utility ---
        function showMessage(text, type = 'success') {
            const container = document.getElementById('message-container');
            const messageText = document.getElementById('message-text');
            let bgColor = 'bg-blue-500';
            if (type === 'error') bgColor = 'bg-red-500';
            if (type === 'success') bgColor = 'bg-green-500';
            container.className = `fixed top-5 left-1/2 -translate-x-1/2 text-white px-6 py-3 rounded-full shadow-lg z-50 transform scale-0 opacity-0 transition-all duration-300 ${bgColor}`;
            messageText.textContent = text;
            setTimeout(() => {
                container.style.transform = 'translate(-50%, 0) scale(1)';
                container.style.opacity = '1';
            }, 10);
            setTimeout(() => {
                container.style.transform = 'translate(-50%, -20px) scale(0.9)';
                container.style.opacity = '0';
            }, 3000);
        }
       
        // Helper function for Base64 to ArrayBuffer conversion
        function base64ToArrayBuffer(base64) {
            const binaryString = window.atob(base64);
            const len = binaryString.length;
            const bytes = new Uint8Array(len);
            for (let i = 0; i < len; i++) {
                bytes[i] = binaryString.charCodeAt(i);
            }
            return bytes.buffer;
        }

        // Helper function to convert raw PCM to WAV format
        function pcmToWav(pcmData, sampleRate) {
            const dataLength = pcmData.byteLength;
            const buffer = new ArrayBuffer(44 + dataLength);
            const view = new DataView(buffer);
            let offset = 0;

            view.setUint32(offset, 0x52494646, false); offset += 4; // "RIFF"
            view.setUint32(offset, 36 + dataLength, true); offset += 4; // file size
            view.setUint32(offset, 0x57415645, false); offset += 4; // "WAVE"

            view.setUint32(offset, 0x666d7420, false); offset += 4; // "fmt "
            view.setUint32(offset, 16, true); offset += 4; // chunk size
            view.setUint16(offset, 1, true); offset += 2; // channels
            view.setUint32(offset, sampleRate, true); offset += 4; // sample rate
            view.setUint32(offset, sampleRate * 2, true); offset += 4; // byte rate
            view.setUint16(offset, 2, true); offset += 2; // block align
            view.setUint16(offset, 16, true); offset += 2; // bits per sample

            view.setUint32(offset, 0x64617461, false); offset += 4; // "data"
            view.setUint32(offset, dataLength, true); offset += 4; // chunk size

            const pcmBytes = new Int16Array(buffer, offset);
            pcmBytes.set(new Int16Array(pcmData));

            return new Blob([view], { type: 'audio/wav' });
        }


        // --- UI Rendering Functions for Student Dashboard ---
        function renderStudentQuests(quests) {
            const questList = document.getElementById('student-quest-list');
            questList.innerHTML = '';
            const lang = localStorage.getItem('userLanguage') || 'en';
            const t = translations[lang] || translations['en'];

            if (quests.length === 0) {
                questList.innerHTML = `<p class="text-center text-gray-500">${t.no_quests}</p>`;
                return;
            }
            quests.forEach(quest => {
                const questHtml = `
                    <div class="bg-gray-50 rounded-lg p-8 flex flex-col sm:flex-row items-center justify-between hover:bg-gray-100 transition-colors duration-200">
                        <div>
                            <div class="font-extrabold text-2xl text-gray-900 mb-2">${t[`${quest.id}_title`] || quest.id}</div>
                            <p class="text-lg text-gray-600">${t[`${quest.id}_desc`] || ''}</p>
                        </div>
                        <div class="mt-6 sm:mt-0 flex items-center space-x-4">
                            <span class="text-yellow-600 font-bold text-2xl">+${quest.xp} XP</span>
                            <button class="bg-blue-500 text-white text-lg px-4 py-2 rounded-full font-bold shadow-lg explain-quest-btn" data-desc="${t[`${quest.id}_desc`] || ''}">
                                <span>${t.explain_concept_button}</span>
                            </button>
                            <button class="btn-start text-white text-lg px-8 py-4 rounded-full font-bold shadow-lg student-start-quest-btn" data-xp="${quest.xp}">
                                <span>${t.start_button_text}</span>
                            </button>
                        </div>
                    </div>
                `;
                questList.insertAdjacentHTML('beforeend', questHtml);
            });
        }
        function renderStudentLeaderboard(leaderboardData) {
            const leaderboardList = document.getElementById('student-leaderboard-list');
            leaderboardList.innerHTML = '';
            const allUsers = [...leaderboardData, { name: studentData.name, xp: studentData.xp, id: userId }];
            const sortedUsers = allUsers.sort((a, b) => b.xp - a.xp).slice(0, 5);
            sortedUsers.forEach((user, index) => {
                const isCurrentUser = user.id === userId;
                const itemClass = isCurrentUser
                    ? 'flex items-center justify-between bg-emerald-100 rounded-xl p-5 font-semibold text-xl transform transition-transform duration-200 hover:scale-105'
                    : 'flex items-center justify-between p-5 rounded-xl hover:bg-gray-50 transition-colors duration-200 text-xl';
                const rankClass = isCurrentUser ? 'font-extrabold text-emerald-700 text-3xl' : 'font-bold text-gray-600 text-2xl';
                const nameClass = 'text-gray-900';
                const xpClass = isCurrentUser ? 'font-extrabold text-emerald-700 text-2xl' : 'font-semibold text-gray-600 text-xl';
                const listItemHtml = `
                    <li class="${itemClass}">
                        <div class="flex items-center space-x-5">
                            <span class="${rankClass}">#${index + 1}</span>
                            <span class="${nameClass}">${user.name}</span>
                        </div>
                        <span class="${xpClass}">${user.xp} XP</span>
                    </li>
                `;
                leaderboardList.insertAdjacentHTML('beforeend', listItemHtml);
            });
        }
        function renderStudentBadges(badges) {
            const badgesGrid = document.getElementById('student-badges-grid');
            badgesGrid.innerHTML = '';
            const lang = localStorage.getItem('userLanguage') || 'en';
            const t = translations[lang] || translations['en'];
            badges.forEach(badge => {
                const opacity = badge.earned ? 'opacity-100' : 'opacity-40';
                const ringColor = badge.earned ? `ring-4 ring-${badge.color}-300 group-hover:ring-${badge.color}-500` : 'ring-4 ring-gray-300';
                const bgColor = badge.earned ? `bg-${badge.color}-100` : 'bg-gray-200';
                const textColor = badge.earned ? `text-${badge.color}-600` : 'text-gray-500';
                const icon = badge.earned ? badge.icon : 'fas fa-lock';
                const nameKey = badge.id;
                const name = t[`badge_${nameKey}`] || t[`badge_locked`];
                const badgeHtml = `
                    <div class="flex flex-col items-center transform transition-transform duration-200 hover:scale-110 group ${opacity}">
                        <div class="w-24 h-24 rounded-full ${bgColor} flex items-center justify-center ${textColor} text-5xl ${ringColor} transition-all duration-200 shadow-lg">
                            <i class="${icon}"></i>
                        </div>
                        <span class="mt-4 text-lg text-center font-semibold text-gray-700">${name}</span>
                    </div>
                `;
                badgesGrid.insertAdjacentHTML('beforeend', badgeHtml);
            });
        }
        function renderStudentModules(modules) {
            const moduleList = document.getElementById('student-module-progress-list');
            moduleList.innerHTML = '';
            const lang = localStorage.getItem('userLanguage') || 'en';
            const t = translations[lang] || translations['en'];
            modules.forEach(module => {
                const moduleHtml = `
                    <div id="module-${module.color}">
                        <div class="flex justify-between items-center mb-3">
                            <span class="font-bold text-2xl text-gray-900">${t[`${module.id}_quest_title`]}</span>
                            <span class="text-lg text-gray-600">${module.progress}%</span>
                        </div>
                        <div class="progress-bar mb-4">
                            <div class="progress-fill bg-gradient-to-r from-${module.color}-500 to-${module.color}-500" style="width: ${module.progress}%;"></div>
                        </div>
                        <button class="read-aloud-btn bg-${module.color}-100 text-${module.color}-600 text-lg px-5 py-2 rounded-full font-semibold hover:bg-${module.color}-200 transition-colors duration-200" data-text="${t[`${module.id}_quest_desc`]}">
                            <span>${t.read_aloud_button}</span>
                        </button>
                    </div>
                `;
                moduleList.insertAdjacentHTML('beforeend', moduleHtml);
            });
        }
       
        function checkLevelUp() {
            while (studentData.xp >= studentData.nextLevelXp) {
                studentData.level++;
                studentData.xp -= studentData.nextLevelXp;
                studentData.nextLevelXp = studentData.level * 100 + 500;
                showMessage(`Level Up! You are now Level ${studentData.level}!`, 'success');
            }
        }
       
        // --- API & Firestore Functions for Student Dashboard ---
        async function updateStudentLeaderboardData(user) {
            if (!db || !userId) {
                console.log('Skipping leaderboard update: Not on Gemini platform.');
                return;
            }
            const docRef = doc(db, 'artifacts', appId, 'public', 'data', 'leaderboard', userId);
            try {
                await setDoc(docRef, { name: user.name, xp: user.xp, lastUpdated: new Date() }, { merge: true });
            } catch (error) {
                console.error('Error updating leaderboard:', error);
            }
        }
        async function fetchInitialStudentData() {
            if (!db || !userId) {
                console.log('Skipping initial student data fetch: Not on Gemini platform.');
                return;
            }
            const docRef = doc(db, 'artifacts', appId, 'users', userId, 'dashboardData', 'profile');
            try {
                const docSnap = await getDoc(docRef);
                if (docSnap.exists()) {
                    studentData = { ...studentData, ...docSnap.data() };
                } else {
                    await setDoc(docRef, studentData);
                }
            } catch (error) {
                console.error('Error fetching/setting user data:', error);
            }
        }
        async function saveStudentData() {
            if (!db || !userId) {
                console.log('Skipping student data save: Not on Gemini platform.');
                return;
            }
            const docRef = doc(db, 'artifacts', appId, 'users', userId, 'dashboardData', 'profile');
            try {
                await setDoc(docRef, studentData, { merge: true });
            } catch (error) {
                console.error('Error saving user data:', error);
            }
        }
        async function generateNewQuest() {
            const generateBtn = document.getElementById('student-generate-quest-btn');
            const generateLoading = document.getElementById('student-generate-loading');
            const now = new Date();
            const today = now.toISOString().slice(0, 10);
            const lang = localStorage.getItem('userLanguage') || 'en';
            const t = translations[lang] || translations['en'];

            if (studentData.lastQuestGenerated === today) {
                showMessage(t.quest_already_generated, 'error');
                return;
            }
            generateBtn.disabled = true;
            generateLoading.classList.remove('hidden');
            showMessage(t.loading_quests);
            try {
                if (!isGeminiPlatform) {
                    // Mocking for local development
                    const mockQuest = { id: 'water_conservation', xp: 90 };
                    studentData.quests = [mockQuest];
                    studentData.lastQuestGenerated = today;
                    await saveStudentData();
                    renderStudentQuests(studentData.quests);
                    showMessage(t.quest_generated_success, 'success');
                    console.log('Mock quest generated for local development.');
                    return;
                }

                const prompt = "Generate a new daily learning quest for a user on a gamified learning platform. The user is in a village in India. The quest should be related to practical, real-world skills like agriculture, water conservation, local history, or traditional crafts. The quest should have a 'title' (max 6 words), a 'description' (max 15 words), and a numerical 'xp' reward between 50 and 100. Provide the response as a single JSON object with the keys 'title', 'description', and 'xp'.";
                const payload = {
                    contents: [{ parts: [{ text: prompt }] }],
                    generationConfig: {
                        responseMimeType: "application/json",
                        responseSchema: {
                            type: "OBJECT",
                            properties: {
                                "title": { "type": "STRING" },
                                "description": { "type": "STRING" },
                                "xp": { "type": "NUMBER" }
                            }
                        }
                    }
                };
                const apiKey = "";
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                if (!response.ok) {
                    throw new Error(`API call failed with status: ${response.status}`);
                }
                const result = await response.json();
                const content = result?.candidates?.[0]?.content?.parts?.[0]?.text;
                if (!content) {
                   throw new Error('No content returned from API');
                }
                const newQuest = JSON.parse(content);
                studentData.quests = [{ id: newQuest.title.toLowerCase().replace(/ /g, '_'), xp: newQuest.xp }];
                studentData.lastQuestGenerated = today;
                await saveStudentData();
                renderStudentQuests(studentData.quests);
                showMessage(t.quest_generated_success, 'success');
            } catch (error) {
                console.error('Error generating quest:', error);
                showMessage('Failed to generate quest. Please try again.', 'error');
            } finally {
                generateBtn.disabled = false;
                generateLoading.classList.add('hidden');
            }
        }

        async function explainQuestConcept(description) {
            const lang = localStorage.getItem('userLanguage') || 'en';
            const t = translations[lang] || translations['en'];
            showMessage(t.loading_explanation);
            try {
                if (!isGeminiPlatform) {
                    // Mocking for local development
                    showMessage("This is a mock explanation for local development.", 'success');
                    console.log(`Mock explanation for: "${description}"`);
                    return;
                }
                const prompt = `Explain the following concept in simple, easy-to-understand terms suitable for a student in a rural Indian village. Keep the explanation concise, no more than 3-4 sentences: ${description}`;
                const payload = {
                    contents: [{ parts: [{ text: prompt }] }],
                    model: "gemini-2.5-flash-preview-05-20"
                };
                const apiKey = "";
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                if (!response.ok) {
                    throw new Error(`API call failed with status: ${response.status}`);
                }
                const result = await response.json();
                const explanation = result?.candidates?.[0]?.content?.parts?.[0]?.text;
                if (explanation) {
                    showMessage(explanation, 'success');
                } else {
                    throw new Error('No explanation returned from API');
                }
            } catch (error) {
                console.error('Error explaining concept:', error);
                showMessage('Failed to explain concept. Please try again.', 'error');
            }
        }

        async function readAloud(text) {
            const lang = localStorage.getItem('userLanguage') || 'en';
            const t = translations[lang] || translations['en'];
            showMessage(t.loading_audio);
            try {
                if (!isGeminiPlatform) {
                    // Mocking for local development
                    showMessage("This is a mock read aloud for local development.", 'success');
                    console.log(`Mock read aloud for: "${text}"`);
                    return;
                }
                const voiceName = ttsVoiceMap[lang] || 'Kore';
                const payload = {
                    contents: [{ parts: [{ text: text }] }],
                    generationConfig: {
                        responseModalities: ["AUDIO"],
                        speechConfig: { voiceConfig: { prebuiltVoiceConfig: { voiceName: voiceName } } },
                    },
                    model: "gemini-2.5-flash-preview-tts"
                };
                const apiKey = "";
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-tts:generateContent?key=${apiKey}`;
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                if (!response.ok) {
                    throw new Error(`TTS API call failed with status: ${response.status}`);
                }
                const result = await response.json();
                const part = result?.candidates?.[0]?.content?.parts?.[0];
                const audioData = part?.inlineData?.data;
                const mimeType = part?.inlineData?.mimeType;
                if (audioData && mimeType && mimeType.startsWith("audio/")) {
                    const sampleRateMatch = mimeType.match(/rate=(\d+)/);
                    const sampleRate = sampleRateMatch ? parseInt(sampleRate[1], 10) : 16000;
                    const pcmData = base64ToArrayBuffer(audioData);
                    const pcm16 = new Int16Array(pcmData);
                    const wavBlob = pcmToWav(pcm16, sampleRate);
                    const audioUrl = URL.createObjectURL(wavBlob);
                    const audio = new Audio(audioUrl);
                    audio.play();
                    showMessage('Playing audio...', 'success');
                } else {
                    throw new Error('Invalid audio data or mime type received.');
                }
            } catch (error) {
                console.error('Error reading aloud:', error);
                showMessage('Failed to read aloud. Please try again.', 'error');
            }
        }

        async function generateClassReport() {
            const lang = localStorage.getItem('userLanguage') || 'en';
            const t = translations[lang] || translations['en'];
            showMessage(t.loading_report);
           
            if (!isGeminiPlatform) {
                document.getElementById('teacher-report-text').textContent = "This is a mock report generated for local development. The class is doing great, with top performers setting a good example. Let's focus on improving 'Local History' with more interactive lessons.";
                showMessage('Mock report generated successfully!', 'success');
                console.log('Mock report generated for local development.');
                return;
            }

            const prompt = `Based on the following student data, generate a concise, encouraging, and actionable class report for the teacher. Highlight the overall class performance, mention top-performing students, and identify a general area for improvement. The data is as follows: ${JSON.stringify(students)}.`;
           
            try {
                const payload = {
                    contents: [{ parts: [{ text: prompt }] }],
                    model: "gemini-2.5-flash-preview-05-20"
                };
                const apiKey = "";
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                if (!response.ok) {
                    throw new Error(`API call failed with status: ${response.status}`);
                }
                const result = await response.json();
                const reportText = result?.candidates?.[0]?.content?.parts?.[0]?.text;
                if (reportText) {
                    document.getElementById('teacher-report-text').textContent = reportText;
                    showMessage('Report generated successfully!', 'success');
                } else {
                    throw new Error('No report text returned from API');
                }
            } catch (error) {
                console.error('Error generating report:', error);
                showMessage('Failed to generate report. Please try again.', 'error');
            }
        }

        // --- UI Rendering Functions for Teacher Dashboard ---
        function renderTeacherStudentProgress() {
            const list = document.getElementById('teacher-student-progress-list');
            const summary = document.getElementById('teacher-progress-summary');
            const viewType = document.getElementById('teacher-progress-view').value;

            if (viewType === 'class-summary') {
                list.classList.add('hidden');
                summary.classList.remove('hidden');
                if (students.length > 0) {
                    const totalXP = students.reduce((sum, s) => sum + s.xp, 0);
                    const totalLevel = students.reduce((sum, s) => sum + s.level, 0);
                    document.getElementById('teacher-avg-xp').textContent = (totalXP / students.length).toFixed(0);
                    document.getElementById('teacher-avg-level').textContent = (totalLevel / students.length).toFixed(1);
                    document.getElementById('teacher-total-students').textContent = students.length;
                } else {
                    document.getElementById('teacher-avg-xp').textContent = '0';
                    document.getElementById('teacher-avg-level').textContent = '0';
                    document.getElementById('teacher-total-students').textContent = '0';
                }
            } else { // 'all-students'
                summary.classList.add('hidden');
                list.classList.remove('hidden');
                list.innerHTML = '';
                students.sort((a, b) => b.progress - a.progress);
                students.forEach(student => {
                    const progressColor = student.progress >= 100 ? 'bg-green-500' : (student.progress > 0 ? 'bg-yellow-400' : 'bg-red-500');
                    const progressHtml = `<div class="progress-bar"><div class="progress-fill ${progressColor}" style="width: ${student.progress}%;"></div></div>`;
                    const studentHtml = `
                        <div class="flex items-center space-x-4 p-4 bg-gray-50 rounded-xl">
                            <div class="w-12 h-12 rounded-full bg-indigo-200 flex items-center justify-center font-bold text-indigo-700">
                                ${student.name.charAt(0).toUpperCase()}
                            </div>
                            <div class="flex-1">
                                <h3 class="text-lg font-bold">${student.name}</h3>
                                <p class="text-sm text-gray-500">Level: ${student.level}</p>
                            </div>
                            <div class="flex-1">
                                ${progressHtml}
                                <p class="text-sm text-right mt-1 font-semibold">${student.progress}%</p>
                            </div>
                        </div>
                    `;
                    list.insertAdjacentHTML('beforeend', studentHtml);
                });
            }
        }
        function renderTeacherLeaderboard() {
            const list = document.getElementById('teacher-leaderboard-list');
            list.innerHTML = '';
            const sortedStudents = [...students].sort((a, b) => b.xp - a.xp).slice(0, 5);
            sortedStudents.forEach((student, index) => {
                const rank = index + 1;
                const itemHtml = `
                    <li class="flex items-center justify-between p-4 rounded-xl bg-yellow-50 hover:bg-yellow-100 transition-colors">
                        <div class="flex items-center space-x-4">
                            <span class="text-xl font-bold text-yellow-600">#${rank}</span>
                            <span class="text-lg font-semibold">${student.name}</span>
                        </div>
                        <span class="text-lg font-bold text-gray-700">${student.xp} XP</span>
                    </li>
                `;
                list.insertAdjacentHTML('beforeend', itemHtml);
            });
        }
        function renderTeacherRewardBadges() {
            const grid = document.getElementById('teacher-badge-grid');
            grid.innerHTML = '';
            teacherBadges.forEach(badge => {
                const badgeHtml = `
                    <div class="flex flex-col items-center cursor-pointer p-2 rounded-xl hover:bg-white transition-colors" data-badge-id="${badge.id}">
                        <i class="${badge.icon} ${badge.color} badge-icon"></i>
                        <span class="text-xs font-semibold mt-1 text-center">${badge.name}</span>
                    </div>
                `;
                grid.insertAdjacentHTML('beforeend', badgeHtml);
            });
        }
        function renderTeacherStudentSelector() {
            const selector = document.getElementById('teacher-reward-student-selector');
            const lang = localStorage.getItem('userLanguage') || 'en';
            const t = translations[lang] || translations['en'];
            selector.innerHTML = `<option value="" disabled selected>${t.select_student_placeholder}</option>`;
            students.forEach(student => {
                const option = document.createElement('option');
                option.value = student.id;
                option.textContent = student.name;
                selector.appendChild(option);
            });
        }
        function addNotification(messageKey, context = {}) {
            const list = document.getElementById('teacher-notification-list');
            const lang = localStorage.getItem('userLanguage') || 'en';
            const t = translations[lang] || translations['en'];
            let message = t[messageKey] || messageKey;
           
            // Replace placeholders like {name} or {badge}
            Object.keys(context).forEach(key => {
                message = message.replace(`{${key}}`, context[key]);
            });

            const notificationHtml = `<div class="p-4 bg-gray-100 rounded-xl font-medium">${message}</div>`;
            list.insertAdjacentHTML('afterbegin', notificationHtml);
        }

        // --- Core Application Logic ---
        function setRole(role) {
            currentRole = role;
            localStorage.setItem('userRole', role);

            // Hide all modals and dashboards first
            document.getElementById('role-selection-modal').classList.add('hidden');
            document.getElementById('student-dashboard').classList.add('hidden');
            document.getElementById('teacher-dashboard').classList.add('hidden');
            document.getElementById('parent-dashboard').classList.add('hidden');
            document.getElementById('math-game-modal').classList.add('hidden');
            document.getElementById('math-game-modal').classList.remove('flex');
            document.getElementById('puzzle-mania-modal').classList.add('hidden');
            document.getElementById('puzzle-mania-modal').classList.remove('flex');
            document.body.classList.remove('parent-dashboard-bg'); // Remove parent bg class

            // Show role switch button
            document.getElementById('role-switch-btn').classList.remove('hidden');
           
            if (role === 'student') {
                document.getElementById('student-dashboard').classList.remove('hidden');
                initStudentDashboard();
            } else if (role === 'teacher') {
                document.getElementById('teacher-dashboard').classList.remove('hidden');
                initTeacherDashboard();
            } else if (role === 'parent') {
                document.getElementById('parent-dashboard').classList.remove('hidden');
                initParentDashboard();
            }
        }
        function toggleRole() {
            if (currentRole === 'student') {
                setRole('teacher');
            } else if (currentRole === 'teacher') {
                setRole('parent');
            } else {
                setRole('student');
            }
        }
       
        async function createMockStudents() {
            const mockStudents = [
                { name: 'Ravi', level: 5, xp: 1200, progress: 85, badges: ['helping-hand'], id: 'ravi-1' },
                { name: 'Priya', level: 4, xp: 950, progress: 95, badges: ['star-performer'], id: 'priya-2' },
                { name: 'Amit', level: 3, xp: 750, progress: 60, badges: [], id: 'amit-3' },
                { name: 'Meena', level: 6, xp: 1500, progress: 100, badges: ['star-performer', 'problem-solver'], id: 'meena-4' },
                { name: 'Suresh', level: 2, xp: 400, progress: 30, badges: [], id: 'suresh-5' },
            ];
            if (!isGeminiPlatform) {
                students = mockStudents;
                console.log("Using mock student data for local development.");
                return;
            }
            const studentCollectionRef = collection(db, 'artifacts', appId, 'public', 'data', 'students');
            const snapshot = await getDocs(studentCollectionRef);
            if (snapshot.empty) {
                console.log("No student data found, creating mock data.");
                for (const student of mockStudents) {
                    await setDoc(doc(studentCollectionRef, student.id), student);
                }
            }
        }
       
        async function initStudentDashboard() {
            await fetchInitialStudentData();
            updateStudentUI(); // This will handle all translations and rendering for the student dashboard
            if (!isGeminiPlatform) {
                renderStudentLeaderboard(defaultLeaderboard);
                return;
            }
            const publicLeaderboardRef = collection(db, 'artifacts', appId, 'public', 'data', 'leaderboard');
            onSnapshot(publicLeaderboardRef, (snapshot) => {
                const leaderboardData = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                renderStudentLeaderboard(leaderboardData);
            }, (error) => {
                console.error('Error listening to leaderboard:', error);
                renderStudentLeaderboard(defaultLeaderboard);
            });
        }
       
        async function initTeacherDashboard() {
            const lang = localStorage.getItem('userLanguage') || 'en';
            translateTeacherDashboard(lang); // Translate static elements first
            renderTeacherRewardBadges();
            await createMockStudents();
            document.getElementById('teacher-notification-list').innerHTML = '';
            addNotification('notification1');
            addNotification('notification2');
            addNotification('notification3');
           
            if (!isGeminiPlatform) {
                renderTeacherStudentProgress();
                renderTeacherLeaderboard();
                renderTeacherStudentSelector();
                return;
            }

            const studentCollectionRef = collection(db, 'artifacts', appId, 'public', 'data', 'students');
            onSnapshot(studentCollectionRef, (snapshot) => {
                students = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                renderTeacherStudentProgress();
                renderTeacherLeaderboard();
                renderTeacherStudentSelector();
            }, (error) => {
                console.error("Error listening to student data: ", error);
                showMessage("Failed to get real-time student data.", "error");
            });
        }

        async function initParentDashboard() {
            const lang = localStorage.getItem('userLanguage') || 'en';
            translateParentDashboard(lang); // Translate static elements
            setParentDashboardAppearance();
        }

        function setParentDashboardAppearance() {
            const body = document.body;
            const greetingMessage = document.getElementById('greeting-message');
            const currentHour = new Date().getHours();
            const lang = localStorage.getItem('userLanguage') || 'en';
            const t = translations[lang] || translations['en'];

            // Set background class
            body.classList.add('parent-dashboard-bg');

            // Set greeting based on time of day
            if (currentHour >= 5 && currentHour < 12) {
                greetingMessage.textContent = t.parent_greeting_morning;
            } else if (currentHour >= 12 && currentHour < 17) {
                greetingMessage.textContent = t.parent_greeting_afternoon;
            } else if (currentHour >= 17 && currentHour < 20) {
                greetingMessage.textContent = t.parent_greeting_evening;
            } else {
                greetingMessage.textContent = t.parent_greeting_night;
            }
        }
       
        async function initializeAppAndAuth() {
            try {
                populateLanguageSelectors();
               
                if (!isGeminiPlatform) {
                    console.warn("Not on Gemini platform. Using mock Firebase config.");
                    document.getElementById('login-modal').classList.remove('hidden');
                    return;
                }
                app = initializeApp(firebaseConfig);
                auth = getAuth(app);
                db = getFirestore(app);
                onAuthStateChanged(auth, async (user) => {
                    if (user) {
                        userId = user.uid;
                        document.getElementById('login-modal').classList.add('hidden');
                       
                        const savedLang = localStorage.getItem('userLanguage') || 'en';
                        translateAllPages(savedLang);

                        if (currentRole) {
                            setRole(currentRole);
                        } else {
                            document.getElementById('role-selection-modal').classList.remove('hidden');
                        }

                    } else {
                        document.getElementById('login-modal').classList.remove('hidden');
                    }
                });
            } catch (error) {
                console.error('Firebase initialization or authentication failed:', error);
                showMessage('Failed to connect to the database. Check console for details.', 'error');
            }
        }

        async function handleLogin() {
            const phoneNumber = document.getElementById('phone-number').value;
            if (phoneNumber) {
                showMessage("A mock OTP has been sent. Please enter '123456'", 'success');
                document.getElementById('login-form').classList.add('hidden');
                document.getElementById('otp-section').classList.remove('hidden');
            } else {
                showMessage("Please enter a valid phone number.", 'error');
            }
        }

        async function handleOtpVerification() {
            const otpInput = document.getElementById('otp-input').value;
            if (otpInput === '123456') {
                let user;
                if (isGeminiPlatform) {
                    user = await signInWithCustomToken(auth, authToken);
                } else {
                    try {
                        user = await signInAnonymously(auth);
                        userId = user.user.uid;
                    } catch(e) {
                         console.log("Mock sign in for local dev");
                         userId = "mock-user-id";
                    }
                }
                showMessage("Login successful!", 'success');
                document.getElementById('login-modal').classList.add('hidden');

                const savedLang = localStorage.getItem('userLanguage') || 'en';
                translateAllPages(savedLang);
                if(currentRole) {
                    setRole(currentRole);
                } else {
                    document.getElementById('role-selection-modal').classList.remove('hidden');
                }
            } else {
                showMessage("Invalid OTP. Please try again.", 'error');
            }
        }

        function handleVoiceInput() {
            const voiceInput = document.getElementById('voice-input').value;
            if (voiceInput) {
                showMessage(`You said: "${voiceInput}"`, 'success');
            } else {
                showMessage("Please speak or type something first.", 'error');
            }
        }

        function populateLanguageSelectors() {
            const selectors = document.querySelectorAll('#language-selector, #teacher-language-selector, #parent-language-selector');
            const savedLang = localStorage.getItem('userLanguage') || 'en';
            selectors.forEach(selector => {
                if (!selector) return;
                selector.innerHTML = '';
                for (const code in languages) {
                    const option = document.createElement('option');
                    option.value = code;
                    option.textContent = languages[code];
                    selector.appendChild(option);
                }
                selector.value = savedLang;
            });
        }

        // Helper to safely set text content
        const safeSetText = (id, text) => {
            const element = document.getElementById(id);
            if (element) element.textContent = text;
        };
        const safeSetTextByQuery = (query, text) => {
            const element = document.querySelector(query);
            if (element) element.textContent = text;
        };
        const safeSetAllByQuery = (query, text) => {
            document.querySelectorAll(query).forEach(el => {
                if (el) el.textContent = text;
            });
        };
       
        function translateStudentDashboard(lang) {
            const t = translations[lang] || translations['en'];
            safeSetText('student-welcome-message', t.welcome_message);
            safeSetText('student-learning-message', t.learning_message);
            safeSetText('student-daily-quests-title', t.daily_quests_title);
            safeSetText('student-leaderboard-title', t.leaderboard_title);
            safeSetText('student-badges-title', t.badges_title);
            safeSetText('student-progress-title', t.progress_title);
            safeSetText('student-generate-quest-btn-text', t.generate_quest_button);
            safeSetText('student-voice-label', t.voice_question_label);
        }

        function translateTeacherDashboard(lang) {
            const t = translations[lang] || translations['en'];
            safeSetText('teacher-dashboard-title', t.teacher_dashboard_title);
            safeSetText('teacher-student-progress-title', t.student_progress_title);
            safeSetText('teacher-view-label', t.view_label);
            safeSetText('teacher-view-option-summary', t.view_option_summary);
            safeSetText('teacher-view-option-all', t.view_option_all);
            safeSetText('teacher-generate-report-btn-text', t.generate_report_button);
            safeSetText('teacher-summary-title', t.summary_title);
            safeSetText('teacher-summary-avg-xp-label', t.summary_avg_xp);
            safeSetText('teacher-summary-avg-level-label', t.summary_avg_level);
            safeSetText('teacher-summary-total-students-label', t.summary_total_students);
            safeSetText('teacher-leaderboard-title', t.class_leaderboard_title);
            safeSetText('teacher-reward-title', t.reward_title);
            safeSetText('teacher-award-badge-btn', t.award_badge_button);
            safeSetText('teacher-assignment-title-main', t.assignment_title);
            safeSetText('teacher-assignment-module-label', t.module_title_label);
            safeSetText('teacher-assignment-desc-label', t.description_label);
            safeSetText('teacher-assignment-assign-label', t.assign_to_label);
            safeSetText('teacher-assign-all', t.assign_all);
            safeSetText('teacher-assign-gA', t.assign_group_a);
            safeSetText('teacher-assign-gB', t.assign_group_b);
            safeSetText('teacher-create-assignment-btn', t.create_assignment_button);
            safeSetText('teacher-notifications-title', t.notifications_title);
        }

        function translateParentDashboard(lang) {
            const t = translations[lang] || translations['en'];
            safeSetText('greeting-message', t.parent_welcome);
            safeSetText('parent-child-dashboard-label', t.child_dashboard_label);
            safeSetText('parent-overall-progress-title', t.overall_progress_title);
            safeSetText('parent-learning-level-label', t.learning_level_label);
            safeSetText('parent-points-earned-label', t.points_earned_label);
            safeSetText('parent-badges-collected-label', t.badges_collected_label);
            safeSetText('parent-subject-progress-title', t.subject_progress_title);
            safeSetAllByQuery('.parent-lessons-label', t.lessons_label);
            safeSetText('parent-subject-math', t.subject_math);
            safeSetText('parent-subject-science', t.subject_science);
            safeSetText('parent-subject-english', t.subject_english);
            safeSetText('parent-homework-title', t.homework_title);
            safeSetAllByQuery('.parent-due-label', t.due_label);
            safeSetTextByQuery('.parent-due-date1', t.due_yesterday);
            safeSetTextByQuery('.parent-due-date2', t.due_tomorrow);
            safeSetTextByQuery('.parent-due-date3', t.due_2_days_ago);
            safeSetTextByQuery('.parent-status-submitted', t.status_submitted);
            safeSetTextByQuery('.parent-status-pending', t.status_pending);
            safeSetTextByQuery('.parent-status-overdue', t.status_overdue);
            safeSetText('parent-homework1-title', t.homework1_title);
            safeSetText('parent-homework2-title', t.homework2_title);
            safeSetText('parent-homework3-title', t.homework3_title);
            safeSetText('parent-attendance-title', t.attendance_title);
            safeSetText('parent-attendance-month-label', t.present_month_label);
            safeSetText('parent-attendance-week-label', t.this_week_label);
            safeSetTextByQuery('.parent-day-mon', t.day_mon);
            safeSetTextByQuery('.parent-day-tue', t.day_tue);
            safeSetTextByQuery('.parent-day-wed', t.day_wed);
            safeSetTextByQuery('.parent-day-thu', t.day_thu);
            safeSetTextByQuery('.parent-day-fri', t.day_fri);
            safeSetText('parent-footer-text', t.footer_text);
        }

        function updateStudentUI() {
            const lang = localStorage.getItem('userLanguage') || 'en';
            translateStudentDashboard(lang); // Translate static elements
            const t = translations[lang] || translations['en'];
            document.getElementById('student-user-avatar').textContent = studentData.name.charAt(0).toUpperCase();
            document.getElementById('student-level-text').textContent = `${t.level_text} ${studentData.level}`;
            document.getElementById('student-xp-text').textContent = `${studentData.xp} / ${studentData.nextLevelXp} XP`;
            const progressPercentage = (studentData.xp / studentData.nextLevelXp) * 100;
            document.getElementById('student-xp-progress-fill').style.width = `${Math.min(progressPercentage, 100)}%`;

            // Dynamic elements are translated within their render functions
            renderStudentQuests(studentData.quests);
            renderStudentLeaderboard(defaultLeaderboard);
            renderStudentBadges(studentBadges);
            renderStudentModules(studentModules);
        }

        // CORRECTED: Central translation function
        function translateAllPages(lang) {
            localStorage.setItem('userLanguage', lang);
            populateLanguageSelectors();

            const t = translations[lang] || translations['en'];

            // Translate common elements that are always available
            safeSetText('login-modal-title', t.login_title);
            safeSetText('request-otp-btn', t.request_otp);
            safeSetText('verify-otp-btn', t.verify_otp);
            safeSetText('otp-info-text', t.otp_info);
            safeSetText('role-modal-title', t.role_modal_title);
            safeSetTextByQuery('.role-student-text', t.role_student);
            safeSetTextByQuery('.role-teacher-text', t.role_teacher);
            safeSetTextByQuery('.role-parent-text', t.role_parent);
            safeSetText('role-switch-btn', t.switch_role_button);

            // Re-initialize/re-render the currently active dashboard to apply language changes
            if (currentRole === 'student') {
                updateStudentUI();
            } else if (currentRole === 'teacher') {
                initTeacherDashboard();
            } else if (currentRole === 'parent') {
                initParentDashboard();
            }
        }
       
        // --- Added from second document ---
        let currentAudio = null;
        const textApiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${""}`;
        const ttsApiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-tts:generateContent?key=${""}`;
        const imageApiUrl = `https://generativelanguage.googleapis.com/v1beta/models/imagen-3.0-generate-002:predict?key=${""}`;

        async function callGeminiText(prompt) {
            const payload = { contents: [{ parts: [{ text: prompt }] }] };
            try {
                const response = await fetch(textApiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                if (!response.ok) throw new Error(`API Error: ${response.statusText}`);
                const result = await response.json();
                return result.candidates?.[0]?.content?.parts?.[0]?.text || "Sorry, I couldn't generate a response. Please try again.";
            } catch (error) {
                console.error("Gemini API call failed:", error);
                return "There was an error connecting to the AI helper. Please check your connection and try again.";
            }
        }

        async function callGeminiTTS(textToSpeak) {
            const payload = {
                contents: [{ parts: [{ text: textToSpeak }] }],
                generationConfig: {
                    responseModalities: ["AUDIO"],
                    speechConfig: { voiceConfig: { prebuiltVoiceConfig: { voiceName: "Kore" } } }
                },
                model: "gemini-2.5-flash-preview-tts"
            };
            try {
                const response = await fetch(ttsApiUrl, { method: 'POST', headers: {'Content-Type': 'application/json'}, body: JSON.stringify(payload) });
                if (!response.ok) throw new Error(`TTS API Error: ${response.statusText}`);
                const result = await response.json();
                const part = result?.candidates?.[0]?.content?.parts?.[0];
                const audioData = part?.inlineData?.data;
                const mimeType = part?.inlineData?.mimeType;

                if (audioData && mimeType && mimeType.startsWith("audio/")) {
                    const sampleRate = parseInt(mimeType.match(/rate=(\d+)/)[1], 10);
                    const pcmData = base64ToArrayBuffer(audioData);
                    const wavBlob = pcmToWav(pcmData, sampleRate);
                    return URL.createObjectURL(wavBlob);
                }
                return null;
            } catch (error) {
                console.error("Gemini TTS call failed:", error);
                showMessage("Audio Error", "Could not generate the audio for this text.");
                return null;
            }
        }

        async function callImagen(prompt) {
            const payload = { instances: [{ prompt: prompt }], parameters: { "sampleCount": 1 } };
            try {
                const response = await fetch(imageApiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                if (!response.ok) throw new Error(`Imagen API Error: ${response.statusText}`);
                const result = await response.json();
                return result.predictions?.[0]?.bytesBase64Encoded || null;
            } catch (error) {
                console.error("Imagen API call failed:", error);
                showMessage("Image Error", "Sorry, I couldn't create an image right now.");
                return null;
            }
        }

        // --- Event Handlers ---
        window.onload = initializeAppAndAuth;
        document.getElementById('student-role-btn').addEventListener('click', () => setRole('student'));
        document.getElementById('teacher-role-btn').addEventListener('click', () => setRole('teacher'));
        document.getElementById('parent-role-btn').addEventListener('click', () => setRole('parent'));
        document.getElementById('role-switch-btn').addEventListener('click', toggleRole);
        document.getElementById('language-selector').addEventListener('change', (e) => translateAllPages(e.target.value));
        document.getElementById('teacher-language-selector').addEventListener('change', (e) => translateAllPages(e.target.value));
        document.getElementById('parent-language-selector').addEventListener('change', (e) => translateAllPages(e.target.value));

        document.getElementById('student-generate-quest-btn').addEventListener('click', generateNewQuest);
        document.getElementById('student-quest-list').addEventListener('click', async (event) => {
            const btn = event.target.closest('.student-start-quest-btn');
            if (btn) {
                const xpReward = parseInt(btn.dataset.xp, 10);
                studentData.xp += xpReward;
                checkLevelUp();
                studentData.quests = [];
                await saveStudentData();
                await updateStudentLeaderboardData(studentData);
                updateStudentUI();
                const lang = localStorage.getItem('userLanguage') || 'en';
                const message = (translations[lang] || translations['en'])['xp_gained'].replace('{xp}', xpReward);
                showMessage(message, 'success');
            }
            const explainBtn = event.target.closest('.explain-quest-btn');
            if(explainBtn) {
                const description = explainBtn.dataset.desc;
                explainQuestConcept(description);
            }
        });
        document.getElementById('student-module-progress-list').addEventListener('click', (event) => {
            const btn = event.target.closest('.read-aloud-btn');
            if (btn) {
                const textToRead = btn.dataset.text;
                readAloud(textToRead);
            }
        });

        document.getElementById('login-form').addEventListener('submit', (e) => {
            e.preventDefault();
            handleLogin();
        });
        document.getElementById('verify-otp-btn').addEventListener('click', handleOtpVerification);
        document.getElementById('mic-btn').addEventListener('click', handleVoiceInput);

       
        document.getElementById('teacher-progress-view').addEventListener('change', renderTeacherStudentProgress);
        document.getElementById('generate-report-btn').addEventListener('click', generateClassReport);
        document.getElementById('teacher-reward-student-selector').addEventListener('change', (e) => {
            const awardBtn = document.getElementById('teacher-award-badge-btn');
            awardBtn.disabled = !e.target.value;
        });
        let selectedBadgeId = null;
        document.getElementById('teacher-badge-grid').addEventListener('click', (e) => {
            const badgeElement = e.target.closest('div[data-badge-id]');
            if (badgeElement) {
                document.querySelectorAll('#teacher-badge-grid > div').forEach(el => el.classList.remove('bg-white', 'ring-2', 'ring-emerald-500'));
                badgeElement.classList.add('bg-white', 'ring-2', 'ring-emerald-500');
                selectedBadgeId = badgeElement.dataset.badgeId;
            }
        });
        document.getElementById('teacher-award-badge-btn').addEventListener('click', async () => {
            const studentId = document.getElementById('teacher-reward-student-selector').value;
            if (!studentId || !selectedBadgeId) {
                showMessage("Please select a student and a badge.", "error");
                return;
            }
            try {
                if (!isGeminiPlatform) {
                    console.log(`Mock: Awarded badge ${selectedBadgeId} to student ${studentId}`);
                    showMessage("Badge awarded successfully! (Mock)", "success");
                    addNotification(`Mock: Awarded badge to student ${studentId}.`);
                    return;
                }
                const studentDocRef = doc(db, 'artifacts', appId, 'public', 'data', 'students', studentId);
                const student = students.find(s => s.id === studentId);
                if (student && student.badges && !student.badges.includes(selectedBadgeId)) {
                    const updatedBadges = [...student.badges, selectedBadgeId];
                    await setDoc(studentDocRef, { badges: updatedBadges }, { merge: true });
                    showMessage(`${student.name} was awarded the ${selectedBadgeId} badge!`);
                    addNotification(`New assignment "${title}" created for "${group}".`);
                } else {
                    showMessage("Student already has this badge or an error occurred.", "error");
                }
            } catch (error) {
                console.error("Error awarding badge: ", error);
                showMessage("Failed to award badge. Please try again.", "error");
            }
        });
        document.getElementById('teacher-assignment-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            const title = document.getElementById('teacher-assignment-title-input').value;
            const desc = document.getElementById('teacher-assignment-desc').value;
            const group = document.getElementById('teacher-assignment-group').value;
            if (!title || !desc) {
                showMessage("Please fill out all assignment fields.", "error");
                return;
            }
            const newAssignment = { title, description: desc, assignedTo: group, createdAt: new Date() };
            try {
                if (!isGeminiPlatform) {
                    console.log("Mock: Created new assignment", newAssignment);
                    showMessage("Assignment created and assigned successfully! (Mock)", "success");
                    addNotification(`Mock: New assignment "${title}" created for "${group}".`);
                    document.getElementById('teacher-assignment-form').reset();
                    return;
                }
                const assignmentsCollectionRef = collection(db, 'artifacts', appId, 'private', 'data', 'assignments');
                await addDoc(assignmentsCollectionRef, newAssignment);
                showMessage("Assignment created and assigned successfully!");
                addNotification(`New assignment "${title}" created for "${group}".`);
                document.getElementById('teacher-assignment-form').reset();
            } catch (error) {
                console.error("Error creating assignment: ", error);
                showMessage("Failed to create assignment. Please try again.", "error");
            }
        });
       
        // --- Math Bullseye Game Integration ---
       
        // Game configuration
        const WIDTH = 900;
        const HEIGHT = 720;
        const FPS = 60;
        const TIME_LIMIT = 45; // seconds
        const LIVES_START = 3;
        const OPTION_RADIUS = 40;
        const TARGET_CENTER = { x: WIDTH / 2, y: HEIGHT / 2 + 30 };
        const RING_RADII = [170, 120, 80, 40];
       
        // Colors
        const RING_COLORS = ['#dc143c', '#ff8c00', '#ffd700', '#228b22'];
        const RING_BORDER = '#282828';
        const OPTION_FILL = '#2064c8';
        const OPTION_BORDER = '#f5c83c';
        const HOVER_BORDER = '#ffffff';
        const FEEDBACK_POS_COLOR = '#1ec878';
        const FEEDBACK_NEG_COLOR = '#dc3232';
       
        // Audio
        let audioContext = null;
        let clickOscillator, winOscillator;

        // Initialize canvas and context
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        canvas.width = WIDTH;
        canvas.height = HEIGHT;

        // Game state
        let game = {};
        let lastTime = 0;
        let running = false;
        let mousePos = { x: 0, y: 0 };
        let leaderboard = [];

        // Game UI elements
        const gameOverScreen = document.getElementById('game-over-screen');
        const finalScoreText = document.getElementById('final-score');
        const leaderboardList = document.getElementById('leaderboard-list');

        function initAudio() {
            if (!audioContext) {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
            }
            // Simple audio synthesis to avoid external files
            clickOscillator = audioContext.createOscillator();
            clickOscillator.type = 'sine';
            clickOscillator.frequency.value = 250;
            clickOscillator.start();

            winOscillator = audioContext.createOscillator();
            winOscillator.type = 'sine';
            winOscillator.frequency.value = 520;
            winOscillator.start();
        }

        function playClickSound() {
            if (!audioContext) return;
            const gainNode = audioContext.createGain();
            gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 0.1);
            clickOscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            setTimeout(() => {
                gainNode.disconnect();
                clickOscillator.disconnect();
                initAudio();
            }, 100);
        }

        function playWinSound() {
            if (!audioContext) return;
            const gainNode = audioContext.createGain();
            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 0.5);
            winOscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            setTimeout(() => {
                gainNode.disconnect();
                winOscillator.disconnect();
                initAudio();
            }, 500);
        }

        // Utility functions
        function saveScore(score) {
            try {
                let scores = JSON.parse(localStorage.getItem('mathBullseyeScores')) || [];
                scores.push(score);
                scores.sort((a, b) => b - a);
                localStorage.setItem('mathBullseyeScores', JSON.stringify(scores));
            } catch (e) {
                console.error("Could not save score to localStorage:", e);
            }
        }

        function loadTopScores(n = 5) {
            try {
                let scores = JSON.parse(localStorage.getItem('mathBullseyeScores')) || [];
                scores.sort((a, b) => b - a);
                leaderboard = scores.slice(0, n);
            } catch (e) {
                console.error("Could not load scores from localStorage:", e);
                leaderboard = [];
            }
        }

        function circlePointCollision(circle, point) {
            const dx = point.x - circle.x;
            const dy = point.y - circle.y;
            return Math.sqrt(dx * dx + dy * dy) < circle.radius;
        }

        // Game drawing
        function drawTarget() {
            ctx.clearRect(0, 0, WIDTH, HEIGHT);
            ctx.fillStyle = '#121212';
            ctx.fillRect(0, 0, WIDTH, HEIGHT);
           
            const { x, y } = TARGET_CENTER;
            RING_RADII.forEach((r, i) => {
                ctx.beginPath();
                ctx.arc(x, y, r, 0, 2 * Math.PI);
                ctx.fillStyle = RING_COLORS[i];
                ctx.fill();
                ctx.strokeStyle = RING_BORDER;
                ctx.lineWidth = 4;
                ctx.stroke();
                ctx.closePath();
            });
        }

        function generateQuestion() {
            const a = Math.floor(Math.random() * 12) + 1;
            const b = Math.floor(Math.random() * 12) + 1;
            const ops = ['+', '-', '*'];
            const op = ops[Math.floor(Math.random() * ops.length)];
            let ans;

            if (op === '+') ans = a + b;
            else if (op === '-') ans = a - b;
            else ans = a * b;

            const qText = `${a} ${op} ${b} = ?`;
            const opts = [ans];
           
            while (opts.length < 3) {
                const delta = Math.floor(Math.random() * 6) + 1;
                const sign = Math.random() < 0.5 ? 1 : -1;
                const candidate = ans + sign * delta;
                if (!opts.includes(candidate) && candidate > -100 && candidate < 100) {
                    opts.push(candidate);
                }
            }
            opts.sort(() => Math.random() - 0.5);

            const chosenRadii = [RING_RADII[0], RING_RADII[1], RING_RADII[2]];
            const baseAngle = Math.random() * 2 * Math.PI;
            const positions = [];
            for (let i = 0; i < chosenRadii.length; i++) {
                const angle = baseAngle + i * (2 * Math.PI / 3);
                const r = chosenRadii[i] + 40; // Position options outside the bullseye
                const x = TARGET_CENTER.x + r * Math.cos(angle);
                const y = TARGET_CENTER.y + r * Math.sin(angle);
                positions.push({ x: x, y: y });
            }
           
            return {
                qText,
                answer: ans,
                options: opts.map((value, i) => ({
                    value,
                    pos: positions[i],
                    radius: OPTION_RADIUS,
                    isHover: false,
                    flashTimer: 0,
                    flashColor: null
                }))
            };
        }

        function drawOptions() {
            game.options.forEach(option => {
                ctx.beginPath();
                ctx.arc(option.pos.x, option.pos.y, option.radius, 0, 2 * Math.PI);
                ctx.fillStyle = OPTION_FILL;
                ctx.fill();
                ctx.strokeStyle = option.isHover ? HOVER_BORDER : OPTION_BORDER;
                ctx.lineWidth = option.isHover ? 6 : 4;
                if (option.flashTimer > 0) {
                    ctx.strokeStyle = option.flashColor;
                    ctx.lineWidth = 6;
                }
                ctx.stroke();
                ctx.closePath();

                ctx.font = '700 44px Inter, sans-serif';
                ctx.fillStyle = 'white';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillText(option.value, option.pos.x, option.pos.y);
            });
        }

        function drawUI() {
            // Question
            ctx.font = '700 44px Inter, sans-serif';
            ctx.fillStyle = 'white';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'top';
            ctx.fillText(game.question.qText, WIDTH / 2, 30);

            // Status
            ctx.font = '700 26px Inter, sans-serif';
            ctx.textAlign = 'left';
            ctx.fillText(`Score: ${game.score}`, 20, 18);
            ctx.fillText(`Lives: ${game.lives}`, 20, 48);

            // Timer
            const elapsed = (Date.now() - game.startTime) / 1000;
            const timeLeft = Math.max(0, TIME_LIMIT - elapsed);
            ctx.textAlign = 'right';
            ctx.fillText(`Time: ${Math.round(timeLeft)}s`, WIDTH - 20, 18);

            const barW = WIDTH - 240;
            const barH = 16;
            const barX = 120;
            const barY = 100;
            ctx.fillStyle = '#f0f0f0';
            ctx.beginPath();
            ctx.roundRect(barX, barY, barW, barH, 8);
            ctx.fill();
            ctx.fillStyle = '#3cb371';
            ctx.beginPath();
            ctx.roundRect(barX, barY, barW * (timeLeft / TIME_LIMIT), barH, 8);
            ctx.fill();
            ctx.strokeStyle = '#505050';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.roundRect(barX, barY, barW, barH, 8);
            ctx.stroke();
           
            return timeLeft;
        }

        function drawFeedback() {
            if (game.feedbackTimer > 0) {
                const scale = 1.0 + 0.6 * (game.feedbackTimer / 0.9);
                const fontSize = 36 * scale;
                ctx.font = `700 ${fontSize}px Inter, sans-serif`;
                ctx.fillStyle = game.feedbackColor;
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
               
                // Draw shadow
                ctx.globalAlpha = 0.5;
                ctx.fillStyle = 'black';
                ctx.fillText(game.feedbackText, WIDTH / 2 + 3, 160 + 3);
               
                // Draw text
                ctx.globalAlpha = 1.0;
                ctx.fillStyle = game.feedbackColor;
                ctx.fillText(game.feedbackText, WIDTH / 2, 160);
            }
        }
       
        function showGameOverScreen() {
            loadTopScores();
           
            finalScoreText.textContent = `Your Score: ${game.score}`;
           
            leaderboardList.innerHTML = '';
            leaderboard.forEach((score, index) => {
                const li = document.createElement('li');
                li.textContent = `${index + 1}. ${score}`;
                li.classList.add('flex', 'justify-between');
                if (index < 3) {
                    li.classList.add('top-3');
                    if (index === 0) li.style.color = '#ffc400';
                    if (index === 1) li.style.color = '#c0c0c0';
                    if (index === 2) li.style.color = '#cd7f32';
                }
                leaderboardList.appendChild(li);
            });

            gameOverScreen.style.display = 'flex';
        }

        function hideGameOverScreen() {
            gameOverScreen.style.display = 'none';
        }

        // Main game loop
        function gameLoop(timestamp) {
            if (!running) return;

            const dt = (timestamp - lastTime) / 1000;
            lastTime = timestamp;

            if (game.state === 'playing') {
                drawTarget();
                drawOptions();
                drawUI();
                drawFeedback();

                // Update timers
                game.options.forEach(option => {
                    if (option.flashTimer > 0) {
                        option.flashTimer = Math.max(0, option.flashTimer - dt);
                    }
                });
               
                if (game.feedbackTimer > 0) {
                    game.feedbackTimer = Math.max(0, game.feedbackTimer - dt);
                }

                if (game.pendingNext) {
                    game.pendingTimer = Math.max(0, game.pendingTimer - dt);
                    if (game.pendingTimer <= 0) {
                        const timeLeft = TIME_LIMIT - (Date.now() - game.startTime) / 1000;
                        if (game.lives <= 0 || timeLeft <= 0) {
                            game.state = 'game_over';
                            saveScore(game.score);
                            showGameOverScreen();
                        } else {
                            resetQuestion();
                        }
                        game.pendingNext = false;
                    }
                }
            }
           
            requestAnimationFrame(gameLoop);
        }

        function resetQuestion() {
            const { qText, answer, options } = generateQuestion();
            game.question = { qText, answer };
            game.options = options;
            game.feedbackText = '';
            game.feedbackTimer = 0;
            game.pendingNext = false;
            game.pendingTimer = 0; // Reset this too
        }

        function resetGame() {
            game = {
                score: 0,
                lives: LIVES_START,
                startTime: Date.now(),
                state: 'playing',
                feedbackText: '',
                feedbackTimer: 0,
                feedbackColor: null,
                pendingNext: false,
                pendingTimer: 0
            };
            resetQuestion();
            hideGameOverScreen();
            running = true;
        }

        // Event listeners for game start and quit
        document.getElementById('math-bullseye-card').addEventListener('click', () => {
            document.getElementById('student-dashboard').classList.add('hidden');
            document.getElementById('math-game-modal').classList.remove('hidden');
            document.getElementById('math-game-modal').classList.add('flex');
            initAudio();
            resetGame();
            requestAnimationFrame(gameLoop);
        });

        document.getElementById('play-again-btn').addEventListener('click', () => {
            resetGame();
        });

        document.getElementById('quit-btn').addEventListener('click', () => {
            running = false;
            document.getElementById('math-game-modal').classList.remove('flex');
            document.getElementById('math-game-modal').classList.add('hidden');
            document.getElementById('student-dashboard').classList.remove('hidden');
            initStudentDashboard(); // Re-render the dashboard state
        });
       
        // Game interaction listeners
        canvas.addEventListener('mousemove', (event) => {
            if (!running || game.state !== 'playing' || game.pendingNext) return;
            const rect = canvas.getBoundingClientRect();
            mousePos.x = event.clientX - rect.left;
            mousePos.y = event.clientY - rect.top;
           
            game.options.forEach(option => {
                option.isHover = circlePointCollision(
                    { x: option.pos.x, y: option.pos.y, radius: option.radius },
                    mousePos
                );
            });
        });

        canvas.addEventListener('click', (event) => {
            if (game.state !== 'playing' || game.pendingNext) return;
           
            for (const option of game.options) {
                if (circlePointCollision({ x: option.pos.x, y: option.pos.y, radius: option.radius }, mousePos)) {
                    playClickSound();
                   
                    if (option.value === game.question.answer) {
                        game.score++;
                        option.flashTimer = 0.6;
                        option.flashColor = FEEDBACK_POS_COLOR;
                        game.feedbackText = 'Correct!';
                        game.feedbackColor = FEEDBACK_POS_COLOR;
                        game.feedbackTimer = 0.9;
                        playWinSound();
                    } else {
                        game.lives--;
                        option.flashTimer = 0.6;
                        option.flashColor = FEEDBACK_NEG_COLOR;
                        game.feedbackText = 'Wrong! -1 Life';
                        game.feedbackColor = FEEDBACK_NEG_COLOR;
                        game.feedbackTimer = 0.9;
                    }
                    game.pendingNext = true;
                    game.pendingTimer = 0.55;
                    break;
                }
            }
        });
       
        // --- Puzzle Mania Game Integration ---
        const puzzleManiaModal = document.getElementById('puzzle-mania-modal');
        const puzzleManiaCard = document.getElementById('puzzle-mania-card');
        const gameBoard = document.getElementById('game-board');
        const startButton = document.getElementById('start-button');
        const quitGameButton = document.getElementById('quit-game-btn');
        const gameStatus = document.getElementById('game-status');
        const movesCounter = document.getElementById('moves-counter');

        let cards = [];
        let flippedCards = [];
        let matchedPairs = 0;
        let moves = 0;
        let lockBoard = false;

        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function createBoard() {
            gameBoard.innerHTML = '';
            const emojis = ['üçâ', 'ü•≠', 'üöú', 'üå±', 'üíß', '‚òÄÔ∏è', 'üêÑ', 'üè°', 'üåæ', 'üå∏'];
            const gameEmojis = shuffle(emojis.slice(0, 6).concat(emojis.slice(0, 6)));
           
            gameEmojis.forEach((emoji, index) => {
                const card = document.createElement('div');
                card.classList.add('card');
                card.dataset.emoji = emoji;
                card.dataset.index = index;
                card.innerHTML = `
                    <div class="card-inner">
                        <div class="card-front"></div>
                        <div class="card-back">${emoji}</div>
                    </div>
                `;
                card.addEventListener('click', flipCard);
                gameBoard.appendChild(card);
            });
        }
       
        function flipCard() {
            if (lockBoard || this === flippedCards[0] || this.classList.contains('flipped')) return;

            this.classList.add('flipped');
            flippedCards.push(this);
            moves++;
            movesCounter.textContent = `Moves: ${moves}`;

            if (flippedCards.length === 2) {
                lockBoard = true;
                checkForMatch();
            }
        }

        function checkForMatch() {
            const [firstCard, secondCard] = flippedCards;
            const isMatch = firstCard.dataset.emoji === secondCard.dataset.emoji;

            if (isMatch) {
                disableCards(firstCard, secondCard);
                matchedPairs++;
                if (matchedPairs === 6) {
                    setTimeout(() => {
                        gameStatus.textContent = 'You won! üéâ';
                        quitGameButton.classList.remove('hidden');
                        // Add XP logic here
                        showMessage(`Congratulations! You earned 50 XP!`, 'success');
                    }, 1000);
                }
            } else {
                unflipCards();
            }
        }

        function disableCards(card1, card2) {
            card1.removeEventListener('click', flipCard);
            card2.removeEventListener('click', flipCard);
            card1.classList.add('matched');
            card2.classList.add('matched');
            resetBoard();
        }

        function unflipCards() {
            setTimeout(() => {
                flippedCards[0].classList.remove('flipped');
                flippedCards[1].classList.remove('flipped');
                resetBoard();
            }, 1000);
        }

        function resetBoard() {
            [flippedCards, lockBoard] = [[], false];
        }

        function startGame() {
            moves = 0;
            matchedPairs = 0;
            movesCounter.textContent = 'Moves: 0';
            gameStatus.textContent = 'Find the matching pairs!';
            quitGameButton.classList.add('hidden');
            createBoard();
        }

        puzzleManiaCard.addEventListener('click', () => {
            document.getElementById('student-dashboard').classList.add('hidden');
            puzzleManiaModal.classList.remove('hidden');
            puzzleManiaModal.classList.add('flex');
            startGame();
        });

        startButton.addEventListener('click', () => {
            startGame();
        });

        quitGameButton.addEventListener('click', () => {
            puzzleManiaModal.classList.add('hidden');
            puzzleManiaModal.classList.remove('flex');
            document.getElementById('student-dashboard').classList.remove('hidden');
            initStudentDashboard(); // Re-render the dashboard state
        });
       
        // Event listeners and logic for the newly added student dashboard sections
        document.addEventListener('DOMContentLoaded', () => {
            const markAttendanceBtn = document.getElementById('markAttendanceBtn');
            const attendanceAnimationOverlay = document.getElementById('attendanceAnimationOverlay');
            const animatedMonkey = document.getElementById('animatedMonkey');
            const monkeyMessage = document.getElementById('monkeyMessage');
            const homeworkHelpBtns = document.querySelectorAll('.homework-help-btn');
            const homeworkHelpModal = document.getElementById('homeworkHelpModal');
            const homeworkHelpContent = document.getElementById('homeworkHelpContent');
            const closeHomeworkHelpBtn = document.getElementById('closeHomeworkHelpBtn');
            const listenHelpBtn = document.getElementById('listenHelpBtn');
            const storyMaker = document.getElementById('storyMaker');
            const storyMakerModal = document.getElementById('storyMakerModal');
            const closeStoryMakerBtn = document.getElementById('closeStoryMakerBtn');
            const storyWordInput = document.getElementById('storyWordInput');
            const generateStoryBtn = document.getElementById('generateStoryBtn');
            const storyResult = document.getElementById('storyResult');
            const visualizeStoryBtn = document.getElementById('visualizeStoryBtn');
            const storyImageResult = document.getElementById('storyImageResult');
            const curiousQuestionInput = document.getElementById('curious-question-input');
            const askCuriousQuestionBtn = document.getElementById('ask-curious-question-btn');
            const curiousAnswer = document.getElementById('curious-answer');

            // Attendance Animation
            if (markAttendanceBtn) {
                markAttendanceBtn.addEventListener('click', () => {
                    markAttendanceBtn.disabled = true;
                    if (attendanceAnimationOverlay) {
                        attendanceAnimationOverlay.classList.remove('hidden');
                        attendanceAnimationOverlay.classList.add('flex');
                    }
                    if (animatedMonkey) {
                        animatedMonkey.classList.add('animate-fall');
                    }
                });
            }

            if (animatedMonkey) {
                animatedMonkey.addEventListener('animationend', (event) => {
                    if (event.animationName === 'fall-down') {
                        monkeyMessage.classList.remove('opacity-0');
                        setTimeout(() => {
                            monkeyMessage.classList.add('opacity-0');
                            animatedMonkey.classList.remove('animate-fall');
                            animatedMonkey.classList.add('animate-rise');
                        }, 1500);
                    } else if (event.animationName === 'go-up') {
                        if (attendanceAnimationOverlay) {
                            attendanceAnimationOverlay.classList.add('hidden');
                            attendanceAnimationOverlay.classList.remove('flex');
                        }
                        animatedMonkey.classList.remove('animate-rise');
                        showMessage('Attendance Confirmed!', `You have successfully marked your attendance.`);
                        if (markAttendanceBtn) markAttendanceBtn.disabled = false;
                    }
                });
            }

            // Homework Help
            if (homeworkHelpBtns) {
                homeworkHelpBtns.forEach(btn => {
                    btn.addEventListener('click', async () => {
                        if (currentAudio) currentAudio.pause();
                        if (listenHelpBtn) {
                            listenHelpBtn.classList.add('hidden');
                            listenHelpBtn.classList.remove('audio-btn-playing');
                        }
                        const topic = btn.dataset.homework;
                        if (homeworkHelpModal) {
                            homeworkHelpModal.classList.remove('hidden');
                            homeworkHelpModal.classList.add('flex');
                        }
                        if (homeworkHelpContent) {
                            homeworkHelpContent.innerHTML = '<div class="flex justify-center items-center"><div class="spinner w-8 h-8 border-4 rounded-full"></div></div>';
                        }
                        const prompt = `You are a friendly and encouraging tutor for a young student in a rural part of India (class 1-8). Explain the following topic in very simple, easy-to-understand English. Use short sentences and a simple analogy if possible. Topic: ${topic}`;
                        const response = await callGeminiText(prompt);
                        if (homeworkHelpContent) {
                            homeworkHelpContent.innerHTML = response.replace(/\n/g, '<br>');
                        }
                        if (listenHelpBtn) {
                            listenHelpBtn.classList.remove('hidden');
                        }
                    });
                });
            }

            if (listenHelpBtn) {
                listenHelpBtn.addEventListener('click', async () => {
                    if (currentAudio && !currentAudio.paused) {
                        currentAudio.pause(); return;
                    }
                    const text = homeworkHelpContent.innerText;
                    if (!text) return;
                    listenHelpBtn.disabled = true;
                    listenHelpBtn.innerHTML = 'Loading Audio...';
                    const audioUrl = await callGeminiTTS(`Say this in a helpful and clear voice: ${text}`);
                    listenHelpBtn.disabled = false;
                    listenHelpBtn.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-volume-up-fill" viewBox="0 0 16 16"><path d="M11.536 14.01A8.47 8.47 0 0 0 14.026 8a8.47 8.47 0 0 0-2.49-6.01l-1.414 1.414A6.47 6.47 0 0 1 12.025 8a6.47 6.47 0 0 1-1.903 4.596z"/><path d="M10.121 12.596A6.47 6.47 0 0 0 12.025 8a6.47 6.47 0 0 0-1.904-4.596l-1.414 1.414A4.47 4.47 0 0 1 10.025 8a4.47 4.47 0 0 1-1.318 3.182z"/><path d="M8.707 11.182A2.47 2.47 0 0 0 9.025 8a2.47 2.47 0 0 0-.318-1.182L8.707 5.404A4.47 4.47 0 0 1 10.025 8a4.47 4.47 0 0 1-1.318 3.182zM4.252 0C2.42 0 1 1.42 1 3.252v9.496C1 14.58 2.42 16 4.252 16h1.598a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1zm-1.5 4.5A1.5 1.5 0 0 1 4.252 3h1.5a1.5 1.5 0 0 1 0 3h-1.5A1.5 1.5 0 0 1 2.752 4.5"/></svg> Listen to explanation`;
                    if (audioUrl) {
                        currentAudio = new Audio(audioUrl);
                        currentAudio.play();
                        listenHelpBtn.classList.add('audio-btn-playing');
                        currentAudio.onended = () => listenHelpBtn.classList.remove('audio-btn-playing');
                        currentAudio.onpause = () => listenHelpBtn.classList.remove('audio-btn-playing');
                    }
                });
            }

            if (closeHomeworkHelpBtn) {
                closeHomeworkHelpBtn.addEventListener('click', () => {
                    if (currentAudio) currentAudio.pause();
                    homeworkHelpModal.classList.remove('flex');
                    homeworkHelpModal.classList.add('hidden');
                });
            }

            // Story Maker
            if (storyMaker) {
                storyMaker.addEventListener('click', () => {
                    if (storyMakerModal) {
                        storyMakerModal.classList.remove('hidden');
                        storyMakerModal.classList.add('flex');
                    }
                });
            }

            if (closeStoryMakerBtn) {
                closeStoryMakerBtn.addEventListener('click', () => {
                    if (storyMakerModal) {
                        storyMakerModal.classList.remove('flex');
                        storyMakerModal.classList.add('hidden');
                    }
                });
            }

            if (generateStoryBtn) {
                generateStoryBtn.addEventListener('click', async () => {
                    const word = storyWordInput.value.trim();
                    if (!word) {
                        if (storyResult) storyResult.textContent = 'Please enter a word first!';
                        return;
                    }
                    generateStoryBtn.disabled = true;
                    if (visualizeStoryBtn) visualizeStoryBtn.classList.add('hidden');
                    if (storyImageResult) storyImageResult.innerHTML = '';
                    if (storyResult) storyResult.innerHTML = '<div class="flex justify-center items-center"><div class="loader-book">üìñ</div></div>';
                   
                    const prompt = `You are a creative storyteller for a child in India (ages 6-14). Write a short, imaginative story starter (2-3 paragraphs) based on this single word: "${word}". Make it interesting and end it in a way that makes the reader wonder what happens next.`;
                    const response = await callGeminiText(prompt);
                    if (storyResult) storyResult.innerHTML = response.replace(/\n/g, '<br>');
                    generateStoryBtn.disabled = false;
                    if (visualizeStoryBtn) visualizeStoryBtn.classList.remove('hidden');
                });
            }

            if (visualizeStoryBtn) {
                visualizeStoryBtn.addEventListener('click', async () => {
                    const storyText = storyResult.innerText;
                    if (!storyText) return;
                    visualizeStoryBtn.disabled = true;
                    storyImageResult.innerHTML = '<div class="flex justify-center items-center"><div class="spinner w-8 h-8 border-4 rounded-full"></div></div>';
                    const imagePrompt = `A vibrant, colorful, and cheerful illustration for a children's storybook, in a simple, friendly art style. The scene is: ${storyText}`;
                    const base64Data = await callImagen(imagePrompt);
                    if (base64Data) {
                        storyImageResult.innerHTML = `<img src="data:image/png;base64,${base64Data}" alt="Visualization of the story" class="rounded-lg object-cover w-full h-full">`;
                    } else {
                        storyImageResult.innerHTML = '<p class="text-center text-red-500">Could not create an image.</p>';
                    }
                    visualizeStoryBtn.disabled = false;
                });
            }

            // Curious Corner
            if (askCuriousQuestionBtn) {
                askCuriousQuestionBtn.addEventListener('click', async () => {
                    const question = curiousQuestionInput.value.trim();
                    if (!question) {
                        if (curiousAnswer) {
                            curiousAnswer.classList.remove('hidden');
                            curiousAnswer.textContent = 'Please type a question first.';
                        }
                        return;
                    }
                    if (curiousAnswer) curiousAnswer.classList.remove('hidden');
                    if (curiousAnswer) curiousAnswer.innerHTML = '<div class="flex justify-center items-center"><div class="loader-thinking">ü§î</div></div>';
                    askCuriousQuestionBtn.disabled = true;

                    const prompt = `You are an AI teacher for a young student in rural India (class 1-8). Answer the following question in very simple, short sentences. Use an easy-to-understand analogy if it helps. Question: ${question}`;
                    const response = await callGeminiText(prompt);
                    if (curiousAnswer) curiousAnswer.innerHTML = response.replace(/\n/g, '<br>');
                    askCuriousQuestionBtn.disabled = false;
                });
            }
        });
    </script>
</body>
</html>
